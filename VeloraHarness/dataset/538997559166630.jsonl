{"instance_id": "538997559166630", "repo": "covjson/covjson-validator", "base_commit": "3a5a5fc27221530242e57fdd543ca752aca00e82", "problem_statement": "Use allOf / if-then clauses to deal with multiple axis types?:\\n@letmaik it seems from your recent improvements that the use of `allOf` together with `if`-`then` clauses leads to more understandable error messages than the use of `oneOf`. Would this be a fair statement?\\r\\n\\r\\nIf so, can you see a way of improving the validation of the different kinds of axis? (e.g. `anyAxis.json` includes a `oneOf` clause referencing the numeric, string, tuple and polygon axis types)", "FAIL_TO_PASS": ["test/test_axis.py::test_tuple_axis_with_mistyped_data_type"], "PASS_TO_PASS": ["test/test_parameter.py::test_valid_continuous_parameter", "test/test_axis.py::test_axis_with_mixed_type_values", "test/test_axis.py::test_empty_values_array", "test/test_axis.py::test_time_axis", "test/test_domain.py::test_missing_type", "test/test_axis.py::test_missing_num", "test/test_axis.py::test_axis_with_string_array", "test/test_referenceSystemConnection.py::test_invalid_coordinates_type", "test/test_axis.py::test_empty_tuple", "test/test_domain.py::test_valid_custom_domain", "test/test_referenceSystem.py::test_geographic_rs", "test/test_referenceSystemConnection.py::test_empty_coordinates", "test/test_unit.py::test_no_label_or_symbol", "test/test_parameter.py::test_nonunique_category_encoding", "test/test_axis.py::test_polygon_axis_empty_coordinates", "test/test_axis.py::test_negative_num", "test/test_axis.py::test_invalid_tuple_value", "test/test_referenceSystem.py::test_projected_rs", "test/test_referenceSystemConnection.py::test_valid_rsc", "test/test_axis.py::test_missing_stop", "test/test_parameter.py::test_minimal_continuous_parameter", "test/test_axis.py::test_polygon_axis_missing_coordinates_array", "test/test_axis.py::test_nearly_duplicate_polygon_value", "test/test_domain.py::test_valid_trajectory_domain", "test/test_axis.py::test_values_in_regular_axis", "test/test_axis.py::test_valid_regular_axis", "test/test_parameter.py::test_no_type", "test/test_axis.py::test_axis_with_polygons_array", "test/test_domain.py::test_missing_axes", "test/test_axis.py::test_primitive_axis_with_data_type", "test/test_axis.py::test_empty_tuples_array", "test/test_i18n.py::test_valid_i18n_object", "test/test_axis.py::test_axis_with_number_array", "test/test_axis.py::test_duplicate_polygon_value", "test/test_domain.py::test_wrong_domain_type", "test/test_axis.py::test_empty_polygon_array", "test/test_axis.py::test_invalid_stop", "test/test_axis.py::test_invalid_tuples_axis", "test/test_axis.py::test_axis_with_tuples_array", "test/test_parameter.py::test_valid_categorical_parameter", "test/test_domain.py::test_wrong_x_axis_type_with_no_domain_type", "test/test_unit.py::test_unit_with_label_only", "test/test_parameter.py::test_minimal_categorical_parameter", "test/test_referenceSystem.py::test_vertical_rs", "test/test_unit.py::test_unit_with_label_and_symbol", "test/test_unit.py::test_unit_with_symbol_string", "test/test_parameter.py::test_noninteger_category_encoding", "test/test_parameter.py::test_wrong_type", "test/test_unit.py::test_unit_with_typed_symbol", "test/test_axis.py::test_nonunique_numeric_array", "test/test_observedProperty.py::test_categorical_observed_property", "test/test_domain.py::test_misspelled_type", "test/test_axis.py::test_polygon_axis_with_invalid_coordinate_pair", "test/test_referenceSystem.py::test_missing_type", "test/test_axis.py::test_invalid_start", "test/test_referenceSystemConnection.py::test_missing_coordinates", "test/test_observedProperty.py::test_empty_categories", "test/test_i18n.py::test_invalid_i18n_object", "test/test_axis.py::test_tuples_axis_missing_coordinates", "test/test_axis.py::test_duplicate_tuple_value", "test/test_referenceSystemConnection.py::test_invalid_system", "test/test_axis.py::test_axis_with_inconsistent_bounds_type", "test/test_domain.py::test_valid_anonymous_domain", "test/test_referenceSystem.py::test_missing_calendar", "test/test_domain.py::test_missing_x_axis", "test/test_observedProperty.py::test_valid_minimal_observed_property", "test/test_axis.py::test_tuples_axis_empty_coordinates", "test/test_axis.py::test_invalid_polygons_axis", "test/test_axis.py::test_nonunique_times_array", "test/test_referenceSystem.py::test_minimal_temporal_rs", "test/test_domain.py::test_valid_grid_domain", "test/test_axis.py::test_invalid_num", "test/test_observedProperty.py::test_invalid_label", "test/test_domain.py::test_extra_grid_axis", "test/test_axis.py::test_axis_with_bounds", "test/test_observedProperty.py::test_missing_label", "test/test_referenceSystemConnection.py::test_missing_system", "test/test_observedProperty.py::test_non_array_categories", "test/test_axis.py::test_time_axis_with_bounds", "test/test_unit.py::test_unit_with_typed_symbol_missing_type", "test/test_domain.py::test_wrong_x_axis_type", "test/test_observedProperty.py::test_invalid_description", "test/test_observedProperty.py::test_continuous_observed_property", "test/test_unit.py::test_unit_with_typed_symbol_missing_value", "test/test_domain.py::test_missing_y_axis", "test/test_axis.py::test_missing_start", "test/test_axis.py::test_missing_value_in_tuple"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/covjson_covjson-validator:3a5a5fc27221530242e57fdd543ca752aca00e82", "patch": "[\"diff --git a/schemas/anyAxis.json b/schemas/anyAxis.json\\nindex 6d1a964..58789d8 100644\\n--- a/schemas/anyAxis.json\\n+++ b/schemas/anyAxis.json\\n@@ -1,11 +1,7 @@\\n {\\n     \\\"$id\\\": \\\"/schemas/anyAxis\\\",\\n     \\\"description\\\" : \\\"Validates any axis\\\",\\n-    \\\"oneOf\\\" :\\n-    [\\n-        { \\\"$ref\\\" : \\\"/schemas/numericAxis\\\" },\\n-        { \\\"$ref\\\" : \\\"/schemas/stringAxis\\\" },\\n-        { \\\"$ref\\\" : \\\"/schemas/tupleAxis\\\" },\\n-        { \\\"$ref\\\" : \\\"/schemas/polygonAxis\\\" }\\n-    ]\\n+    \\\"if\\\" : { \\\"required\\\" : [ \\\"values\\\" ] },\\n+    \\\"then\\\": { \\\"$ref\\\": \\\"/schemas/valuesAxis\\\"  },\\n+    \\\"else\\\": { \\\"$ref\\\": \\\"/schemas/numericRegularlySpacedAxis\\\" }\\n }\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/domain.json b/schemas/domain.json\\nindex 471a766..c1d1bec 100644\\n--- a/schemas/domain.json\\n+++ b/schemas/domain.json\\n@@ -42,7 +42,7 @@\\n                                     \\\"x\\\" : { \\\"$ref\\\" : \\\"/schemas/numericAxis\\\" },\\n                                     \\\"y\\\" : { \\\"$ref\\\" : \\\"/schemas/numericAxis\\\" },\\n                                     \\\"z\\\" : { \\\"$ref\\\" : \\\"/schemas/numericAxis\\\" },\\n-                                    \\\"t\\\" : { \\\"$ref\\\" : \\\"/schemas/stringAxis\\\" }\\n+                                    \\\"t\\\" : { \\\"$ref\\\" : \\\"/schemas/stringValuesAxis\\\" }\\n                                 },\\n                                 \\\"required\\\" : [ \\\"x\\\", \\\"y\\\" ],\\n                                 \\\"additionalProperties\\\" : false\\n@@ -61,7 +61,7 @@\\n                             {\\n                                 \\\"properties\\\" :\\n                                 {\\n-                                    \\\"composite\\\" : { \\\"$ref\\\" : \\\"/schemas/tupleAxis\\\" },\\n+                                    \\\"composite\\\" : { \\\"$ref\\\" : \\\"/schemas/tupleValuesAxis\\\" },\\n                                     \\\"z\\\" : { \\\"$ref\\\" : \\\"/schemas/numericAxis\\\" }\\n                                 },\\n                                 \\\"required\\\" : [ \\\"composite\\\" ],\\n\",\"diff --git a/schemas/numericAxis.json b/schemas/numericAxis.json\\nindex a46e69c..8b57684 100644\\n--- a/schemas/numericAxis.json\\n+++ b/schemas/numericAxis.json\\n@@ -1,45 +1,7 @@\\n {\\n     \\\"$id\\\": \\\"/schemas/numericAxis\\\",\\n     \\\"description\\\" : \\\"Simple axis with numeric values\\\",\\n-    \\\"oneOf\\\" :\\n-    [\\n-        {\\n-            \\\"description\\\" : \\\"A regularly-spaced numeric axis\\\",\\n-            \\\"properties\\\" :\\n-            {\\n-                \\\"start\\\" : { \\\"type\\\" : \\\"number\\\" },\\n-                \\\"stop\\\" : { \\\"type\\\" : \\\"number\\\" },\\n-                \\\"num\\\" :\\n-                {\\n-                    \\\"type\\\" : \\\"integer\\\",\\n-                    \\\"minimum\\\" : 1\\n-                }\\n-            },\\n-            \\\"required\\\" : [ \\\"start\\\", \\\"stop\\\", \\\"num\\\" ],\\n-            \\\"additionalProperties\\\" : false\\n-        },\\n-        {\\n-            \\\"description\\\" : \\\"Axis defined by list of numeric axis values and optional bounds\\\",\\n-            \\\"properties\\\" :\\n-            {\\n-                \\\"dataType\\\" : { \\\"const\\\" : \\\"primitive\\\" },\\n-                \\\"values\\\" :\\n-                {\\n-                    \\\"type\\\" : \\\"array\\\",\\n-                    \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" },\\n-                    \\\"minItems\\\" : 1,\\n-                    \\\"uniqueItems\\\" : true\\n-                },\\n-                \\\"bounds\\\" :\\n-                {\\n-                    \\\"description\\\" : \\\"Optional axis bounds. Must be twice as long (and same data type) as \\\\\\\"values\\\\\\\"\\\",\\n-                    \\\"type\\\" : \\\"array\\\",\\n-                    \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" },\\n-                    \\\"minItems\\\" : 2\\n-                }\\n-            },\\n-            \\\"required\\\" : [ \\\"values\\\" ],\\n-            \\\"additionalProperties\\\" : false\\n-        }\\n-    ]\\n+    \\\"if\\\" : { \\\"required\\\" : [ \\\"values\\\" ] },\\n+    \\\"then\\\": { \\\"$ref\\\" : \\\"/schemas/numericValuesAxis\\\" },\\n+    \\\"else\\\": { \\\"$ref\\\" : \\\"/schemas/numericRegularlySpacedAxis\\\" }\\n }\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/numericRegularlySpacedAxis.json b/schemas/numericRegularlySpacedAxis.json\\nnew file mode 100644\\nindex 0000000..93b0ee8\\n--- /dev/null\\n+++ b/schemas/numericRegularlySpacedAxis.json\\n@@ -0,0 +1,16 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/numericRegularlySpacedAxis\\\",\\n+    \\\"description\\\" : \\\"A regularly-spaced numeric axis\\\",\\n+    \\\"properties\\\" :\\n+    {\\n+        \\\"start\\\" : { \\\"type\\\" : \\\"number\\\" },\\n+        \\\"stop\\\" : { \\\"type\\\" : \\\"number\\\" },\\n+        \\\"num\\\" :\\n+        {\\n+            \\\"type\\\" : \\\"integer\\\",\\n+            \\\"minimum\\\" : 1\\n+        }\\n+    },\\n+    \\\"required\\\" : [ \\\"start\\\", \\\"stop\\\", \\\"num\\\" ],\\n+    \\\"additionalProperties\\\" : false\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/numericValuesAxis.json b/schemas/numericValuesAxis.json\\nnew file mode 100644\\nindex 0000000..a1eec0d\\n--- /dev/null\\n+++ b/schemas/numericValuesAxis.json\\n@@ -0,0 +1,21 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/numericValuesAxis\\\",\\n+    \\\"description\\\" : \\\"Axis defined by list of numeric axis values and optional bounds\\\",\\n+    \\\"allOf\\\" : [\\n+        { \\\"$ref\\\": \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"properties\\\" :\\n+            {\\n+                \\\"values\\\" :\\n+                {\\n+                    \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" }\\n+                },\\n+                \\\"bounds\\\" :\\n+                {\\n+                    \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" }\\n+                }\\n+            },\\n+            \\\"additionalProperties\\\" : false\\n+        }\\n+    ]\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/polygonAxis.json b/schemas/polygonAxis.json\\ndeleted file mode 100644\\nindex bb50dfa..0000000\\n--- a/schemas/polygonAxis.json\\n+++ /dev/null\\n@@ -1,40 +0,0 @@\\n-{\\n-    \\\"$id\\\": \\\"/schemas/polygonAxis\\\",\\n-    \\\"description\\\" : \\\"Polygon-based axis\\\",\\n-    \\\"properties\\\" :\\n-    {\\n-        \\\"dataType\\\" : { \\\"const\\\" : \\\"polygon\\\" },\\n-        \\\"values\\\" :\\n-        {\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" :\\n-            {\\n-                \\\"description\\\" : \\\"A GeoJSON polygon\\\",\\n-                \\\"type\\\" : \\\"array\\\",\\n-                \\\"items\\\" :\\n-                {\\n-                    \\\"type\\\" : \\\"array\\\",\\n-                    \\\"items\\\" :\\n-                    {\\n-                        \\\"description\\\" : \\\"The inner array: the coordinates themselves\\\",\\n-                        \\\"type\\\" : \\\"array\\\",\\n-                        \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" },\\n-                        \\\"minItems\\\" : 2\\n-                    },\\n-                    \\\"minItems\\\" : 1\\n-                },\\n-                \\\"minItems\\\" : 1\\n-            },\\n-            \\\"minItems\\\" : 1,\\n-            \\\"uniqueItems\\\" : true\\n-        },\\n-        \\\"coordinates\\\" :\\n-        {\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" },\\n-            \\\"minItems\\\" : 2\\n-        }\\n-    },\\n-    \\\"required\\\" : [ \\\"dataType\\\", \\\"values\\\", \\\"coordinates\\\" ],\\n-    \\\"additionalProperties\\\" : false\\n-}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/polygonValuesAxis.json b/schemas/polygonValuesAxis.json\\nnew file mode 100644\\nindex 0000000..8f2240f\\n--- /dev/null\\n+++ b/schemas/polygonValuesAxis.json\\n@@ -0,0 +1,37 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/polygonValuesAxis\\\",\\n+    \\\"description\\\" : \\\"Polygon-based axis\\\",\\n+    \\\"allOf\\\" : [\\n+        { \\\"$ref\\\": \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"properties\\\" :\\n+            {\\n+                \\\"dataType\\\" : { \\\"const\\\" : \\\"polygon\\\" },\\n+                \\\"values\\\" :\\n+                {\\n+                    \\\"items\\\" :\\n+                    {\\n+                        \\\"description\\\" : \\\"A GeoJSON polygon\\\",\\n+                        \\\"type\\\" : \\\"array\\\",\\n+                        \\\"items\\\" :\\n+                        {\\n+                            \\\"type\\\" : \\\"array\\\",\\n+                            \\\"items\\\" :\\n+                            {\\n+                                \\\"description\\\" : \\\"The inner array: the coordinates themselves\\\",\\n+                                \\\"type\\\" : \\\"array\\\",\\n+                                \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" },\\n+                                \\\"minItems\\\" : 2\\n+                            },\\n+                            \\\"minItems\\\" : 1\\n+                        },\\n+                        \\\"minItems\\\" : 1\\n+                    }\\n+                },\\n+                \\\"coordinates\\\": { }\\n+            },\\n+            \\\"required\\\" : [ \\\"dataType\\\", \\\"values\\\", \\\"coordinates\\\" ],\\n+            \\\"additionalProperties\\\" : false\\n+        }\\n+    ]\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/primitiveValuesAxis.json b/schemas/primitiveValuesAxis.json\\nnew file mode 100644\\nindex 0000000..1590d9e\\n--- /dev/null\\n+++ b/schemas/primitiveValuesAxis.json\\n@@ -0,0 +1,36 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/primitiveValuesAxis\\\",\\n+    \\\"description\\\" : \\\"Validates any axis with primitive values\\\",\\n+    \\\"allOf\\\" :\\n+    [\\n+        { \\\"$ref\\\" : \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"$comment\\\": \\\"This redundant branch exists to fail early with succinct errors\\\",\\n+            \\\"properties\\\" : \\n+            {\\n+                \\\"values\\\" : \\n+                {\\n+                    \\\"items\\\" :\\n+                    {\\n+                        \\\"oneOf\\\" :\\n+                        [\\n+                            { \\\"type\\\" : \\\"number\\\" },\\n+                            { \\\"type\\\" : \\\"string\\\" }\\n+                        ]\\n+                    }\\n+                }\\n+            }\\n+        },\\n+        {\\n+            \\\"if\\\" :\\n+            {\\n+                \\\"properties\\\" :\\n+                {\\n+                    \\\"values\\\" : { \\\"items\\\" : { \\\"type\\\" : \\\"number\\\" } }\\n+                }\\n+            },\\n+            \\\"then\\\": { \\\"$ref\\\" : \\\"/schemas/numericValuesAxis\\\" },\\n+            \\\"else\\\": { \\\"$ref\\\" : \\\"/schemas/stringValuesAxis\\\" }\\n+        }\\n+    ]\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/stringAxis.json b/schemas/stringAxis.json\\ndeleted file mode 100644\\nindex d555d0c..0000000\\n--- a/schemas/stringAxis.json\\n+++ /dev/null\\n@@ -1,24 +0,0 @@\\n-{\\n-    \\\"$id\\\": \\\"/schemas/stringAxis\\\",\\n-    \\\"description\\\" : \\\"Simple axis with string values (e.g. time strings)\\\",\\n-    \\\"properties\\\" :\\n-    {\\n-        \\\"dataType\\\" : { \\\"const\\\" : \\\"primitive\\\" },\\n-        \\\"values\\\" :\\n-        {\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" },\\n-            \\\"minItems\\\" : 1,\\n-            \\\"uniqueItems\\\" : true\\n-        },\\n-        \\\"bounds\\\" :\\n-        {\\n-            \\\"description\\\" : \\\"Optional axis bounds. Must be twice as long (and same data type) as \\\\\\\"values\\\\\\\"\\\",\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" },\\n-            \\\"minItems\\\" : 2\\n-        }\\n-    },\\n-    \\\"required\\\" : [ \\\"values\\\" ],\\n-    \\\"additionalProperties\\\" : false\\n-}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/stringValuesAxis.json b/schemas/stringValuesAxis.json\\nnew file mode 100644\\nindex 0000000..385860f\\n--- /dev/null\\n+++ b/schemas/stringValuesAxis.json\\n@@ -0,0 +1,21 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/stringValuesAxis\\\",\\n+    \\\"description\\\" : \\\"Simple axis with string values (e.g. time strings)\\\",\\n+    \\\"allOf\\\" : [\\n+        { \\\"$ref\\\": \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"properties\\\" :\\n+            {\\n+                \\\"values\\\" :\\n+                {\\n+                    \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" }\\n+                },\\n+                \\\"bounds\\\" :\\n+                {\\n+                    \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" }\\n+                }\\n+            },\\n+            \\\"additionalProperties\\\" : false\\n+        }\\n+    ]\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/tupleAxis.json b/schemas/tupleAxis.json\\ndeleted file mode 100644\\nindex faf852a..0000000\\n--- a/schemas/tupleAxis.json\\n+++ /dev/null\\n@@ -1,36 +0,0 @@\\n-{\\n-    \\\"$id\\\": \\\"/schemas/tupleAxis\\\",\\n-    \\\"description\\\" : \\\"Tuple-based axis\\\",\\n-    \\\"properties\\\" :\\n-    {\\n-        \\\"dataType\\\" : { \\\"const\\\" : \\\"tuple\\\" },\\n-        \\\"values\\\" :\\n-        {\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" :\\n-            {\\n-                \\\"description\\\" : \\\"A tuple of axis values (numbers or strings)\\\",\\n-                \\\"type\\\" : \\\"array\\\",\\n-                \\\"items\\\" :\\n-                {\\n-                    \\\"oneOf\\\" :\\n-                    [\\n-                        { \\\"type\\\" : \\\"number\\\" },\\n-                        { \\\"type\\\" : \\\"string\\\" }\\n-                    ]\\n-                },\\n-                \\\"minItems\\\" : 2\\n-            },\\n-            \\\"minItems\\\" : 1,\\n-            \\\"uniqueItems\\\" : true\\n-        },\\n-        \\\"coordinates\\\" :\\n-        {\\n-            \\\"type\\\" : \\\"array\\\",\\n-            \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" },\\n-            \\\"minItems\\\" : 2\\n-        }\\n-    },\\n-    \\\"required\\\" : [ \\\"dataType\\\", \\\"values\\\", \\\"coordinates\\\" ],\\n-    \\\"additionalProperties\\\" : false\\n-}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/tupleValuesAxis.json b/schemas/tupleValuesAxis.json\\nnew file mode 100644\\nindex 0000000..2666622\\n--- /dev/null\\n+++ b/schemas/tupleValuesAxis.json\\n@@ -0,0 +1,29 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/tupleValuesAxis\\\",\\n+    \\\"description\\\" : \\\"Tuple-based axis\\\",\\n+    \\\"allOf\\\" : [\\n+        { \\\"$ref\\\": \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"properties\\\" :\\n+            {\\n+                \\\"dataType\\\" : { \\\"const\\\" : \\\"tuple\\\" },\\n+                \\\"values\\\" :\\n+                {\\n+                    \\\"items\\\" :\\n+                    {\\n+                        \\\"description\\\" : \\\"A tuple of axis values (numbers or strings)\\\",\\n+                        \\\"type\\\" : \\\"array\\\",\\n+                        \\\"items\\\" :\\n+                        {\\n+                            \\\"type\\\": [ \\\"number\\\", \\\"string\\\" ]\\n+                        },\\n+                        \\\"minItems\\\" : 2\\n+                    }\\n+                },\\n+                \\\"coordinates\\\": { }\\n+            },\\n+            \\\"required\\\" : [ \\\"dataType\\\", \\\"values\\\", \\\"coordinates\\\" ],\\n+            \\\"additionalProperties\\\" : false\\n+        }\\n+]\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/valuesAxis.json b/schemas/valuesAxis.json\\nnew file mode 100644\\nindex 0000000..94aba55\\n--- /dev/null\\n+++ b/schemas/valuesAxis.json\\n@@ -0,0 +1,41 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/valuesAxis\\\",\\n+    \\\"description\\\" : \\\"Validates any values-based axis\\\",\\n+    \\\"allOf\\\" :\\n+    [\\n+        { \\\"$ref\\\": \\\"/schemas/valuesAxisBase\\\" },\\n+        {\\n+            \\\"if\\\": { \\\"not\\\": { \\\"required\\\": [ \\\"dataType\\\" ] } },\\n+            \\\"then\\\": { \\\"$ref\\\" : \\\"/schemas/primitiveValuesAxis\\\" }\\n+        }\\n+    ],\\n+    \\\"dependentSchemas\\\":\\n+    {\\n+        \\\"dataType\\\":\\n+        {\\n+            \\\"allOf\\\":\\n+            [\\n+                {\\n+                    \\\"if\\\" :\\n+                    {\\n+                        \\\"properties\\\" :\\n+                        {\\n+                            \\\"dataType\\\" : { \\\"const\\\": \\\"tuple\\\" }\\n+                        }\\n+                    },\\n+                    \\\"then\\\": { \\\"$ref\\\" : \\\"/schemas/tupleValuesAxis\\\" }\\n+                },\\n+                {\\n+                    \\\"if\\\" :\\n+                    {\\n+                        \\\"properties\\\" :\\n+                        {\\n+                            \\\"dataType\\\" : { \\\"const\\\": \\\"polygon\\\" }\\n+                        }\\n+                    },\\n+                    \\\"then\\\": { \\\"$ref\\\" : \\\"/schemas/polygonValuesAxis\\\" }\\n+                }\\n+            ]\\n+        }\\n+    }\\n+}\\n\\\\ No newline at end of file\\n\",\"diff --git a/schemas/valuesAxisBase.json b/schemas/valuesAxisBase.json\\nnew file mode 100644\\nindex 0000000..60348be\\n--- /dev/null\\n+++ b/schemas/valuesAxisBase.json\\n@@ -0,0 +1,30 @@\\n+{\\n+    \\\"$id\\\": \\\"/schemas/valuesAxisBase\\\",\\n+    \\\"$comment\\\" : \\\"Base schema for values-based axis schemas\\\",\\n+    \\\"properties\\\" :\\n+    {\\n+        \\\"dataType\\\" : {\\n+            \\\"type\\\" : \\\"string\\\",\\n+            \\\"not\\\" : { \\\"const\\\": \\\"primitive\\\" }\\n+        },\\n+        \\\"values\\\" :\\n+        {\\n+            \\\"type\\\" : \\\"array\\\",\\n+            \\\"minItems\\\" : 1,\\n+            \\\"uniqueItems\\\" : true\\n+        },\\n+        \\\"coordinates\\\" :\\n+        {\\n+            \\\"type\\\" : \\\"array\\\",\\n+            \\\"items\\\" : { \\\"type\\\" : \\\"string\\\" },\\n+            \\\"minItems\\\" : 2\\n+        },\\n+        \\\"bounds\\\" :\\n+        {\\n+            \\\"description\\\" : \\\"Optional axis bounds. Must be twice as long (and same data type) as \\\\\\\"values\\\\\\\"\\\",\\n+            \\\"type\\\" : \\\"array\\\",\\n+            \\\"minItems\\\" : 2\\n+        }\\n+    },\\n+    \\\"required\\\" : [ \\\"values\\\" ]\\n+}\\n\\\\ No newline at end of file\\n\"]", "test_patch": "[\"diff --git a/test/test_axis.py b/test/test_axis.py\\nindex 4bb4eb0..9c62d0d 100644\\n--- a/test/test_axis.py\\n+++ b/test/test_axis.py\\n@@ -56,7 +56,7 @@ def test_primitive_axis_with_data_type():\\n     ''' Tests a minimal example of a valid axis made of an array of values,\\n         with declaration of primitive data type '''\\n \\n-    axis = { \\\"dataType\\\" : \\\"primitive\\\", \\\"values\\\" : [1, 2, 3, 4, 5] }\\n+    axis = { \\\"values\\\" : [1, 2, 3, 4, 5] }\\n     VALIDATOR.validate(axis)\\n \\n \\n@@ -408,10 +408,12 @@ def test_axis_with_mixed_type_values():\\n         VALIDATOR.validate(axis)\\n \\n \\n-def test_primitive_axis_with_mistyped_data_type():\\n-    ''' Tests a minimal example of a valid axis made of an array of values,\\n-        with declaration of primitive data type (mistyped) '''\\n+def test_tuple_axis_with_mistyped_data_type():\\n+    ''' Valid: dataType is mistyped but valid as custom type '''\\n \\n-    axis = { \\\"dataType\\\" : \\\"primtive\\\", \\\"values\\\" : [1, 2, 3, 4, 5] }\\n-    with pytest.raises(ValidationError):\\n-        VALIDATOR.validate(axis)\\n+    axis = {\\n+        \\\"dataType\\\": \\\"tple\\\",\\n+        \\\"coordinates\\\": [\\\"x\\\", \\\"y\\\"],\\n+        \\\"values\\\": [ [1, 20], [2, 21] ]\\n+    }\\n+    VALIDATOR.validate(axis)\\n\"]", "hints_text": ""}
