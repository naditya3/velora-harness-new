{"instance_id": "1769880766142606", "repo": "Expensify/App", "base_commit": "2b791c9f3053c1682ddcb50ab036deb3e55a7542", "problem_statement": "On the waypoint editor, add the following flow: Dot menu icon -> menu pop up -> delete confirmation\\n\\nPlease refer to this comment for screenshots of the final design that should be achieved.\\n\\nThe following video demonstrates the current situation. You don't have a way to delete a waypoint (you can save a waypoint while the text input is empty to delete that waypoint, but it's not clear for the user that they can do so).\\n\\nhttps://github.com/Expensify/App/assets/98560306/9884c800-6bdd-4226-91e6-d613e97148fa\\n<details><summary>Upwork Automation - Do Not Edit</summary>\\n    <ul>\\n        <li>Upwork Job URL: https://www.upwork.com/jobs/~01bd2d29975258985d</li>\\n        <li>Upwork Job ID: 1695146647097401344</li>\\n        <li>Last Price Increase: 2023-08-25</li>\\n<li>Automatic offers: </li>\\n<ul>\\n<li>Nikhil-Vats | Contributor | 26332832</li>\\n</ul></li>\\n    </ul>\\n</details>", "FAIL_TO_PASS": ["issues/25901_945/test.py::test_issue_25901"], "PASS_TO_PASS": [], "language": "javascript", "test_command": "export ISSUE_ID=25901_945 && cd /app/tests && pytest issues/25901_945/test.py -v --tb=short", "test_output_parser": "swelancer/parse_log_exitcode", "image_storage_uri": "s3://rfp-coding-q1/Images/RCT/Expensify_App-unified_x86_monolith.tar", "patch": "diff --git a/.npmrc b/.npmrc\ndeleted file mode 100644\nindex b6f27f13595..00000000000\n--- a/.npmrc\n+++ /dev/null\n@@ -1 +0,0 @@\n-engine-strict=true\ndiff --git a/src/languages/en.ts b/src/languages/en.ts\nindex 6d579a2af2d..765e1619a44 100755\n--- a/src/languages/en.ts\n+++ b/src/languages/en.ts\n@@ -4408,8 +4408,6 @@ const translations = {\n     },\n     distance: {\n         addStop: 'Add stop',\n-        deleteWaypoint: 'Delete waypoint',\n-        deleteWaypointConfirmation: 'Are you sure you want to delete this waypoint?',\n         address: 'Address',\n         waypointDescription: {\n             start: 'Start',\ndiff --git a/src/languages/es.ts b/src/languages/es.ts\nindex cb19b091b05..22eedfcd7da 100644\n--- a/src/languages/es.ts\n+++ b/src/languages/es.ts\n@@ -4914,8 +4914,6 @@ const translations = {\n     },\n     distance: {\n         addStop: 'A\u00f1adir parada',\n-        deleteWaypoint: 'Eliminar punto de ruta',\n-        deleteWaypointConfirmation: '\u00bfEst\u00e1s seguro de que quieres eliminar este punto de ruta?',\n         address: 'Direcci\u00f3n',\n         waypointDescription: {\n             start: 'Comienzo',\ndiff --git a/src/pages/iou/request/step/IOURequestStepWaypoint.tsx b/src/pages/iou/request/step/IOURequestStepWaypoint.tsx\nindex 4fad55e8fc4..f3ee7fe2de1 100644\n--- a/src/pages/iou/request/step/IOURequestStepWaypoint.tsx\n+++ b/src/pages/iou/request/step/IOURequestStepWaypoint.tsx\n@@ -1,5 +1,5 @@\n import {useNavigation} from '@react-navigation/native';\n-import React, {useMemo, useRef, useState} from 'react';\n+import React, {useMemo, useRef} from 'react';\n import type {TextInput} from 'react-native';\n import {View} from 'react-native';\n import type {Place} from 'react-native-google-places-autocomplete';\n@@ -7,19 +7,15 @@ import {withOnyx} from 'react-native-onyx';\n import type {OnyxEntry} from 'react-native-onyx';\n import AddressSearch from '@components/AddressSearch';\n import FullPageNotFoundView from '@components/BlockingViews/FullPageNotFoundView';\n-import ConfirmModal from '@components/ConfirmModal';\n import FormProvider from '@components/Form/FormProvider';\n import InputWrapperWithRef from '@components/Form/InputWrapper';\n import type {FormOnyxValues} from '@components/Form/types';\n import HeaderWithBackButton from '@components/HeaderWithBackButton';\n-import * as Expensicons from '@components/Icon/Expensicons';\n-import type BaseModalProps from '@components/Modal/types';\n import ScreenWrapper from '@components/ScreenWrapper';\n import useLocalize from '@hooks/useLocalize';\n import useLocationBias from '@hooks/useLocationBias';\n import useNetwork from '@hooks/useNetwork';\n import useThemeStyles from '@hooks/useThemeStyles';\n-import useWindowDimensions from '@hooks/useWindowDimensions';\n import * as ErrorUtils from '@libs/ErrorUtils';\n import * as IOUUtils from '@libs/IOUUtils';\n import Navigation from '@libs/Navigation/Navigation';\n@@ -58,9 +54,6 @@ function IOURequestStepWaypoint({\n     userLocation,\n }: IOURequestStepWaypointProps) {\n     const styles = useThemeStyles();\n-    const {windowWidth} = useWindowDimensions();\n-    const [isDeleteStopModalOpen, setIsDeleteStopModalOpen] = useState(false);\n-    const [restoreFocusType, setRestoreFocusType] = useState<BaseModalProps['restoreFocusType']>();\n     const navigation = useNavigation();\n     const isFocused = navigation.isFocused();\n     const {translate} = useLocalize();\n@@ -83,8 +76,6 @@ function IOURequestStepWaypoint({\n \n     const locationBias = useLocationBias(allWaypoints, userLocation);\n     const waypointAddress = currentWaypoint.address ?? '';\n-    // Hide the menu when there is only start and finish waypoint\n-    const shouldShowThreeDotsButton = waypointCount > 2 && !!waypointAddress;\n     const shouldDisableEditor =\n         isFocused &&\n         (Number.isNaN(parsedWaypointIndex) || parsedWaypointIndex < 0 || parsedWaypointIndex > waypointCount || (filledWaypointCount < 2 && parsedWaypointIndex >= waypointCount));\n@@ -139,13 +130,6 @@ function IOURequestStepWaypoint({\n         goBack();\n     };\n \n-    const deleteStopAndHideModal = () => {\n-        Transaction.removeWaypoint(transaction, pageIndex, IOUUtils.shouldUseTransactionDraft(action));\n-        setRestoreFocusType(CONST.MODAL.RESTORE_FOCUS_TYPE.DELETE);\n-        setIsDeleteStopModalOpen(false);\n-        goBack();\n-    };\n-\n     const selectWaypoint = (values: Waypoint) => {\n         const waypoint = {\n             lat: values.lat ?? 0,\n@@ -171,33 +155,7 @@ function IOURequestStepWaypoint({\n                     title={translate(waypointDescriptionKey)}\n                     shouldShowBackButton\n                     onBackButtonPress={goBack}\n-                    shouldShowThreeDotsButton={shouldShowThreeDotsButton}\n-                    shouldSetModalVisibility={false}\n-                    threeDotsAnchorPosition={styles.threeDotsPopoverOffset(windowWidth)}\n-                    threeDotsMenuItems={[\n-                        {\n-                            icon: Expensicons.Trashcan,\n-                            text: translate('distance.deleteWaypoint'),\n-                            onSelected: () => {\n-                                setRestoreFocusType(undefined);\n-                                setIsDeleteStopModalOpen(true);\n-                            },\n-                            shouldCallAfterModalHide: true,\n-                        },\n-                    ]}\n-                />\n-                <ConfirmModal\n-                    title={translate('distance.deleteWaypoint')}\n-                    isVisible={isDeleteStopModalOpen}\n-                    onConfirm={deleteStopAndHideModal}\n-                    onCancel={() => setIsDeleteStopModalOpen(false)}\n                     shouldSetModalVisibility={false}\n-                    prompt={translate('distance.deleteWaypointConfirmation')}\n-                    confirmText={translate('common.delete')}\n-                    cancelText={translate('common.cancel')}\n-                    shouldEnableNewFocusManagement\n-                    danger\n-                    restoreFocusType={restoreFocusType}\n                 />\n                 <FormProvider\n                     style={[styles.flexGrow1, styles.mh5]}\n", "test_patch": [], "hints_text": ""}
