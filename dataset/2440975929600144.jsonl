{"instance_id": "2440975929600144", "repo": "xnuinside/omymodels", "base_commit": "4893e38f07472c3553736c1947144004cbaf38c8", "problem_statement": "Typo in types.py:\\n```\\r\\nddl = \"\"\"\\r\\nCREATE TABLE qwe (\\r\\n    id integer NOT NULL,\\r\\n    name character varying(255),\\r\\n);\\r\\n\"\"\"\\r\\nresult = create_models(ddl, models_type='sqlmodel')['code']\\r\\n```\\r\\n\\r\\nThis code fails due to the typo in https://github.com/xnuinside/omymodels/blob/4893e38f07472c3553736c1947144004cbaf38c8/omymodels/types.py#L11\\r\\n\\r\\nWhen `character_vying` changed to `character varying` everything seems to work.", "FAIL_TO_PASS": ["tests/functional/generator/test_sqlmodel.py::test_foreign_keys_in_different_schema", "tests/functional/generator/test_sqlmodel.py::test_with_enums", "tests/functional/generator/test_sqlmodel.py::test_upper_name_produces_the_same_result", "tests/functional/generator/test_sqlmodel.py::test_foreign_keys_defined_inline", "tests/functional/generator/test_sqlmodel.py::test_foreign_keys", "tests/functional/generator/test_sqlmodel.py::test_sqlmodel_varying", "tests/functional/generator/test_sqlmodel.py::test_multi_col_pk_and_fk"], "PASS_TO_PASS": ["tests/functional/generator/test_gino_models.py::test_foreign_key_on_delete_on_update", "tests/functional/generator/test_dataclasses.py::test_dataclasses", "tests/functional/generator/test_dataclasses.py::test_defaults_datetime", "tests/functional/generator/test_sqlalchemy.py::test_upper_name_produces_the_same_result", "tests/functional/generator/test_sqlalchemy.py::test_multi_col_pk_and_fk", "tests/functional/generator/test_gino_models.py::test_correct_work_with_dash_simbols", "tests/functional/generator/test_models_with_index.py::test_model_with_one_index", "tests/functional/generator/test_enums.py::test_enums_gino", "tests/functional/generator/test_sqlalchemy.py::test_foreign_keys", "tests/functional/generator/test_dataclasses.py::test_upper_now_produces_same_result", "tests/functional/generator/test_pydantic_models.py::test_pydantic_uuid", "tests/functional/generator/test_dataclasses.py::test_defaults_off", "tests/unit/test_helpers.py::test_from_class_to_table_name", "tests/functional/generator/test_sqlalchemy_core.py::test_foreign_keys_with_schema", "tests/unit/test_omymodels.py::test_no_tables", "tests/functional/generator/test_pydantic_models.py::test_pydantic_with_arrays", "tests/functional/generator/test_sqlalchemy.py::test_foreign_keys_defined_inline", "tests/functional/generator/test_pydantic_models.py::test_pydantic_models_generator", "tests/functional/generator/test_sqlalchemy.py::test_foreign_keys_in_different_schema", "tests/functional/generator/test_sqlalchemy_core.py::test_unique_and_index", "tests/functional/generator/test_sqlalchemy_core.py::test_real", "tests/integration/pydantic/test_pydantic.py::test_pydantic_models_are_working_as_expected", "tests/functional/generator/test_pydantic_models.py::test_pydantic_with_bytes", "tests/functional/generator/test_pydantic_models.py::test_enums_lower_case_names_works", "tests/functional/converter/test_converter.py::test_from_sqlalchemy_to_gino", "tests/functional/generator/test_dataclasses.py::test_enums_in_dataclasses", "tests/functional/generator/test_gino_models.py::test_foreign_key_from_column", "tests/unit/test_common.py::test_mssql_brackets_removed", "tests/functional/generator/test_gino_models.py::test_two_simple_ddl", "tests/functional/generator/test_gino_models.py::test_support_uuid_and_schema_in_table_args", "tests/functional/generator/test_pydantic_models.py::test_no_defaults", "tests/functional/generator/test_sqlalchemy_core.py::test_keyword_args", "tests/functional/generator/test_enums.py::test_enum_works_with_lower_case", "tests/functional/generator/test_gino_models.py::test_no_auto_snake_case", "tests/unit/test_common.py::test_no_unexpected_logs", "tests/functional/generator/test_enum_only.py::test_enum_only", "tests/functional/generator/test_sqlalchemy.py::test_with_enums", "tests/functional/generator/test_gino_models.py::test_foreign_key_from_alter", "tests/functional/converter/test_converter.py::test_from_sqlalchemy_to_pydantic", "tests/functional/generator/test_enum_only.py::test_enum_models", "tests/functional/generator/test_table_args.py::test_unique_and_normal_index", "tests/unit/test_omymodels.py::test_no_tables_silent", "tests/functional/converter/test_converter.py::test_convert_models", "tests/functional/generator/test_gino_models.py::test_schema_not_global", "tests/functional/generator/test_enums.py::test_pydantic_models"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/xnuinside_omymodels:4893e38f07472c3553736c1947144004cbaf38c8", "patch": "[\"diff --git a/CHANGELOG.txt b/CHANGELOG.txt\\nindex 3df876c..46423de 100644\\n--- a/CHANGELOG.txt\\n+++ b/CHANGELOG.txt\\n@@ -1,3 +1,11 @@\\n+**v0.16.0**\\n+\\n+### Updates\\n+1. fix character varying type - https://github.com/xnuinside/omymodels/issues/59\\n+2. sqlalchemy import removed from generation in sqlmodels if it is not used\\n+3.  = Field() - is not placed in SQLModel if there is no defaults or other settings to the field\\n+\\n+\\n **v0.15.1**\\n ## Updates\\n 1. Foreign Key processing updates - https://github.com/xnuinside/omymodels/pull/55\\n\",\"diff --git a/README.md b/README.md\\nindex c68c9a4..53bd511 100644\\n--- a/README.md\\n+++ b/README.md\\n@@ -307,6 +307,14 @@ If you see any bugs or have any suggestions - feel free to open the issue. Any h\\n One more time, big 'thank you!' goes to https://github.com/archongum for Web-version: https://archon-omymodels-online.hf.space/ \\n \\n ## Changelog\\n+**v0.16.0**\\n+\\n+### Updates\\n+1. fix character varying type - https://github.com/xnuinside/omymodels/issues/59\\n+2. sqlalchemy import removed from generation in sqlmodels if it is not used\\n+3.  = Field() - is not placed in SQLModel if there is no defaults or other settings to the field\\n+\\n+\\n **v0.15.1**\\n ## Updates\\n 1. Foreign Key processing updates - https://github.com/xnuinside/omymodels/pull/55\\n\",\"diff --git a/docs/README.rst b/docs/README.rst\\nindex eb8d6e4..b26a1f1 100644\\n--- a/docs/README.rst\\n+++ b/docs/README.rst\\n@@ -330,6 +330,16 @@ One more time, big 'thank you!' goes to https://github.com/archongum for Web-ver\\n Changelog\\n ---------\\n \\n+**v0.16.0**\\n+\\n+Updates\\n+^^^^^^^\\n+\\n+\\n+#. fix character varying type - https://github.com/xnuinside/omymodels/issues/59\\n+#. sqlalchemy import removed from generation in sqlmodels if it is not used\\n+#. = Field() - is not placed in SQLModel if there is no defaults or other settings to the field\\n+\\n **v0.15.1**\\n \\n Updates\\n\",\"diff --git a/omymodels/cli.py b/omymodels/cli.py\\nindex bc328a8..82fbcdd 100644\\n--- a/omymodels/cli.py\\n+++ b/omymodels/cli.py\\n@@ -13,7 +13,8 @@ def version(**kwargs):\\n \\n def cli():\\n     omm_cli = argparse.ArgumentParser(\\n-        description=\\\"O! My Models. Create GinoORM models from SQL DDL\\\"\\n+        description=\\\"O! My Models. \\\"\\n+        \\\"Create SQLModels, SQLAlchemy, GinoORM and other models from SQL DDL or another models\\\"\\n     )\\n \\n     omm_cli.add_argument(\\n\",\"diff --git a/omymodels/from_ddl.py b/omymodels/from_ddl.py\\nindex 3207b7c..8db44a5 100644\\n--- a/omymodels/from_ddl.py\\n+++ b/omymodels/from_ddl.py\\n@@ -153,7 +153,9 @@ def generate_models_file(\\n                 schema_global=schema_global,\\n                 defaults_off=defaults_off,\\n             )\\n-        header += generator.create_header(data[\\\"tables\\\"], schema=schema_global)\\n+        header += generator.create_header(\\n+            data[\\\"tables\\\"], schema=schema_global, models_str=models_str\\n+        )\\n     else:\\n         models_type = \\\"enum\\\"\\n     output = render_jinja2_template(models_type, models_str, header)\\n\",\"diff --git a/omymodels/models/enum/core.py b/omymodels/models/enum/core.py\\nindex ed06805..a975f1c 100644\\n--- a/omymodels/models/enum/core.py\\n+++ b/omymodels/models/enum/core.py\\n@@ -74,7 +74,7 @@ class ModelGenerator:\\n         self.custom_types = {x.name: (\\\"db.Enum\\\", x.name) for x in self.types}\\n         return types_str\\n \\n-    def create_header(self) -> str:\\n+    def create_header(self, *args, **kwargs) -> str:\\n         self.enum_imports = list(self.enum_imports)\\n         self.enum_imports.sort()\\n         return enum_import.format(enums=\\\", \\\".join(self.enum_imports)) + \\\"\\\\n\\\"\\n\",\"diff --git a/omymodels/models/gino/core.py b/omymodels/models/gino/core.py\\nindex 7de81bd..281c873 100644\\n--- a/omymodels/models/gino/core.py\\n+++ b/omymodels/models/gino/core.py\\n@@ -59,7 +59,9 @@ class ModelGenerator:\\n         # create sequence\\n         return model\\n \\n-    def create_header(self, tables: List[Dict], schema: bool = False) -> str:\\n+    def create_header(\\n+        self, tables: List[Dict], schema: bool = False, *args, **kwargs\\n+    ) -> str:\\n         \\\"\\\"\\\"header of the file - imports & gino init\\\"\\\"\\\"\\n         header = \\\"\\\"\\n         if \\\"func\\\" in self.state:\\n\",\"diff --git a/omymodels/models/sqlalchemy/core.py b/omymodels/models/sqlalchemy/core.py\\nindex a23b2e0..1c01f15 100644\\n--- a/omymodels/models/sqlalchemy/core.py\\n+++ b/omymodels/models/sqlalchemy/core.py\\n@@ -64,7 +64,9 @@ class ModelGenerator(GeneratorBase):\\n             model = logic.add_table_args(self, model, table, schema_global)\\n         return model\\n \\n-    def create_header(self, tables: List[Dict], schema: bool = False) -> str:\\n+    def create_header(\\n+        self, tables: List[Dict], schema: bool = False, *args, **kwargs\\n+    ) -> str:\\n         \\\"\\\"\\\"header of the file - imports & sqlalchemy init\\\"\\\"\\\"\\n         header = \\\"\\\"\\n         if \\\"func\\\" in self.state:\\n\",\"diff --git a/omymodels/models/sqlalchemy_core/core.py b/omymodels/models/sqlalchemy_core/core.py\\nindex 2c97a37..3f2c365 100644\\n--- a/omymodels/models/sqlalchemy_core/core.py\\n+++ b/omymodels/models/sqlalchemy_core/core.py\\n@@ -234,7 +234,9 @@ class ModelGenerator:\\n             model += index\\n         return model\\n \\n-    def create_header(self, tables: List[Dict], schema: bool = False) -> str:\\n+    def create_header(\\n+        self, tables: List[Dict], schema: bool = False, *args, **kwargs\\n+    ) -> str:\\n         \\\"\\\"\\\"header of the file - imports & sqlalchemy init\\\"\\\"\\\"\\n         header = \\\"\\\"\\n         if \\\"func\\\" in self.state:\\n\",\"diff --git a/omymodels/models/sqlmodel/core.py b/omymodels/models/sqlmodel/core.py\\nindex 70d63cd..f4710f7 100644\\n--- a/omymodels/models/sqlmodel/core.py\\n+++ b/omymodels/models/sqlmodel/core.py\\n@@ -119,7 +119,6 @@ class ModelGenerator(GeneratorBase):\\n         **kwargs,\\n     ) -> str:\\n         \\\"\\\"\\\"method to prepare one Model defention - name & tablename  & columns\\\"\\\"\\\"\\n-        model = \\\"\\\"\\n \\n         model = st.model_template.format(\\n             model_name=create_class_name(table.name, singular, exceptions),\\n@@ -133,26 +132,31 @@ class ModelGenerator(GeneratorBase):\\n             col_str = st.column_template.format(\\n                 column_name=column.name.replace(\\\" \\\", \\\"_\\\"), column_type=pydantic_type_str\\n             )\\n-\\n-            col_str = logic.setup_column_attributes(\\n-                column, table.primary_key, col_str, table, schema_global, st, self\\n+            attrs_col_str = logic.setup_column_attributes(\\n+                column, table.primary_key, \\\"\\\", table, schema_global, st, self\\n             )\\n             if column_type[\\\"sa\\\"]:\\n                 sa_type = types.add_size_to_orm_column(column_type[\\\"sa\\\"], column)\\n-                col_str += st.sa_type.format(satype=sa_type)\\n-            col_str += \\\")\\\\n\\\"\\n-\\n-            col_str = col_str.replace(\\\"(, \\\", \\\"(\\\")\\n-\\n+                attrs_col_str += st.sa_type.format(satype=sa_type)\\n+            if attrs_col_str:\\n+                attrs_col_str = attrs_col_str.replace(\\\",\\\", \\\"\\\", 1).strip()\\n+                col_str += st.field_template.format(attr_data=attrs_col_str)\\n+            col_str += \\\"\\\\n\\\"\\n             model += col_str\\n         if table.indexes or table.alter or table.checks or not schema_global:\\n             model = self.add_table_args(model, table, schema_global)\\n         return model\\n \\n-    def create_header(self, tables: List[Dict], schema: bool = False) -> str:\\n+    def create_header(\\n+        self,\\n+        tables: List[Dict],\\n+        models_str: str,\\n+        schema: bool = False,\\n+    ) -> str:\\n         \\\"\\\"\\\"header of the file - imports & sqlalchemy init\\\"\\\"\\\"\\n         header = \\\"\\\"\\n-        header += st.sqlalchemy_import  # Do we always need this import?\\n+        if \\\"sa.\\\" in models_str:\\n+            header += st.sqlalchemy_import  # Do we always need this import?\\n         if \\\"func\\\" in self.state:\\n             header += st.sql_alchemy_func_import + \\\"\\\\n\\\"\\n         if self.postgresql_dialect_cols:\\n\",\"diff --git a/omymodels/models/sqlmodel/sqlmodel.jinja2 b/omymodels/models/sqlmodel/sqlmodel.jinja2\\nindex a0867d8..ef841ab 100644\\n--- a/omymodels/models/sqlmodel/sqlmodel.jinja2\\n+++ b/omymodels/models/sqlmodel/sqlmodel.jinja2\\n@@ -2,6 +2,4 @@ import datetime\\n import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n-\\n-{{ headers }}\\n-{{ models }}\\n\\\\ No newline at end of file\\n+{{ headers }}{{ models }}\\n\\\\ No newline at end of file\\n\",\"diff --git a/omymodels/models/sqlmodel/templates.py b/omymodels/models/sqlmodel/templates.py\\nindex 3c68247..31bd645 100644\\n--- a/omymodels/models/sqlmodel/templates.py\\n+++ b/omymodels/models/sqlmodel/templates.py\\n@@ -17,7 +17,8 @@ class {model_name}(SQLModel, table=True):\\\\n\\n \\\"\\\"\\\"\\n \\n # columns defenition\\n-column_template = \\\"\\\"\\\"    {column_name}: {column_type} = Field(\\\"\\\"\\\"\\n+column_template = \\\"\\\"\\\"    {column_name}: {column_type}\\\"\\\"\\\"\\n+field_template = \\\"\\\"\\\" = Field({attr_data})\\\"\\\"\\\"\\n required = \\\"\\\"\\n default = \\\", sa_column_kwargs={{'server_default': {default}}}\\\"\\n pk_template = \\\", default=None, primary_key=True\\\"\\n\",\"diff --git a/omymodels/types.py b/omymodels/types.py\\nindex 2e271c6..8eac93f 100644\\n--- a/omymodels/types.py\\n+++ b/omymodels/types.py\\n@@ -8,7 +8,7 @@ string_types = (\\n     \\\"str\\\",\\n     \\\"varchar\\\",\\n     \\\"character\\\",\\n-    \\\"character_vying\\\",\\n+    \\\"character varying\\\",\\n     \\\"varying\\\",\\n     \\\"char\\\",\\n     \\\"string\\\",\\n\",\"diff --git a/one.ddl b/one.ddl\\nnew file mode 100644\\nindex 0000000..ded5bca\\n--- /dev/null\\n+++ b/one.ddl\\n@@ -0,0 +1,3 @@\\n+CREATE TABLE `option` (\\n+  FIELD1 VARCHAR(256),\\n+) ;\\n\\\\ No newline at end of file\\n\"]", "test_patch": "[\"diff --git a/pyproject.toml b/pyproject.toml\\nindex 41f559f..ed6403e 100644\\n--- a/pyproject.toml\\n+++ b/pyproject.toml\\n@@ -1,6 +1,6 @@\\n [tool.poetry]\\n name = \\\"omymodels\\\"\\n-version = \\\"0.15.1\\\"\\n+version = \\\"0.16.0\\\"\\n description = \\\"O! My Models (omymodels) is a library to generate Python Models for SQLAlchemy (ORM & Core), GinoORM, Pydantic, Pydal tables & Python Dataclasses from SQL DDL. And convert one models to another.\\\"\\n authors = [\\\"Iuliia Volkova <xnuinside@gmail.com>\\\"]\\n license = \\\"MIT\\\"\\n@@ -32,14 +32,10 @@ table-meta = \\\"^0.1.5\\\"\\n \\n [tool.poetry.dev-dependencies]\\n pytest = \\\"^7.4\\\"\\n-m2r = \\\"^0.3.1\\\"\\n \\n [tool.poetry.scripts]\\n omm = 'omymodels.cli:main'\\n \\n-[tool.poetry.group.dev.dependencies]\\n-twine = \\\"^4.0.2\\\"\\n-\\n [build-system]\\n requires = [\\\"poetry-core>=1.0.0\\\"]\\n build-backend = \\\"poetry.core.masonry.api\\\"\\n\",\"diff --git a/tests/functional/generator/test_sqlmodel.py b/tests/functional/generator/test_sqlmodel.py\\nindex 42d0bd3..32b0e48 100644\\n--- a/tests/functional/generator/test_sqlmodel.py\\n+++ b/tests/functional/generator/test_sqlmodel.py\\n@@ -6,7 +6,6 @@ def test_with_enums():\\n import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n-\\n from enum import Enum\\n import sqlalchemy as sa\\n from sqlalchemy.sql import func\\n@@ -14,7 +13,6 @@ from sqlalchemy.dialects.postgresql import JSON\\n from pydantic import Json, UUID4\\n \\n \\n-\\n class MaterialType(str, Enum):\\n \\n     article = 'article'\\n@@ -26,13 +24,13 @@ class Material(SQLModel, table=True):\\n     __tablename__ = 'material'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: str = Field()\\n+    title: str\\n     description: Optional[str] = Field(sa_type=sa.Text())\\n-    link: str = Field()\\n+    link: str\\n     type: Optional[MaterialType] = Field(sa_type=sa.Enum(MaterialType))\\n     additional_properties: Optional[Json] = Field(sa_column_kwargs={'server_default': '{\\\"key\\\": \\\"value\\\"}'}, sa_type=JSON())\\n     created_at: Optional[datetime.datetime] = Field(sa_column_kwargs={'server_default': func.now()})\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    updated_at: Optional[datetime.datetime]\\n \\\"\\\"\\\"  # noqa: E501\\n     ddl = \\\"\\\"\\\"\\n CREATE TYPE \\\"material_type\\\" AS ENUM (\\n@@ -61,20 +59,17 @@ import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n \\n-import sqlalchemy as sa\\n-\\n-\\n \\n class Materials(SQLModel, table=True):\\n \\n     __tablename__ = 'materials'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: str = Field()\\n-    description: Optional[str] = Field()\\n-    link: Optional[str] = Field()\\n-    created_at: Optional[datetime.datetime] = Field()\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    title: str\\n+    description: Optional[str]\\n+    link: Optional[str]\\n+    created_at: Optional[datetime.datetime]\\n+    updated_at: Optional[datetime.datetime]\\n \\n \\n class MaterialAttachments(SQLModel, table=True):\\n@@ -90,10 +85,10 @@ class Attachments(SQLModel, table=True):\\n     __tablename__ = 'attachments'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: Optional[str] = Field()\\n-    description: Optional[str] = Field()\\n-    created_at: Optional[datetime.datetime] = Field()\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    title: Optional[str]\\n+    description: Optional[str]\\n+    created_at: Optional[datetime.datetime]\\n+    updated_at: Optional[datetime.datetime]\\n \\\"\\\"\\\"\\n     ddl = \\\"\\\"\\\"\\n \\n@@ -139,20 +134,17 @@ import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n \\n-import sqlalchemy as sa\\n-\\n-\\n \\n class Materials(SQLModel, table=True):\\n \\n     __tablename__ = 'materials'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: str = Field()\\n-    description: Optional[str] = Field()\\n-    link: Optional[str] = Field()\\n-    created_at: Optional[datetime.datetime] = Field()\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    title: str\\n+    description: Optional[str]\\n+    link: Optional[str]\\n+    created_at: Optional[datetime.datetime]\\n+    updated_at: Optional[datetime.datetime]\\n \\n \\n class MaterialAttachments(SQLModel, table=True):\\n@@ -168,10 +160,10 @@ class Attachments(SQLModel, table=True):\\n     __tablename__ = 'attachments'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: Optional[str] = Field()\\n-    description: Optional[str] = Field()\\n-    created_at: Optional[datetime.datetime] = Field()\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    title: Optional[str]\\n+    description: Optional[str]\\n+    created_at: Optional[datetime.datetime]\\n+    updated_at: Optional[datetime.datetime]\\n \\\"\\\"\\\"\\n     ddl = \\\"\\\"\\\"\\n \\n@@ -212,20 +204,17 @@ def test_multi_col_pk_and_fk():\\n import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n-\\n-import sqlalchemy as sa\\n from sqlalchemy.sql import func\\n \\n \\n-\\n class Complexpk(SQLModel, table=True):\\n \\n     __tablename__ = 'complexpk'\\n \\n     complex_id: Optional[int] = Field(default=None, primary_key=True)\\n     date_part: Optional[datetime.datetime] = Field(sa_column_kwargs={'server_default': func.now()}, default=None, primary_key=True)\\n-    title: str = Field()\\n-    description: Optional[str] = Field()\\n+    title: str\\n+    description: Optional[str]\\n \\n \\n class LinkedTo(SQLModel, table=True):\\n@@ -235,7 +224,7 @@ class LinkedTo(SQLModel, table=True):\\n     id: Optional[int] = Field(default=None, primary_key=True)\\n     complexpk_complex_id: Optional[int] = Field(foreign_key='complexpk.complex_id')\\n     complexpk_date_part: Optional[int] = Field(foreign_key='complexpk.date_part')\\n-    comment: Optional[str] = Field()\\n+    comment: Optional[str]\\n \\\"\\\"\\\"  # noqa: E501\\n \\n     ddl = \\\"\\\"\\\"\\n@@ -267,7 +256,6 @@ def test_upper_name_produces_the_same_result():\\n import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n-\\n from enum import Enum\\n import sqlalchemy as sa\\n from sqlalchemy.sql import func\\n@@ -275,7 +263,6 @@ from sqlalchemy.dialects.postgresql import JSON\\n from pydantic import Json, UUID4\\n \\n \\n-\\n class MaterialType(str, Enum):\\n \\n     article = 'article'\\n@@ -287,13 +274,13 @@ class Material(SQLModel, table=True):\\n     __tablename__ = 'material'\\n \\n     id: Optional[int] = Field(default=None, primary_key=True)\\n-    title: str = Field()\\n+    title: str\\n     description: Optional[str] = Field(sa_type=sa.Text())\\n-    link: str = Field()\\n+    link: str\\n     type: Optional[MaterialType] = Field(sa_type=sa.Enum(MaterialType))\\n     additional_properties: Optional[Json] = Field(sa_column_kwargs={'server_default': '{\\\"key\\\": \\\"value\\\"}'}, sa_type=JSON())\\n     created_at: Optional[datetime.datetime] = Field(sa_column_kwargs={'server_default': func.now()})\\n-    updated_at: Optional[datetime.datetime] = Field()\\n+    updated_at: Optional[datetime.datetime]\\n \\\"\\\"\\\"  # noqa: E501\\n     ddl = \\\"\\\"\\\"\\n CREATE TYPE \\\"material_type\\\" AS ENUM (\\n@@ -322,9 +309,6 @@ import decimal\\n from typing import Optional\\n from sqlmodel import Field, SQLModel\\n \\n-import sqlalchemy as sa\\n-\\n-\\n \\n class Table1(SQLModel, table=True):\\n \\n@@ -371,3 +355,27 @@ ALTER TABLE \\\"schema1\\\".\\\"table1\\\" ADD FOREIGN KEY\\n \\\"\\\"\\\"\\n     result = create_models(ddl, schema_global=False, models_type=\\\"sqlmodel\\\")[\\\"code\\\"]\\n     assert result == expected\\n+\\n+\\n+def test_sqlmodel_varying():\\n+    ddl = \\\"\\\"\\\"\\n+    CREATE TABLE qwe (\\n+        id integer NOT NULL,\\n+        name character varying(255),\\n+    );\\n+    \\\"\\\"\\\"\\n+    result = create_models(ddl, models_type=\\\"sqlmodel\\\")[\\\"code\\\"]\\n+    expected = \\\"\\\"\\\"import datetime\\n+import decimal\\n+from typing import Optional\\n+from sqlmodel import Field, SQLModel\\n+\\n+\\n+class Qwe(SQLModel, table=True):\\n+\\n+    __tablename__ = 'qwe'\\n+\\n+    id: int\\n+    name: Optional[str]\\n+\\\"\\\"\\\"\\n+    assert expected == result\"]", "hints_text": ""}
