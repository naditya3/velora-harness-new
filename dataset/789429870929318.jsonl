{"instance_id": "789429870929318", "repo": "hugoperrier/arta", "base_commit": "1eb503b1d863a76ade83c4365258fb4734f512f6", "problem_statement": "Allow to use a custom rule configuration loader:\\n**Is your feature request related to a problem? Please describe**\\r\\n\\r\\nCurrently, I can define rules in one or many YAML files or with a straightforward python dictionary. \\r\\n\\r\\nWhat happens if I want to use JSON files or something else?\\r\\n\\r\\n**Describe the solution you'd like**\\r\\n\\r\\nA strategy pattern on a rules loader which allows arta's users to implement their own. \\r\\n\\r\\n```python\\r\\nfrom arta import RulesEngine\\r\\n\\r\\nfrom my_module import MyJsonLoader\\r\\n\\r\\neng = RulesEngine(config_path=\"path/to/conf\", loader=MyJsonLoader)\\r\\n```", "FAIL_TO_PASS": ["tests/unit/test_engine.py::test_conf_apply_rules[input_data3-good_conf-second_rule_set-True-good_results3]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data8-splitted_rule_set-default_rule_set-False-good_results8]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data7-good_conf-third_rule_set-False-good_results7]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data5-good_conf-second_rule_set-False-good_results5]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data4-good_conf-second_rule_set-False-good_results4]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data2-good_conf-second_rule_set-False-good_results2]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data1-good_conf-default_rule_set-True-good_results1]", "tests/unit/test_engine.py::test_instanciation", "tests/unit/test_simple_condition.py::test_simple_condition[input_data6-simple_cond_conf/uppercase-good_results6]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data6-good_conf-third_rule_set-False-good_results6]", "tests/unit/test_engine.py::test_conf_apply_rules[input_data0-good_conf-default_rule_set-False-good_results0]"], "PASS_TO_PASS": ["tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/wrong_condition/-KeyError]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data3-simple_cond_conf/ignore-good_results3]", "tests/unit/test_engine_errors.py::test_instance_error_without_expected_error[rules_dict0-None]", "tests/test_example_code/test_actions.py::test_send_email[supercook@dummy.fr-Thanks", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/missing_rules/-ValueError]", "tests/unit/test_engine.py::test_dict_apply_rules[input_data1-False-good_results1]", "tests/unit/test_utils.py::test_ignore_error_handling_strategy_as_string", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict7-None-ValidationError]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_with_default_value_override[output.unknown?True-True]", "tests/test_example_code/test_conditions.py::test_functions[is_speaking_language-kwargs4-True]", "tests/unit/test_engine_errors.py::test_error_apply_rules_missing_input_key[Something,", "tests/unit/test_simple_condition.py::test_error_apply_rules_missing_input_key[input_data2-simple_cond_conf/wrong/dummy-RuleExecutionError]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_as_string", "tests/unit/test_engine_errors.py::test_instance_error[Not", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/wrong_rules_nested/-ValidationError]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_override_on_existing_key[output.age?]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data4-simple_cond_conf/wrong/ignore-good_results4]", "tests/unit/test_simple_condition.py::test_error_apply_rules_missing_input_key[input_data1-simple_cond_conf/raise-ConditionExecutionError]", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/wrong_parsing_error_strategy/-ValidationError]", "tests/test_example_code/test_actions.py::test_send_email[cook@test.fr-Thanks", "tests/unit/test_utils.py::test_ignore_error_handling_strategy", "tests/test_example_code/test_conditions.py::test_functions[is_speaking_language-kwargs5-False]", "tests/unit/test_utils.py::test_ignore_error_handling_strategy_override", "tests/unit/test_simple_condition.py::test_math[input_data0-simple_cond_conf/math-good_results0]", "tests/unit/test_simple_condition.py::test_error_apply_rules_missing_input_key[input_data0-simple_cond_conf/default-ConditionExecutionError]", "tests/unit/test_utils.py::test_parse_dynamic_parameter[output.age-input_data0-20]", "tests/unit/test_engine_errors.py::test_instance_error_without_expected_error[None-failing_conf/without_parsing_error_strategy/]", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/wrong_validation_function/-KeyError]", "tests/unit/test_engine_errors.py::test_error_apply_rules_missing_input_key[input_data4-RuleExecutionError]", "tests/unit/test_simple_condition.py::test_error_apply_rules_missing_input_key[input_data3-simple_cond_conf/wrong/raise-ConditionExecutionError]", "tests/unit/test_engine_errors.py::test_instance_error[Something,", "tests/unit/test_engine.py::test_dict_apply_rules[input_data0-True-good_results0]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data0-simple_cond_conf/default-good_results0]", "tests/test_example_code/test_actions.py::test_set_student_course[international-expected1]", "tests/unit/test_engine_errors.py::test_error_apply_rules_missing_input_key[input_data3-ConditionExecutionError]", "tests/test_example_code/test_actions.py::test_set_admission[True-expected0]", "tests/unit/test_engine.py::test_ignore_global_strategy", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict5-None-ValidationError]", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict1-None-ValidationError]", "tests/test_example_code/test_actions.py::test_concatenate_str", "tests/unit/test_engine_errors.py::test_error_apply_rules_missing_input_key[None-TypeError]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data5-simple_cond_conf/whitespace-good_results5]", "tests/unit/test_engine_errors.py::test_instance_error[None-None-ValueError]", "tests/test_example_code/test_actions.py::test_do_nothing", "tests/test_example_code/test_actions.py::test_set_admission[False-expected1]", "tests/test_example_code/test_conditions.py::test_functions[has_authorized_super_power-kwargs1-False]", "tests/unit/test_engine.py::test_kwargs_in_apply_rules[input_data0-good_results0]", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict6-None-ValidationError]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data1-simple_cond_conf/default-good_results1]", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict9-None-ValidationError]", "tests/unit/test_simple_condition.py::test_simple_condition_verbose[input_data0-good_results0]", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict8-None-KeyError]", "tests/test_example_code/test_actions.py::test_compute_sum", "tests/unit/test_utils.py::test_parse_dynamic_parameter[output.sub_dict1.sub_dict2.key-input_data1-abc]", "tests/test_example_code/test_conditions.py::test_functions[has_authorized_super_power-kwargs0-True]", "tests/test_example_code/test_conditions.py::test_functions[has_favorite_meal-kwargs7-False]", "tests/unit/test_utils.py::test_raise_error_handling_strategy", "tests/unit/test_utils.py::test_raise_error_handling_strategy_with_default_value_override[output.unknown?None-None]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_override_on_existing_key[output.age!]", "tests/unit/test_engine_errors.py::test_instance_error[rules_dict4-None-KeyError]", "tests/test_example_code/test_conditions.py::test_functions[has_favorite_meal-kwargs6-True]", "tests/test_example_code/test_actions.py::test_set_student_course[french-expected0]", "tests/test_example_code/test_conditions.py::test_functions[is_age_unknown-kwargs2-True]", "tests/unit/test_engine_errors.py::test_error_apply_rules_missing_input_key[input_data2-KeyError]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_override", "tests/test_example_code/test_conditions.py::test_functions[is_age_unknown-kwargs3-False]", "tests/unit/test_utils.py::test_parse_dynamic_parameter[parameter2-input_data2-expected_value2]", "tests/unit/test_simple_condition.py::test_simple_condition[input_data2-simple_cond_conf/default-good_results2]", "tests/unit/test_utils.py::test_raise_error_handling_strategy_with_default_value_override[output.unknown?hello-hello]", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/wrong_action/-KeyError]", "tests/unit/test_engine_errors.py::test_instance_error[None-failing_conf/missing_action_source_modules/-ValidationError]"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/hugoperrier_arta:1eb503b1d863a76ade83c4365258fb4734f512f6", "patch": "[\"diff --git a/.github/ISSUE_TEMPLATE/config.yaml b/.github/ISSUE_TEMPLATE/config.yaml\\nindex 4d3b612..bd9dfe4 100644\\n--- a/.github/ISSUE_TEMPLATE/config.yaml\\n+++ b/.github/ISSUE_TEMPLATE/config.yaml\\n@@ -1,2 +1,2 @@\\n ---\\n-blank_issues_enabled: false\\n\\\\ No newline at end of file\\n+blank_issues_enabled: false\\n\",\"diff --git a/.github/PULL_REQUEST_TEMPLATE.md b/.github/PULL_REQUEST_TEMPLATE.md\\nindex 4ce9f62..3d211a8 100644\\n--- a/.github/PULL_REQUEST_TEMPLATE.md\\n+++ b/.github/PULL_REQUEST_TEMPLATE.md\\n@@ -11,4 +11,4 @@ If needed, add some details here in order to verify the change (e.g., how to tes\\n \\n ## Linked issues: (optional)\\n - Close ...\\n-- Close ...\\n\\\\ No newline at end of file\\n+- Close ...\\n\",\"diff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\\nindex bff0bf2..a548a83 100644\\n--- a/.pre-commit-config.yaml\\n+++ b/.pre-commit-config.yaml\\n@@ -2,18 +2,44 @@\\n default_language_version:\\n   python: python3\\n repos:\\n+  - repo: https://github.com/pre-commit/pre-commit-hooks\\n+    rev: v4.6.0\\n+    hooks:\\n+      - id: check-ast\\n+      - id: check-byte-order-marker\\n+      - id: check-case-conflict\\n+      - id: check-docstring-first\\n+      - id: check-json\\n+      - id: check-yaml\\n+        exclude: ^(docs/)\\n+      - id: debug-statements\\n+      - id: end-of-file-fixer\\n+        exclude: ^(docs/)\\n+      - id: pretty-format-json\\n+        args: ['--autofix']\\n+      - id: trailing-whitespace\\n+        args: ['--markdown-linebreak-ext=md']\\n+        exclude: ^(docs/)\\n+      - id: mixed-line-ending\\n+        args: ['--fix=lf']\\n+        exclude: ^(docs/)\\n+      - id: check-added-large-files\\n+        args: ['--maxkb=500']\\n+      - id: no-commit-to-branch\\n+        args: ['--branch', 'main']\\n   - repo: https://github.com/astral-sh/ruff-pre-commit\\n-    rev: v0.4.10\\n+    rev: v0.5.4\\n     hooks:\\n       - id: ruff\\n         args: [ --fix ]\\n       - id: ruff-format\\n   - repo: https://github.com/pre-commit/mirrors-mypy\\n-    rev: 'v1.10.0'\\n+    rev: v1.11.0\\n     hooks:\\n       - id: mypy\\n         args: [--config-file=pyproject.toml]\\n         files: src\\n+        additional_dependencies: [pydantic~=2.0]\\n   - repo: https://github.com/gitleaks/gitleaks\\n     rev: v8.18.4\\n     hooks:\\n@@ -24,7 +50,7 @@ repos:\\n       - id: pip-audit\\n         args: [\\\"--skip-editable\\\"]\\n   - repo: https://github.com/compilerla/conventional-pre-commit\\n-    rev: v3.2.0\\n+    rev: v3.3.0\\n     hooks:\\n       - id: conventional-pre-commit\\n         stages: [commit-msg]\\n\",\"diff --git a/CHANGELOG.md b/CHANGELOG.md\\nindex 24b9aaf..0c8618a 100644\\n--- a/CHANGELOG.md\\n+++ b/CHANGELOG.md\\n@@ -4,6 +4,20 @@ All notable changes to this project will be documented in this file.\\n \\n The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\\n \\n+## [0.8.0] - July, 2024\\n+\\n+### Features\\n+\\n+* Add a new parameter `config_dict` in the `RulesEngine`'s constructor. It can be used when you have already loaded the YAML configuration in a dictionary and want to use it straightforward.\\n+* Split a rule set in two (or more) files (keep the rules organized by their file names [alphabetically sorted]).\\n+\\n+### Fixes\\n+\\n+* *Simple condition:* an error occurs when the right operand is a uppercase string (e.g., `input.text==\\\"LABEL\\\"`).\\n+\\n+### Refactoring\\n+\\n+* Function `sanitize_regex()` is converted to an instance method `get_sanitized_id()` of `BaseCondition` class.\\n \\n ## [0.7.1] - June, 2024\\n \\n\",\"diff --git a/CODE_OF_CONDUCT.md b/CODE_OF_CONDUCT.md\\nindex 1b54773..609db7b 100644\\n--- a/CODE_OF_CONDUCT.md\\n+++ b/CODE_OF_CONDUCT.md\\n@@ -70,4 +70,4 @@ members of the project's leadership.\\n This Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4,\\n available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html\\n \\n-[homepage]: https://www.contributor-covenant.org\\n\\\\ No newline at end of file\\n+[homepage]: https://www.contributor-covenant.org\\n\",\"diff --git a/LICENSE b/LICENSE\\nindex 4947287..f433b1a 100644\\n--- a/LICENSE\\n+++ b/LICENSE\\n@@ -174,4 +174,4 @@\\n       incurred by, or claims asserted against, such Contributor by reason\\n       of your accepting any such warranty or additional liability.\\n \\n-   END OF TERMS AND CONDITIONS\\n\\\\ No newline at end of file\\n+   END OF TERMS AND CONDITIONS\\n\",\"diff --git a/NOTICE b/NOTICE\\nindex 06538d8..cc98ba8 100644\\n--- a/NOTICE\\n+++ b/NOTICE\\n@@ -12,4 +12,4 @@ Unless required by applicable law or agreed to in writing, software\\n distributed under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT\\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\\n License for the specific language governing permissions and limitations under\\n-the License.\\n\\\\ No newline at end of file\\n+the License.\\n\",\"diff --git a/README.md b/README.md\\nindex 277fce4..017c9f7 100644\\n--- a/README.md\\n+++ b/README.md\\n@@ -6,10 +6,11 @@\\n </p>\\n <p align=\\\"center\\\">\\n   <img src=\\\"https://github.com/MAIF/arta/actions/workflows/ci-cd.yml/badge.svg?branch=main\\\" alt=\\\"CI\\\">\\n-  <img src=\\\"https://img.shields.io/badge/coverage-97%25-dark_green\\\" alt=\\\"Coverage\\\">\\n+  <img src=\\\"https://img.shields.io/badge/coverage-95%25-dark_green\\\" alt=\\\"Coverage\\\">\\n   <img src=\\\"https://img.shields.io/pypi/v/arta\\\" alt=\\\"Versions\\\">\\n   <img src=\\\"https://img.shields.io/pypi/pyversions/arta\\\" alt=\\\"Python\\\">\\n-  <img src=\\\"https://img.shields.io/pypi/dm/arta\\\" alt=\\\"Downloads\\\">\\n+  <img src=\\\"https://img.shields.io/pypi/implementation/arta\\\" alt=\\\"Python implementation\\\">\\n+  <img src=\\\"https://img.shields.io/pepy/dt/arta\\\" alt=\\\"Downloads\\\">\\n </p>\\n \\n ---\\n@@ -34,7 +35,7 @@ In other words, facilitate rules handling in our python apps.\\n \\n The need of a python *rules engine* emerged when we were working on a new major release of our internal use of [Melusine](https://github.com/maif/melusine) (i.e., email qualification pipeline with ML capabilities).\\n \\n-We were looking for a python library to *centralize, manage and standardize* all the implemented **business rules** we had but didn't find the perfect fit. \\n+We were looking for a python library to *centralize, manage and standardize* all the implemented **business rules** we had but didn't find the perfect fit.\\n \\n Therefore, we decided to create this package and by extension of the MAIF's values, we planned to share it to the community.\\n \\n@@ -139,4 +140,3 @@ and general hints on how to prepare your pull request. You can also ask for clar\\n This project is Open Source and available under the Apache 2 License.\\n \\n [![Alt MAIF Logo](https://static.maif.fr/resources/img/logo-maif.svg)](https://www.maif.fr/)\\n-\\n\",\"diff --git a/docs/pages/custom_conditions.md b/docs/pages/custom_conditions.md\\nindex 738db89..ad2526d 100644\\n--- a/docs/pages/custom_conditions.md\\n+++ b/docs/pages/custom_conditions.md\\n@@ -147,7 +147,24 @@ classDiagram\\n         #description\\n         #validation_function\\n         #validation_function_parameters\\n-        +verify()\\n+        +CONDITION_DATA_LABEL$\\n+        +CONDITION_ID_PATTERN$\\n+        +verify()*\\n+        +get_sanitized_id()\\n+        +extract_condition_ids_from_expression()$\\n+    }\\n+    class StandardCondition {\\n+      +CONDITION_DATA_LABEL$\\n+      +verify()\\n+    }\\n+    class SimpleCondition {\\n+      +CONDITION_DATA_LABEL$\\n+      +CONDITION_ID_PATTERN$\\n+      +verify()\\n+      +get_sanitized_id()\\n+    }\\n+    class MyCondition {\\n+      +verify()\\n     }\\n ```\\n \\n\",\"diff --git a/docs/pages/how_to.md b/docs/pages/how_to.md\\nindex 23eef18..3910d9e 100644\\n--- a/docs/pages/how_to.md\\n+++ b/docs/pages/how_to.md\\n@@ -99,9 +99,11 @@ The *configuration key* here is:\\n \\n     The built-in file format used by Arta for configuration is **YAML**.\\n \\n-!!! example \\\"Enhancement proposal\\\"\\n+!!! note \\\"You don't like YAML?\\\"\\n \\n-    We are thinking on a design that will allow user-implemented loading of the configuration (e.g., if you prefer using a JSON format). Stay tuned.\\n+    The `config_dict` constructor's parameter of `RulesEngine` lets you give a regular python **dictionary** containing the deserialized configuration. \\n+    \\n+    Thereby, you can use *any file format* to save your configuration. Just deserialize it to a dictionary and use it as an argument.\\n \\n ### YAML file\\n \\n@@ -152,13 +154,17 @@ actions_source_modules:  # (5)\\n \\n !!! tip\\n \\n-    You can split your configuration in multiple YAML files seamlessly in order to keep things clear. Example:\\n+    You can split your configuration in **multiple YAML files** seamlessly in order to keep things clear. Example:\\n     \\n-    * global.yaml => source modules\\n-    * rules.yaml => rules' definition\\n-    * conditions.yaml => conditions' definition\\n+    * *global.yaml* => source modules\\n+    * *rules.yaml* => rules' definition\\n+    * *conditions.yaml* => conditions' definition\\n+\\n+    It's very convenient when you have a lot of different **rules** and **conditions** in your app.\\n+\\n+    !!! tip \\\"A tip in a tip\\\"\\n \\n-    It's very convenient when you have a lot of different rules and conditions in your app.\\n+        You can also split one **rule set** in many different files. Just keep in mind that the aggregation order of your rules will be done following an **alphabetical order of the file names**.\\n \\n ### Condition expression\\n \\n\",\"diff --git a/licenses.md b/licenses.md\\nindex 1bd3ef5..2871557 100644\\n--- a/licenses.md\\n+++ b/licenses.md\\n@@ -4,5 +4,5 @@ Your project dependencies and licenses :\\n \\n ## Python\\n \\n-* Pydantic - MIT : https://github.com/pydantic/pydantic          \\n+* Pydantic - MIT : https://github.com/pydantic/pydantic  \\n * OmegaConf - BSD 3-Clause : https://github.com/omry/omegaconf\\n\",\"diff --git a/src/arta/_engine.py b/src/arta/_engine.py\\nindex 18555c8..c3a1679 100644\\n--- a/src/arta/_engine.py\\n+++ b/src/arta/_engine.py\\n@@ -53,14 +53,17 @@ def __init__(\\n         *,\\n         rules_dict: dict[str, dict[str, Any]] | None = None,\\n         config_path: str | None = None,\\n+        config_dict: dict[str, Any] | None = None,\\n     ) -> None:\\n         \\\"\\\"\\\"Initialize the rules.\\n \\n-        2 possibilities: either 'rules_dict', or 'config_path', not both.\\n+        3 possibilities: either one of 'rules_dict', or 'config_path', or 'config_dict'.\\n \\n         Args:\\n             rules_dict: A dictionary containing the rules' definitions.\\n             config_path: Path of a directory containing the YAML files.\\n+            config_dict: A dictionary containing the configuration (same as YAML files but already\\n+                        parsed in a dictionary).\\n \\n         Raises:\\n             KeyError: Key not found.\\n@@ -71,8 +74,12 @@ def __init__(\\n         factory_mapping_classes: dict[str, type[BaseCondition]] = {}\\n         std_condition_instances: dict[str, StandardCondition] = {}\\n \\n-        if config_path is not None and rules_dict is not None:\\n-            raise ValueError(\\\"RulesEngine takes only one parameter: 'rules_dict' or 'config_path', not both.\\\")\\n+        given_params: list[bool] = [config_path is not None, rules_dict is not None, config_dict is not None]\\n+\\n+        if given_params.count(True) != 1:\\n+            raise ValueError(\\n+                \\\"RulesEngine takes one (and only one) parameter: 'rules_dict' or 'config_path' or 'config_dict'.\\\"\\n+            )\\n \\n         # Init. default parsing_error_strategy (probably not needed because already defined elsewhere)\\n         self._parsing_error_strategy: ParsingErrorStrategy = ParsingErrorStrategy.RAISE\\n@@ -91,13 +98,15 @@ def __init__(\\n             # Attribute definition\\n             self.rules: dict[str, dict[str, list[Rule]]] = self._adapt_user_rules_dict(rules_dict)\\n \\n-        # Initialize with a config_path\\n-        elif config_path is not None:\\n-            # Load config in attribute\\n-            config_dict: dict[str, Any] = load_config(config_path)\\n+        # Initialize with a config_path or config_dict\\n+        else:\\n+            if config_path is not None:\\n+                # Load config in attribute\\n+                config_dict = load_config(config_path)\\n \\n-            # Data validation\\n-            config: Configuration = Configuration(**config_dict)\\n+            if config_dict is not None:\\n+                # Data validation\\n+                config: Configuration = Configuration(**config_dict)\\n \\n             if config.parsing_error_strategy is not None:\\n                 # Set parsing error handling strategy from config\\n@@ -144,8 +153,6 @@ def __init__(\\n                 config=config.dict(),\\n                 factory_mapping_classes=factory_mapping_classes,\\n             )\\n-        else:\\n-            raise ValueError(\\\"RulesEngine needs a parameter: 'rule_dict' or 'config_path'.\\\")\\n \\n     def apply_rules(\\n         self, input_data: dict[str, Any], *, rule_set: str | None = None, verbose: bool = False, **kwargs: Any\\n\",\"diff --git a/src/arta/condition.py b/src/arta/condition.py\\nindex 238b98e..f02df37 100644\\n--- a/src/arta/condition.py\\n+++ b/src/arta/condition.py\\n@@ -10,7 +10,7 @@\\n from typing import Any, Callable\\n \\n from arta.exceptions import ConditionExecutionError\\n-from arta.utils import UPPERCASE_WORD_PATTERN, ParsingErrorStrategy, parse_dynamic_parameter\\n+from arta.utils import ParsingErrorStrategy, parse_dynamic_parameter\\n \\n \\n class BaseCondition(ABC):\\n@@ -26,8 +26,8 @@ class BaseCondition(ABC):\\n     \\\"\\\"\\\"\\n \\n     # Class constants\\n-    CONDITION_DATA_LABEL: str = \\\"Custom condition data (not needed)\\\"\\n-    CONDITION_ID_PATTERN: str = UPPERCASE_WORD_PATTERN\\n+    CONDITION_DATA_LABEL: str = \\\"Undefined condition data (not needed)\\\"\\n+    CONDITION_ID_PATTERN: str = r\\\"\\\\b[A-Z_0-9]+\\\\b\\\"\\n \\n     def __init__(\\n         self,\\n@@ -50,6 +50,31 @@ def __init__(\\n         self._validation_function = validation_function\\n         self._validation_function_parameters = validation_function_parameters\\n \\n+    @abstractmethod\\n+    def verify(self, input_data: dict[str, Any], parsing_error_strategy: ParsingErrorStrategy, **kwargs: Any) -> bool:\\n+        \\\"\\\"\\\"(Abstract)\\n+        Return True if the condition is verified.\\n+\\n+        Args:\\n+            input_data: Input data to apply rules on.\\n+            parsing_error_strategy: Error handling strategy for parameter parsing.\\n+            **kwargs: For user extra arguments.\\n+\\n+        Returns:\\n+            True if the condition is verified, otherwise False.\\n+        \\\"\\\"\\\"\\n+        raise NotImplementedError\\n+\\n+    def get_sanitized_id(self) -> str:\\n+        \\\"\\\"\\\"Return the sanitized (regex) condition id.\\n+\\n+        E.g., 'CONDITION_2'       --> '\\\\\\\\bCONDITION_2\\\\\\\\b'\\n+\\n+        Returns:\\n+            A sanitized regex pattern string.\\n+        \\\"\\\"\\\"\\n+        return rf\\\"\\\\b{self._condition_id}\\\\b\\\"\\n+\\n     @classmethod\\n     def extract_condition_ids_from_expression(cls, condition_expr: str | None = None) -> set[str]:\\n         \\\"\\\"\\\"Get the condition ids from a string (e.g., UPPERCASE words).\\n@@ -71,21 +96,6 @@ def extract_condition_ids_from_expression(cls, condition_expr: str | None = None\\n \\n         return cond_ids\\n \\n-    @abstractmethod\\n-    def verify(self, input_data: dict[str, Any], parsing_error_strategy: ParsingErrorStrategy, **kwargs: Any) -> bool:\\n-        \\\"\\\"\\\"(Abstract)\\n-        Return True if the condition is verified.\\n-\\n-        Args:\\n-            input_data: Input data to apply rules on.\\n-            parsing_error_strategy: Error handling strategy for parameter parsing.\\n-            **kwargs: For user extra arguments.\\n-\\n-        Returns:\\n-            True if the condition is verified, otherwise False.\\n-        \\\"\\\"\\\"\\n-        raise NotImplementedError\\n-\\n \\n class StandardCondition(BaseCondition):\\n     \\\"\\\"\\\"Class implementing a built-in condition, named standard condition.\\n@@ -97,6 +107,9 @@ class StandardCondition(BaseCondition):\\n         validation_function_parameters: Arguments of the validation function.\\n     \\\"\\\"\\\"\\n \\n+    # Class constants\\n+    CONDITION_DATA_LABEL: str = \\\"Standard condition (will be overwritten)\\\"\\n+\\n     def verify(self, input_data: dict[str, Any], parsing_error_strategy: ParsingErrorStrategy, **kwargs: Any) -> bool:\\n         \\\"\\\"\\\"Return True if the condition is verified.\\n \\n@@ -142,8 +155,8 @@ class SimpleCondition(BaseCondition):\\n     \\\"\\\"\\\"\\n \\n     # Class constants\\n-    CUSTOM_CONDITION_DATA_LABEL: str = \\\"Simple condition data (not needed)\\\"\\n-    CONDITION_ID_PATTERN: str = r\\\"(?:input\\\\.|output\\\\.)(?:[a-z_0-9!=<>\\\\\\\"NTF\\\\.\\\\*\\\\+\\\\-/]*)(?:[a-z\\\\s]*\\\\\\\"|)\\\"\\n+    CONDITION_DATA_LABEL: str = \\\"Simple condition data (not needed)\\\"\\n+    CONDITION_ID_PATTERN: str = r\\\"(?:input\\\\.|output\\\\.)(?:[a-zA-Z0-9!=<>\\\\\\\"NTF\\\\.\\\\*\\\\+\\\\-_/]*)(?:[a-zA-Z\\\\s\\\\-_]*\\\\\\\"|)\\\"\\n \\n     def verify(self, input_data: dict[str, Any], parsing_error_strategy: ParsingErrorStrategy, **kwargs: Any) -> bool:\\n         \\\"\\\"\\\"Return True if the condition is verified.\\n@@ -196,3 +209,13 @@ def verify(self, input_data: dict[str, Any], parsing_error_strategy: ParsingErro\\n             pass\\n \\n         return bool_var\\n+\\n+    def get_sanitized_id(self) -> str:\\n+        \\\"\\\"\\\"Return the sanitized (regex) condition id.\\n+\\n+        E.g., 'input.power==\\\"fly\\\"' --> 'input\\\\\\\\.power==\\\\\\\\\\\"fly\\\\\\\\\\\"'\\n+\\n+        Returns:\\n+            A sanitized regex pattern string.\\n+        \\\"\\\"\\\"\\n+        return re.escape(self._condition_id)\\n\",\"diff --git a/src/arta/config.py b/src/arta/config.py\\nindex ab3ecd3..9ced71d 100644\\n--- a/src/arta/config.py\\n+++ b/src/arta/config.py\\n@@ -20,8 +20,11 @@ def load_config(config_dir_path: str) -> dict[str, Any]:\\n         config: Loaded config dictionary.\\n     \\\"\\\"\\\"\\n     conf_files: list[Path] = [f for patt in [\\\"*.yml\\\", \\\"*.yaml\\\"] for f in Path(config_dir_path).rglob(patt)]\\n-    omega_config: DictConfig | ListConfig = OmegaConf.unsafe_merge(*[OmegaConf.load(file) for file in conf_files])\\n \\n+    # Alphabetical sorting of the file names, it enables splitting the rule sets over different files\\n+    conf_files.sort()\\n+\\n+    omega_config: DictConfig | ListConfig = OmegaConf.unsafe_merge(*[OmegaConf.load(file) for file in conf_files])\\n     config: dict[str, Any] = cast(dict[str, Any], OmegaConf.to_object(omega_config))\\n \\n     return config\\n\",\"diff --git a/src/arta/rule.py b/src/arta/rule.py\\nindex 68a9819..d0fd3f9 100644\\n--- a/src/arta/rule.py\\n+++ b/src/arta/rule.py\\n@@ -13,7 +13,6 @@\\n from arta.utils import (\\n     ParsingErrorStrategy,\\n     parse_dynamic_parameter,\\n-    sanitize_regex,\\n )\\n \\n \\n@@ -218,7 +217,7 @@ def _evaluate_condition_expr(\\n                 raise ConditionExecutionError(f\\\"Error while executing condition '{cond_id}': {str(error)}\\\") from error\\n \\n             # Replace the result in the boolean expression\\n-            sanit_cond_id: str = sanitize_regex(cond_id)\\n+            sanit_cond_id: str = condition.get_sanitized_id()\\n             bool_expr = re.sub(rf\\\"{sanit_cond_id}\\\", str(bool_var), bool_expr)\\n \\n         # Evaluate the final boolean expressions = final result\\n\",\"diff --git a/src/arta/utils.py b/src/arta/utils.py\\nindex 7b98362..2552707 100644\\n--- a/src/arta/utils.py\\n+++ b/src/arta/utils.py\\n@@ -7,9 +7,6 @@\\n from enum import Enum\\n from typing import Any\\n \\n-# Global constants\\n-UPPERCASE_WORD_PATTERN: str = r\\\"\\\\b[A-Z_0-9]+\\\\b\\\"\\n-\\n \\n class ParsingErrorStrategy(str, Enum):\\n     \\\"\\\"\\\"Define authorized error handling strategies when a key is missing in the input data.\\\"\\\"\\\"\\n@@ -147,26 +144,3 @@ def check_parsing_error_strategy_override(\\n         param_path = \\\"\\\".join(param_path.split(\\\"?\\\")[:-1])\\n \\n     return default_value, param_path, parsing_error_strategy\\n-\\n-\\n-def sanitize_regex(pattern: str) -> str:\\n-    \\\"\\\"\\\"Return a sanitized regex string.\\n-\\n-    E.g., 'input.power==\\\"fly\\\"' --> 'input\\\\\\\\.power==\\\\\\\\\\\"fly\\\\\\\\\\\"'\\n-           'CONDITION_2'       --> '\\\\\\\\bCONDITION_2\\\\\\\\b'\\n-\\n-    Args:\\n-        pattern: A regex pattern string.\\n-\\n-    Returns:\\n-        A sanitized regex pattern string.\\n-    \\\"\\\"\\\"\\n-    if re.search(UPPERCASE_WORD_PATTERN, pattern) is None:\\n-        # Pattern is not like 'CONDITION_2' but like 'input.power==\\\"fly\\\"'\\n-        pattern = (\\n-            pattern.replace('\\\"', r\\\"\\\\\\\"\\\").replace(\\\".\\\", r\\\"\\\\.\\\").replace(\\\"+\\\", r\\\"\\\\+\\\").replace(\\\"-\\\", r\\\"\\\\-\\\").replace(\\\"*\\\", r\\\"\\\\*\\\")\\n-        )\\n-    else:\\n-        pattern = rf\\\"\\\\b{pattern}\\\\b\\\"\\n-\\n-    return pattern\\n\"]", "test_patch": "[\"diff --git a/.github/workflows/ci-cd.yml b/.github/workflows/ci-cd.yml\\nindex 9ee0d49..38d7eef 100644\\n--- a/.github/workflows/ci-cd.yml\\n+++ b/.github/workflows/ci-cd.yml\\n@@ -30,7 +30,7 @@ jobs:\\n           pip install .[dev,test]\\n       - name: Cache pre-commit hooks\\n         uses: actions/cache@v4\\n-        with: \\n+        with:\\n           path: ~/.cache/pre-commit\\n           key: ${{ runner.os }}-precommit-${{ hashFiles('.pre-commit-config.yaml') }}\\n       - name: Run pre-commit hooks\\n@@ -47,7 +47,7 @@ jobs:\\n       - name: Checkout\\n         uses: actions/checkout@v4\\n       - name: Set up Python version\\n-        uses: actions/setup-python@v5 \\n+        uses: actions/setup-python@v5\\n         with:\\n           python-version: '3.x'\\n       - name: Build package\\n\",\"diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\\nindex e61c989..a9ba127 100644\\n--- a/CONTRIBUTING.md\\n+++ b/CONTRIBUTING.md\\n@@ -11,7 +11,7 @@ Explain the layout of your repo.\\n \\n ## Workflow\\n \\n-The steps below describe how to get a patch into a main development branch (e.g. `master`). \\n+The steps below describe how to get a patch into a main development branch (e.g. `master`).\\n The steps are exactly the same for everyone involved in the project (be it core team, or first time contributor).\\n We follow the standard GitHub [fork & pull](https://help.github.com/articles/using-pull-requests/#fork--pull) approach to pull requests. Just fork the official repo, develop in a branch, and submit a PR!\\n \\n@@ -20,14 +20,14 @@ We follow the standard GitHub [fork & pull](https://help.github.com/articles/usi\\n 1. [Fork the project](https://github.com/MAIF/arta#fork-destination-box) on GitHub. You'll need to create a feature-branch for your work on your fork, as this way you'll be able to submit a pull request against the mainline *Arta*.\\n 1. Create a branch on your fork and work on the feature. For example: `git checkout -b feature/awesome-new-feature`\\n    - Please make sure to follow the general quality guidelines (specified below) when developing your patch.\\n-   - Please write additional tests covering your feature and adjust existing ones if needed before submitting your pull request. \\n+   - Please write additional tests covering your feature and adjust existing ones if needed before submitting your pull request.\\n 1. Once your feature is complete, prepare the commit with a good commit message, for example: `Adding canary mode support for services #42` (note the reference to the ticket it aimed to resolve).\\n 1. If it's a new feature, or a change of behaviour, document it on the [Arta docs](https://maif.github.io/arta/home/), remember, an undocumented feature is not a feature.\\n 1. Now it's finally time to [submit the pull request](https://help.github.com/articles/using-pull-requests)!\\n     - Please make sure to include a reference to the issue you're solving *in the comment* for the Pull Request, this will cause the PR to be linked properly with the Issue. Examples of good phrases for this are: \\\"Resolves #1234\\\" or \\\"Refs #1234\\\".\\n 1. Now both committers and interested people will review your code. This process is to ensure the code we merge is of the best possible quality, and that no silly mistakes slip through. You're expected to follow-up these comments by adding new commits to the same branch. The commit messages of those commits can be more loose, for example: `Removed debugging using printline`, as they all will be squashed into one commit before merging into the main branch.\\n     - The community and team are eager to share, so don't be afraid to ask follow up questions if you didn't understand some comment, or would like clarification on how to continue with a given feature. We're here to help, so feel free to ask and discuss any kind of questions you might have during review!\\n-1. After the review you should fix the issues as needed (pushing a new commit for new review etc.), iterating until the reviewers give their thumbs up–which is signalled usually by a comment saying `LGTM`, which means \\\"Looks Good To Me\\\". \\n+1. After the review you should fix the issues as needed (pushing a new commit for new review etc.), iterating until the reviewers give their thumbs up–which is signalled usually by a comment saying `LGTM`, which means \\\"Looks Good To Me\\\".\\n 1. If the code change needs to be applied to other branches as well (for example a bugfix needing to be backported to a previous version), one of the team will either ask you to submit a PR with the same commit to the old branch, or do this for you.\\n 1. Once everything is said and done, your pull request gets merged. You've made it!\\n \\n@@ -35,7 +35,7 @@ The TL;DR; of the above very precise workflow version is:\\n \\n 1. Fork arta\\n 2. Hack and test on your feature (on a branch)\\n-3. Document it \\n+3. Document it\\n 4. Submit a PR\\n 6. Keep polishing it until received thumbs up from the core team\\n 7. Profit!\\n@@ -74,4 +74,4 @@ pytest tests/\\n \\n ## Continuous integration\\n \\n-TODO\\n\\\\ No newline at end of file\\n+TODO\\n\",\"diff --git a/pyproject.toml b/pyproject.toml\\nindex 543b3dd..1485fcf 100644\\n--- a/pyproject.toml\\n+++ b/pyproject.toml\\n@@ -4,7 +4,7 @@ build-backend = \\\"setuptools.build_meta\\\"\\n \\n [project]\\n name = \\\"arta\\\"\\n-version = \\\"0.7.1\\\"\\n+version = \\\"0.8.0\\\"\\n requires-python = \\\">3.8.0\\\"\\n description = \\\"An Open Source Rules Engine - Make rule handling simple\\\"\\n readme = \\\"README.md\\\"\\n@@ -65,10 +65,14 @@ testpaths = [\\\"tests\\\"]\\n [tool.mypy]\\n exclude = [\\\"tests\\\"]\\n ignore_missing_imports = true\\n+plugins = [\\\"pydantic.mypy\\\"]\\n \\n [tool.ruff]\\n line-length = 120\\n \\n+[tool.ruff.lint.pydocstyle]\\n+convention = \\\"google\\\"\\n+\\n [tool.ruff.lint]\\n select = [\\n     \\\"E\\\",    # pycodestyle errors\\n@@ -86,4 +90,7 @@ select = [\\n     \\\"NPY\\\",  # NumPy-specific rules\\n ]\\n ignore = [\\\"E501\\\", \\\"D2\\\", \\\"D3\\\", \\\"D4\\\", \\\"D104\\\", \\\"D100\\\", \\\"D106\\\", \\\"S311\\\"]\\n-exclude = [\\\"tests/*\\\"]\\n\\\\ No newline at end of file\\n+exclude = [\\\"tests/*\\\"]\\n+\\n+[tool.ruff.format]\\n+docstring-code-format = true\\n\",\"diff --git a/tests/examples/failing_conf/missing_action_source_modules/missing_action_source_modules.yaml b/tests/examples/failing_conf/missing_action_source_modules/missing_action_source_modules.yaml\\nindex 76a96fc..7ab443d 100644\\n--- a/tests/examples/failing_conf/missing_action_source_modules/missing_action_source_modules.yaml\\n+++ b/tests/examples/failing_conf/missing_action_source_modules/missing_action_source_modules.yaml\\n@@ -23,7 +23,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/missing_condition_source_modules/missing_condition_source_modules.yaml b/tests/examples/failing_conf/missing_condition_source_modules/missing_condition_source_modules.yaml\\nindex 84ae3d3..310e932 100644\\n--- a/tests/examples/failing_conf/missing_condition_source_modules/missing_condition_source_modules.yaml\\n+++ b/tests/examples/failing_conf/missing_condition_source_modules/missing_condition_source_modules.yaml\\n@@ -23,7 +23,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/missing_conditions/missing_conditions.yaml b/tests/examples/failing_conf/missing_conditions/missing_conditions.yaml\\nindex 0aced67..5c266d9 100644\\n--- a/tests/examples/failing_conf/missing_conditions/missing_conditions.yaml\\n+++ b/tests/examples/failing_conf/missing_conditions/missing_conditions.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/without_parsing_error_strategy/without_parsing_error_strategy.yaml b/tests/examples/failing_conf/without_parsing_error_strategy/without_parsing_error_strategy.yaml\\nindex 970c4b9..d29362a 100644\\n--- a/tests/examples/failing_conf/without_parsing_error_strategy/without_parsing_error_strategy.yaml\\n+++ b/tests/examples/failing_conf/without_parsing_error_strategy/without_parsing_error_strategy.yaml\\n@@ -25,7 +25,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/wrong_action/wrong_action.yaml b/tests/examples/failing_conf/wrong_action/wrong_action.yaml\\nindex a17f530..d1f9d69 100644\\n--- a/tests/examples/failing_conf/wrong_action/wrong_action.yaml\\n+++ b/tests/examples/failing_conf/wrong_action/wrong_action.yaml\\n@@ -25,7 +25,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: dummy_funct\\n\",\"diff --git a/tests/examples/failing_conf/wrong_condition/wrong_condition.yaml b/tests/examples/failing_conf/wrong_condition/wrong_condition.yaml\\nindex fbc2fe5..cd2b3f7 100644\\n--- a/tests/examples/failing_conf/wrong_condition/wrong_condition.yaml\\n+++ b/tests/examples/failing_conf/wrong_condition/wrong_condition.yaml\\n@@ -25,7 +25,7 @@ rules:\\n         condition: DUMMY_CONDITION\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/wrong_parsing_error_strategy/wrong_parsing_error_strategy.yaml b/tests/examples/failing_conf/wrong_parsing_error_strategy/wrong_parsing_error_strategy.yaml\\nindex d1ebd77..0ef9db8 100644\\n--- a/tests/examples/failing_conf/wrong_parsing_error_strategy/wrong_parsing_error_strategy.yaml\\n+++ b/tests/examples/failing_conf/wrong_parsing_error_strategy/wrong_parsing_error_strategy.yaml\\n@@ -27,7 +27,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/wrong_rules_nested/wrong_rules_nested.yaml b/tests/examples/failing_conf/wrong_rules_nested/wrong_rules_nested.yaml\\nindex 67cd2d8..2492f7a 100644\\n--- a/tests/examples/failing_conf/wrong_rules_nested/wrong_rules_nested.yaml\\n+++ b/tests/examples/failing_conf/wrong_rules_nested/wrong_rules_nested.yaml\\n@@ -25,7 +25,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         dummy: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/failing_conf/wrong_validation_function/wrong_validation_function.yaml b/tests/examples/failing_conf/wrong_validation_function/wrong_validation_function.yaml\\nindex 0ae9eb2..e092f0f 100644\\n--- a/tests/examples/failing_conf/wrong_validation_function/wrong_validation_function.yaml\\n+++ b/tests/examples/failing_conf/wrong_validation_function/wrong_validation_function.yaml\\n@@ -25,7 +25,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n\",\"diff --git a/tests/examples/good_conf/__init__.py b/tests/examples/good_conf/__init__.py\\ndeleted file mode 100644\\nindex e69de29..0000000\\n\",\"diff --git a/tests/examples/good_conf/rules.yaml b/tests/examples/good_conf/rules.yaml\\nindex d985237..6b87c39 100644\\n--- a/tests/examples/good_conf/rules.yaml\\n+++ b/tests/examples/good_conf/rules.yaml\\n@@ -7,7 +7,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         condition: null\\n         action: set_admission\\n@@ -28,7 +28,7 @@ rules:\\n         condition: not(IS_SPEAKING_ENGLISH)\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n@@ -36,4 +36,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/good_conf/rules_bis.yaml b/tests/examples/good_conf/rules_bis.yaml\\nindex 15ff75d..d4b8e84 100644\\n--- a/tests/examples/good_conf/rules_bis.yaml\\n+++ b/tests/examples/good_conf/rules_bis.yaml\\n@@ -8,7 +8,7 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         custom_condition: null\\n         condition: null\\n@@ -33,13 +33,13 @@ rules:\\n         condition: null\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"dummy_course\\\" \\n+          course_id: \\\"dummy_course\\\"\\n       COURSE_INTERNATIONAL:\\n         custom_condition: null\\n         condition: null\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         custom_condition: null\\n@@ -49,7 +49,7 @@ rules:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n           meal: input.favorite_meal\\n-# Third rule set  \\n+# Third rule set\\n   third_rule_set:\\n     admission:\\n       ADM_OK:\\n@@ -57,14 +57,14 @@ rules:\\n         condition: HAS_SCHOOL_AUTHORIZED_POWER\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         custom_condition: null\\n         condition: null\\n         action: set_admission\\n         action_parameters:\\n           value: false\\n-# Fourth rule set  \\n+# Fourth rule set\\n   fourth_rule_set:\\n     admission_rules:\\n       ADM_OK:\\n@@ -72,10 +72,10 @@ rules:\\n         condition: null\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         custom_condition: null\\n         condition: null\\n         action: set_admission\\n         action_parameters:\\n-          value: false\\n\\\\ No newline at end of file\\n+          value: false\\n\",\"diff --git a/tests/examples/ignore_conf/__init__.py b/tests/examples/ignore_conf/__init__.py\\ndeleted file mode 100644\\nindex e69de29..0000000\\n\",\"diff --git a/tests/examples/ignore_conf/conditions.yaml b/tests/examples/ignore_conf/conditions.yaml\\nindex 75005ba..95fe08c 100644\\n--- a/tests/examples/ignore_conf/conditions.yaml\\n+++ b/tests/examples/ignore_conf/conditions.yaml\\n@@ -8,4 +8,4 @@ conditions:\\n       - \\\"strength\\\"\\n       - \\\"fly\\\"\\n       - \\\"immortality\\\"\\n-      candidate_powers: input.powers\\n\\\\ No newline at end of file\\n+      candidate_powers: input.powers\\n\",\"diff --git a/tests/examples/ignore_conf/rules.yaml b/tests/examples/ignore_conf/rules.yaml\\nindex 83d6e47..94d7486 100644\\n--- a/tests/examples/ignore_conf/rules.yaml\\n+++ b/tests/examples/ignore_conf/rules.yaml\\n@@ -10,4 +10,3 @@ rules:\\n           list_str:\\n           - \\\"My name is \\\"\\n           - input.name.first\\n-\\n\",\"diff --git a/tests/examples/simple_cond_conf/default/rules_simple_cond.yaml b/tests/examples/simple_cond_conf/default/rules_simple_cond.yaml\\nindex 0b6bc8b..13382a2 100644\\n--- a/tests/examples/simple_cond_conf/default/rules_simple_cond.yaml\\n+++ b/tests/examples/simple_cond_conf/default/rules_simple_cond.yaml\\n@@ -11,7 +11,7 @@ rules:\\n         simple_condition: input.power==\\\"strength\\\" or input.power==\\\"fly\\\" or input.power==\\\"time-manipulation\\\"\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -32,7 +32,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.admission.admission==False\\n@@ -40,4 +40,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/simple_cond_conf/ignore/rules_simple_cond_ignore.yaml b/tests/examples/simple_cond_conf/ignore/rules_simple_cond_ignore.yaml\\nindex 249abbc..fac2706 100644\\n--- a/tests/examples/simple_cond_conf/ignore/rules_simple_cond_ignore.yaml\\n+++ b/tests/examples/simple_cond_conf/ignore/rules_simple_cond_ignore.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         simple_condition: input.power==\\\"strength\\\" or input.power==\\\"fly\\\"\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -34,7 +34,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.admission.admission==False\\n@@ -42,4 +42,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/simple_cond_conf/raise/rules_simple_cond_raise.yaml b/tests/examples/simple_cond_conf/raise/rules_simple_cond_raise.yaml\\nindex b309377..18fe621 100644\\n--- a/tests/examples/simple_cond_conf/raise/rules_simple_cond_raise.yaml\\n+++ b/tests/examples/simple_cond_conf/raise/rules_simple_cond_raise.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         simple_condition: input.power==\\\"strength\\\" or input.power==\\\"fly\\\"\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -34,7 +34,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.admission.admission==False\\n@@ -42,4 +42,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/simple_cond_conf/uppercase/rules_simple_cond_uppercase.yaml b/tests/examples/simple_cond_conf/uppercase/rules_simple_cond_uppercase.yaml\\nnew file mode 100644\\nindex 0000000..58503af\\n--- /dev/null\\n+++ b/tests/examples/simple_cond_conf/uppercase/rules_simple_cond_uppercase.yaml\\n@@ -0,0 +1,15 @@\\n+---\\n+# Global settings\\n+actions_source_modules:\\n+  - \\\"tests.examples.code.actions\\\"\\n+\\n+# Rule sets for simple conditions tests\\n+rules:\\n+  default_rule_set:\\n+    uppercase:\\n+      RULE_1:\\n+        simple_condition: input.text==\\\"SUPERHERO\\\" or input.text==\\\"SUPER HERO\\\" or input.text==\\\"SUPER_HERO\\\" or input.text==\\\"SUPER-HERO\\\"\\n+        action: concatenate_str\\n+        action_parameters:\\n+          list_str:\\n+            - OK\\n\",\"diff --git a/tests/examples/simple_cond_conf/whitespace/rules_simple_whitespace.yaml b/tests/examples/simple_cond_conf/whitespace/rules_simple_cond_whitespace.yaml\\nsimilarity index 100%\\nrename from tests/examples/simple_cond_conf/whitespace/rules_simple_whitespace.yaml\\nrename to tests/examples/simple_cond_conf/whitespace/rules_simple_cond_whitespace.yaml\\n\",\"diff --git a/tests/examples/simple_cond_conf/wrong/dummy/ignore/rules_simple_dummy.yaml b/tests/examples/simple_cond_conf/wrong/dummy/ignore/rules_simple_dummy.yaml\\nindex 80279b7..6bbe9b9 100644\\n--- a/tests/examples/simple_cond_conf/wrong/dummy/ignore/rules_simple_dummy.yaml\\n+++ b/tests/examples/simple_cond_conf/wrong/dummy/ignore/rules_simple_dummy.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         simple_condition: input.age==\\\"strength\\\" or dummy\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -34,7 +34,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.admission.admission==False\\n@@ -42,4 +42,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/simple_cond_conf/wrong/ignore/rules_simple_wrong_ignore.yaml b/tests/examples/simple_cond_conf/wrong/ignore/rules_simple_wrong_ignore.yaml\\nindex e2289c5..1206311 100644\\n--- a/tests/examples/simple_cond_conf/wrong/ignore/rules_simple_wrong_ignore.yaml\\n+++ b/tests/examples/simple_cond_conf/wrong/ignore/rules_simple_wrong_ignore.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         simple_condition: input.power==\\\"strength\\\" or input.dummy==\\\"fly\\\"\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -34,7 +34,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.dummy.admission==False\\n@@ -42,4 +42,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/simple_cond_conf/wrong/raise/rules_simple_wrong_raise.yaml b/tests/examples/simple_cond_conf/wrong/raise/rules_simple_wrong_raise.yaml\\nindex 1e10247..6d514b6 100644\\n--- a/tests/examples/simple_cond_conf/wrong/raise/rules_simple_wrong_raise.yaml\\n+++ b/tests/examples/simple_cond_conf/wrong/raise/rules_simple_wrong_raise.yaml\\n@@ -13,7 +13,7 @@ rules:\\n         simple_condition: input.power==\\\"strength\\\" or input.dummy==\\\"fly\\\"\\n         action: set_admission\\n         action_parameters:\\n-          value: true      \\n+          value: true\\n       ADM_KO:\\n         simple_condition: null\\n         action: set_admission\\n@@ -34,7 +34,7 @@ rules:\\n         simple_condition: input.language!=\\\"english\\\"\\n         action: set_student_course\\n         action_parameters:\\n-          course_id: \\\"international\\\"      \\n+          course_id: \\\"international\\\"\\n     email:\\n       EMAIL_COOK:\\n         simple_condition: input.favorite_meal!=None and not output.dummy.admission==False\\n@@ -42,4 +42,4 @@ rules:\\n         action_parameters:\\n           mail_to: \\\"cook@super-heroes.test\\\"\\n           mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n-          meal: input.favorite_meal\\n\\\\ No newline at end of file\\n+          meal: input.favorite_meal\\n\",\"diff --git a/tests/examples/splitted_rule_set/splitted_rules_1.yaml b/tests/examples/splitted_rule_set/splitted_rules_1.yaml\\nnew file mode 100644\\nindex 0000000..15f90e6\\n--- /dev/null\\n+++ b/tests/examples/splitted_rule_set/splitted_rules_1.yaml\\n@@ -0,0 +1,26 @@\\n+---\\n+rules:\\n+  default_rule_set:\\n+    admission:\\n+      ADM_OK:\\n+        condition: HAS_SCHOOL_AUTHORIZED_POWER\\n+        action: set_admission\\n+        action_parameters:\\n+          value: true\\n+      ADM_KO:\\n+        condition: null\\n+        action: set_admission\\n+        action_parameters:\\n+          value: false\\n+\\n+conditions_source_modules:\\n+  - \\\"tests.examples.code.conditions\\\"\\n+actions_source_modules:\\n+  - \\\"tests.examples.code.actions\\\"\\n+\\n+parsing_error_strategy: raise\\n+\\n+custom_classes_source_modules:\\n+  - \\\"tests.examples.code.custom_class\\\"\\n+condition_factory_mapping:\\n+  custom_condition: \\\"CustomCondition\\\"\\n\",\"diff --git a/tests/examples/splitted_rule_set/splitted_rules_2.yaml b/tests/examples/splitted_rule_set/splitted_rules_2.yaml\\nnew file mode 100644\\nindex 0000000..4373b88\\n--- /dev/null\\n+++ b/tests/examples/splitted_rule_set/splitted_rules_2.yaml\\n@@ -0,0 +1,60 @@\\n+---\\n+rules:\\n+  default_rule_set:\\n+    course:\\n+      COURSE_ENGLISH:\\n+        condition: IS_SPEAKING_ENGLISH and not(IS_AGE_UNKNOWN)\\n+        action: set_student_course\\n+        action_parameters:\\n+          course_id: \\\"english\\\"\\n+      COURSE_SENIOR:\\n+        condition: IS_AGE_UNKNOWN\\n+        action: set_student_course\\n+        action_parameters:\\n+          course_id: \\\"senior\\\"\\n+      COURSE_INTERNATIONAL:\\n+        condition: not(IS_SPEAKING_ENGLISH)\\n+        action: set_student_course\\n+        action_parameters:\\n+          course_id: \\\"international\\\"\\n+    email:\\n+      EMAIL_COOK:\\n+        condition: HAS_SCHOOL_AUTHORIZED_POWER\\n+        action: send_email\\n+        action_parameters:\\n+          mail_to: \\\"cook@super-heroes.test\\\"\\n+          mail_content: \\\"Thanks for preparing once a month the following dish:\\\"\\n+          meal: input.favorite_meal\\n+\\n+conditions:\\n+  HAS_SCHOOL_AUTHORIZED_POWER:\\n+    description: \\\"Does it have school authorized power?\\\"\\n+    validation_function: has_authorized_super_power\\n+    condition_parameters:\\n+      authorized_powers:\\n+      - \\\"strength\\\"\\n+      - \\\"fly\\\"\\n+      - \\\"immortality\\\"\\n+      candidate_powers: input.powers\\n+  IS_SPEAKING_FRENCH:\\n+    description: \\\"Does it speak french?\\\"\\n+    validation_function: is_speaking_language\\n+    condition_parameters:\\n+      value: \\\"french\\\"\\n+      spoken_language: input.language\\n+  IS_SPEAKING_ENGLISH:\\n+    description: \\\"Does it speak english?\\\"\\n+    validation_function: is_speaking_language\\n+    condition_parameters:\\n+      value: \\\"english\\\"\\n+      spoken_language: input.language\\n+  IS_AGE_UNKNOWN:\\n+    description: \\\"Do we know his age?\\\"\\n+    validation_function: is_age_unknown\\n+    condition_parameters:\\n+      age: input.age\\n+  HAS_FAVORITE_MEAL:\\n+    description: \\\"Does it have a favorite meal?\\\"\\n+    validation_function: has_favorite_meal\\n+    condition_parameters:\\n+      favorite_meal: input.favorite_meal\\n\",\"diff --git a/tests/unit/test_engine.py b/tests/unit/test_engine.py\\nindex 20b8ebc..9e75710 100644\\n--- a/tests/unit/test_engine.py\\n+++ b/tests/unit/test_engine.py\\n@@ -4,6 +4,7 @@\\n \\n import pytest\\n from arta import RulesEngine\\n+from arta.config import load_config\\n \\n \\n def test_instanciation(base_config_path):\\n@@ -13,6 +14,10 @@ def test_instanciation(base_config_path):\\n     eng_1 = RulesEngine(config_path=path)\\n     assert isinstance(eng_1, RulesEngine)\\n \\n+    config_dict = load_config(path)\\n+    eng_2 = RulesEngine(config_dict=config_dict)\\n+    assert isinstance(eng_2, RulesEngine)\\n+\\n     # Dummy action function\\n     set_value = lambda value, **kwargs: {\\\"value\\\": value}\\n \\n@@ -33,12 +38,12 @@ def test_instanciation(base_config_path):\\n         }\\n     }\\n     # Dictionary instanciation\\n-    eng_2 = RulesEngine(rules_dict=raw_rules)\\n-    assert isinstance(eng_2, RulesEngine)\\n+    eng_3 = RulesEngine(rules_dict=raw_rules)\\n+    assert isinstance(eng_3, RulesEngine)\\n \\n \\n @pytest.mark.parametrize(\\n-    \\\"input_data, rule_set, verbose, good_results\\\",\\n+    \\\"input_data, config_dir, rule_set, verbose, good_results\\\",\\n     [\\n         (\\n             {\\n@@ -47,6 +52,7 @@ def test_instanciation(base_config_path):\\n                 \\\"powers\\\": [\\\"strength\\\", \\\"fly\\\"],\\n                 \\\"favorite_meal\\\": \\\"Spinach\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"default_rule_set\\\",\\n             False,\\n             {\\n@@ -62,6 +68,7 @@ def test_instanciation(base_config_path):\\n                 \\\"powers\\\": [\\\"strength\\\", \\\"fly\\\"],\\n                 \\\"favorite_meal\\\": \\\"Spinach\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"default_rule_set\\\",\\n             True,\\n             {\\n@@ -116,6 +123,7 @@ def test_instanciation(base_config_path):\\n                 \\\"favorite_meal\\\": \\\"Spinach\\\",\\n                 \\\"DUMMY_KEY\\\": \\\"foo\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"second_rule_set\\\",\\n             False,\\n             {\\n@@ -132,6 +140,7 @@ def test_instanciation(base_config_path):\\n                 \\\"favorite_meal\\\": \\\"Spinach\\\",\\n                 \\\"DUMMY_KEY\\\": \\\"foo\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"second_rule_set\\\",\\n             True,\\n             {\\n@@ -196,6 +205,7 @@ def test_instanciation(base_config_path):\\n                 \\\"weapons\\\": [\\\"Magic lasso\\\", \\\"Bulletproof bracelets\\\", \\\"Sword\\\", \\\"Shield\\\"],\\n                 \\\"DUMMY_KEY_2\\\": \\\"bar\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"second_rule_set\\\",\\n             False,\\n             {\\n@@ -213,6 +223,7 @@ def test_instanciation(base_config_path):\\n                 \\\"weapons\\\": [\\\"Magic lasso\\\", \\\"Bulletproof bracelets\\\", \\\"Sword\\\", \\\"Shield\\\"],\\n                 \\\"DUMMY_KEY_3\\\": \\\"bar\\\",\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"second_rule_set\\\",\\n             False,\\n             {\\n@@ -230,6 +241,7 @@ def test_instanciation(base_config_path):\\n                 \\\"weapons\\\": [\\\"Magic lasso\\\", \\\"Bulletproof bracelets\\\", \\\"Sword\\\", \\\"Shield\\\"],\\n                 \\\"DUMMY_KEY_4\\\": None,\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"third_rule_set\\\",\\n             False,\\n             {\\n@@ -245,21 +257,42 @@ def test_instanciation(base_config_path):\\n                 \\\"weapons\\\": [\\\"Magic lasso\\\", \\\"Bulletproof bracelets\\\", \\\"Sword\\\", \\\"Shield\\\"],\\n                 \\\"DUMMY_KEY\\\": None,\\n             },\\n+            \\\"good_conf\\\",\\n             \\\"third_rule_set\\\",\\n             False,\\n             {\\n                 \\\"admission\\\": {\\\"admission\\\": False},\\n             },\\n         ),\\n+        (\\n+            {\\n+                \\\"age\\\": None,\\n+                \\\"language\\\": \\\"french\\\",\\n+                \\\"powers\\\": [\\\"strength\\\", \\\"fly\\\"],\\n+                \\\"favorite_meal\\\": \\\"Spinach\\\",\\n+            },\\n+            \\\"splitted_rule_set\\\",\\n+            \\\"default_rule_set\\\",\\n+            False,\\n+            {\\n+                \\\"admission\\\": {\\\"admission\\\": True},\\n+                \\\"course\\\": {\\\"course_id\\\": \\\"senior\\\"},\\n+                \\\"email\\\": True,\\n+            },\\n+        ),\\n     ],\\n )\\n-def test_conf_apply_rules(input_data, rule_set, verbose, good_results, base_config_path):\\n+def test_conf_apply_rules(input_data, config_dir, rule_set, verbose, good_results, base_config_path):\\n     \\\"\\\"\\\"Unit test of the method RulesEngine.apply_rules()\\\"\\\"\\\"\\n-    config_path = os.path.join(base_config_path, \\\"good_conf\\\")\\n-    eng = RulesEngine(config_path=config_path)\\n-    res = eng.apply_rules(input_data=input_data, rule_set=rule_set, verbose=verbose)\\n+    path = os.path.join(base_config_path, config_dir)\\n+    eng_1 = RulesEngine(config_path=path)\\n+    res_1 = eng_1.apply_rules(input_data=input_data, rule_set=rule_set, verbose=verbose)\\n \\n-    assert res == good_results\\n+    config_dict = load_config(path)\\n+    eng_2 = RulesEngine(config_dict=config_dict)\\n+    res_2 = eng_2.apply_rules(input_data=input_data, rule_set=rule_set, verbose=verbose)\\n+\\n+    assert res_1 == res_2 == good_results\\n \\n \\n @pytest.mark.parametrize(\\n\",\"diff --git a/tests/unit/test_simple_condition.py b/tests/unit/test_simple_condition.py\\nindex 4344469..e277aff 100644\\n--- a/tests/unit/test_simple_condition.py\\n+++ b/tests/unit/test_simple_condition.py\\n@@ -67,6 +67,13 @@\\n             \\\"simple_cond_conf/whitespace\\\",\\n             {\\\"whitespace\\\": \\\"OK\\\"},\\n         ),\\n+        (\\n+            {\\n+                \\\"text\\\": \\\"SUPER HERO\\\",\\n+            },\\n+            \\\"simple_cond_conf/uppercase\\\",\\n+            {\\\"uppercase\\\": \\\"OK\\\"},\\n+        ),\\n     ],\\n )\\n def test_simple_condition(input_data, config_dir, good_results, base_config_path):\\n\",\"diff --git a/tox.ini b/tox.ini\\nindex 4e75f9e..5f3ee84 100644\\n--- a/tox.ini\\n+++ b/tox.ini\\n@@ -9,14 +9,14 @@ env_list =\\n \\n [testenv]\\n description = run unit tests\\n-deps = \\n+deps =\\n     pytest\\n     pydantic>=2.0.0\\n commands = pytest tests\\n \\n [testenv:pydantic1]\\n description = check backward compatibility with pydantic < 2.0.0\\n-deps = \\n+deps =\\n     pytest\\n     pydantic<2.0.0\\n commands = pytest tests\"]", "hints_text": ""}
