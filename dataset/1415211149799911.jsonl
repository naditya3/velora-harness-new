{"instance_id": "1415211149799911", "repo": "sec-edgar/sec-edgar", "base_commit": "b22f9aa2de0cafd98ecab884ece1e7d0f2be3381", "problem_statement": "NetworkClient throws 403s when saving filings due to misconfigured user agent:\\n**Describe the bug**\\r\\n\\r\\nThe `NetworkClient` class is throwing 403s when filings are saved:\\r\\n\\r\\n```\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/secedgar-0.4.0a0-py3.9.egg/secedgar/core/_index.py\", line 346, in _save_filings\\r\\n    loop.run_until_complete(self.client.wait_for_download_async(inputs))\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/asyncio/base_events.py\", line 642, in run_until_complete\\r\\n    return future.result()\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/secedgar-0.4.0a0-py3.9.egg/secedgar/client.py\", line 252, in wait_for_download_async\\r\\n    await asyncio.gather(\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/secedgar-0.4.0a0-py3.9.egg/secedgar/client.py\", line 221, in fetch_and_save\\r\\n    contents = await self.fetch(link, session)\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/secedgar-0.4.0a0-py3.9.egg/secedgar/client.py\", line 208, in fetch\\r\\n    async with await session.get(link) as response:\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/aiohttp/client.py\", line 625, in _request\\r\\n    resp.raise_for_status()\\r\\n  File \"/home/hkurtz/.asdf/installs/python/3.9.6/lib/python3.9/site-packages/aiohttp/client_reqrep.py\", line 1000, in raise_for_status\\r\\n    raise ClientResponseError(\\r\\naiohttp.client_exceptions.ClientResponseError: 403, message='Forbidden', url=URL('http://www.sec.gov/Archives/edgar/data/1000275/0001140361-21-024396.txt')\\r\\n```\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\n```\\r\\nfrom datetime import date, timedelta\\r\\n\\r\\nfrom secedgar.client import NetworkClient\\r\\nfrom secedgar.core import DailyFilings\\r\\n\\r\\ndef base_edgar_client():\\r\\n    return NetworkClient(\\r\\n        retry_count=3,\\r\\n        batch_size=1,\\r\\n        backoff_factor=5,\\r\\n        rate_limit=1,\\r\\n        user_agent=\"Harrison Kurtz edgar@hkurtz.com\",\\r\\n    )\\r\\n\\r\\ndef get_filings_yesterday():\\r\\n    \"\"\"\\r\\n    Get yesterday's filings\\r\\n    \"\"\"\\r\\n    daily_filings = DailyFilings(\\r\\n        client=base_edgar_client(), date=date.today() - timedelta(days=1)\\r\\n    )\\r\\n    daily_filings.save(\"./filings\")\\r\\n\\r\\nget_filings_yesterday()\\r\\n```\\r\\n\\r\\n**Resolution**\\r\\n\\r\\nAdd user agent header to `NetworkClient`\\r\\n", "FAIL_TO_PASS": ["secedgar/tests/core/test_daily.py::TestDaily::test_save_default[1001085-0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple4-980101]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2011-12-31-4]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_only_multiple_days", "secedgar/tests/core/test_filings.py::TestFilings::test_mismatch_of_quarters_returns_combo_filings", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern[1000275-0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_no_params", "secedgar/tests/core/test_daily.py::TestDaily::test_get_master_idx_file[NOVAVAX", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_cik_dir_pattern[1000694-0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_idx_filename[date2-master.20200401.idx]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_quarterly_mixed[start_date1-end_date1-quarterly_expected1-daily_expected1]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_cik_dir_pattern[1000275-0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2015-7-1-3]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_master_idx_file[ROYAL", "secedgar/tests/core/test_daily.py::TestDaily::test_set_good_entry_filter[<lambda>2]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple7-19980401]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date2-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date6-4]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern_date_not_first[1000694-0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_master_idx_file[HENRY", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date3-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_date_dir_pattern[0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_default[1000275-0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_set_bad_entry_filter[True]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_master_idx_file[PERUSAHAAN", "secedgar/tests/core/test_filings.py::TestFilings::test_count_not_implemented", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple0-010294]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_date_dir_pattern[0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_idx_filename[date1-master.20200331.idx]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern[1000228-0001209191-18-064398.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test__get_tar_bad_year_quarter[1995-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2017-5-1-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple6-19980331]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple5-980102]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_date_dir_pattern[0001209191-18-064398.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern[1001085-0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_set_bad_entry_filter[1]", "secedgar/tests/core/test_daily.py::TestDaily::test_set_bad_entry_filter[entry_filter]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_setter_after_init[20201231_1]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date5-3]", "secedgar/tests/core/test_daily.py::TestDaily::test_idx_filename[date3-master.20200630.idx]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2013-10-1-4]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_quarterly_mixed[start_date2-end_date2-quarterly_expected2-daily_expected2]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple1-123194]", "secedgar/tests/core/test_daily.py::TestDaily::test__get_tar_bad_year_quarter[1994-4]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date1-1]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_urls[1000228-http://www.sec.gov/Archives/edgar/data/1000228/0001209191-18-064398.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_urls[1000275-http://www.sec.gov/Archives/edgar/data/1000275/0001140361-18-046095.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern_date_not_first[1000275-0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_set_good_entry_filter[<lambda>0]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_urls[1001085-http://www.sec.gov/Archives/edgar/data/1001085/0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_listings_directory", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_setter_after_init[2020/12/31]", "secedgar/tests/core/test_filings.py::TestFilings::test_exact_quarter_returns_quarterly_filings", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_quarterly_only_multiple_years", "secedgar/tests/core/test_daily.py::TestDaily::test_set_bad_entry_filter[1.0]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern[1000275-0001140361-18-046095.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_default[1000228-0001209191-18-064398.txt]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_quarterly_mixed[start_date3-end_date3-quarterly_expected3-daily_expected3]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern[1000694-0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2016-6-30-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_good_date_setter[date3]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_default[1000694-0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_urls[1000275-http://www.sec.gov/Archives/edgar/data/1000275/0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2014-9-30-3]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple2-950101]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_master_idx_file[BROOKFIELD", "secedgar/tests/core/test_daily.py::TestDaily::test__get_tar_bad_year_quarter[1995-1]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_cik_dir_pattern[1000275-0001140361-18-046095.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_set_bad_entry_filter[False]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_only_single_day", "secedgar/tests/core/test_daily.py::TestDaily::test__get_tar_valid", "secedgar/tests/core/test_daily.py::TestDaily::test_set_good_entry_filter[<lambda>1]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_cik_dir_pattern[1001085-0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_setter_after_init[20201231_0]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern_date_not_first[1000228-0001209191-18-064398.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_cik_dir_pattern[1000228-0001209191-18-064398.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_get_urls[1000694-http://www.sec.gov/Archives/edgar/data/1000694/0001144204-18-066755.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern_date_not_first[1000275-0001140361-18-046095.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_multi_level_dir_pattern_date_not_first[1001085-0001104659-18-075315.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_good_date_setter[date0]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_date_dir_pattern[0001140361-18-046095.txt]", "secedgar/tests/core/test_filings.py::TestFilings::test_same_date_returns_daily_filings", "secedgar/tests/core/test_daily.py::TestDaily::test_idx_filename[date0-master.20200101.idx]", "secedgar/tests/core/test_filings.py::TestFilings::test_user_agent_passed_to_objects", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date7-4]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_daily_quarterly_mixed[start_date0-end_date0-quarterly_expected0-daily_expected0]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_combo_quarterly_only_one_year", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2018-1-1-1]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_with_single_level_date_dir_pattern[0001140361-18-046093.txt]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple8-19990101]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date0-1]", "secedgar/tests/core/test_daily.py::TestDaily::test_path_property[2012-11-20-4]", "secedgar/tests/core/test_daily.py::TestDaily::test_quarter[date4-3]", "secedgar/tests/core/test_daily.py::TestDaily::test_good_date_setter[date2]", "secedgar/tests/core/test_daily.py::TestDaily::test_master_idx_date_format[date_tuple3-950102]", "secedgar/tests/core/test_daily.py::TestDaily::test_user_agent_passed_to_client", "secedgar/tests/core/test_daily.py::TestDaily::test_good_date_setter[date1]", "secedgar/tests/core/test_daily.py::TestDaily::test_save_default[1000275-0001140361-18-046095.txt]", "secedgar/tests/core/test_combo.py::TestComboFilings::test_user_agent_passed_to_client"], "PASS_TO_PASS": ["secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[1.0-TypeError1]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup4-expected4]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_response_single_filing_type_passes", "secedgar/tests/test_utils.py::TestUtils::test_get_month[1-1]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[None]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[-1-ValueError]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs3-ValueError]", "secedgar/tests/test_parser.py::TestParser::test_bad_filetypes_raises_error[json]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[6]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[0.0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_client_property", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.8]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[3]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[7]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_save[205239-0000205239-94-000003.txt]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter_bad_quarter[5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_batch_size_setter[1-TypeError]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date1-20200304]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[-1.0]", "secedgar/tests/test_client.py::TestNetworkClient::test_bad_backoff_factor_setter[1.0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[1234_0]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[5-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date4-20200304]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[1993.0-TypeError]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[2012101_0]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_no_change[20120101_1]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[1234_1]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[1990-ValueError]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs1-ValueError]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik__is_string[1234567890]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_retry_count_setter[2-TypeError]", "secedgar/tests/test_parser.py::TestParser::test_bad_filetypes_raises_error[html]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup0-expected0]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_response_multiple_cik_results_passes", "secedgar/tests/test_exceptions.py::test_exception_importable[FilingTypeError]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[2012011_0]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[1993-TypeError]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_multiple_results_company_name_search", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_response_raises_error", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[1234567890]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date3-20180101]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_good_year", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[0-ValueError]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[1.0-TypeError0]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[61]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_filing_type", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_get_cik_map_tickers[aapl-320193]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[81]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_save[1095785-9999999997-02-056978.txt]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date2-1]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_save[20762-0000950131-94-000025.txt]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[1991-ValueError]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[6]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_format_fails[1.0]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date6-2]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup3-expected3]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[3]", "secedgar/tests/test_parser.py::TestParser::test_bad_filetypes_raises_error[zip]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_rate_limit[11-ValueError]", "secedgar/tests/test_cli.py::TestCLI::test_cli_requires_user_agent[daily", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[9]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date7-2]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_on_init[2020/12/31]", "secedgar/tests/test_utils.py::TestUtils::test_get_month[2-4]", "secedgar/tests/test_parser.py::TestParser::test_bad_filetypes_raises_error[xml]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[1]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_lookup[]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup6-expected6]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[9]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[2]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_on_init[20201231_0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[AAPL]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_always_false_entry_filter", "secedgar/tests/test_exceptions.py::test_exception_importable[EDGARQueryError]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_save[17206-0000017206-94-000007.txt]", "secedgar/tests/core/test_filings.py::TestFilings::test_filing_type_plus_entry_filter_filters_both", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_lookups_property", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date0-20180101]", "secedgar/tests/test_client.py::TestNetworkClient::test_bad_backoff_factor_setter[1]", "secedgar/tests/core/test_daily.py::TestDaily::test_download_all", "secedgar/tests/test_parser.py::TestParser::test_bad_filetypes_raises_error[txt.gz]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date12-4]", "secedgar/tests/test_client.py::TestNetworkClient::test_bad_backoff_factor_setter[bad_backoff_factor4]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[1]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[10]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[3]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[6-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date13-4]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_clean_path[Apple", "secedgar/tests/test_cli.py::TestCLI::test_cli_daily_bad_inputs[daily", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date3-1]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_format_fails[12/31/2018]", "secedgar/tests/test_parser.py::TestParser::test_process_document_metadata", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_lookup[4]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_multiple_results_raises_warnings", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_cik_hits_request", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date0-1]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[2012]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[2020-ValueError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_batch_size_setter[0-ValueError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.9]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_get_cik_map_tickers[Msft-789019]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter[2020-4-expected1]", "secedgar/tests/test_cli.py::TestCLI::test_cli_daily_bad_inputs[daily-SystemExit]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[2.0]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_on_init[20201231_1]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[8]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_idx_filename_is_always_the_same[2019-2]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_lookups_property", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date8-3]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_retry_count_setter[0.5-TypeError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.7]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup7-expected7]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.3]", "secedgar/tests/test_utils.py::TestUtils::test_get_month[4-10]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs2-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date14-4]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_batch_size_setter[0.5-TypeError]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_clean_path[Bed,", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[0]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[2]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date1-1]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter[2020-3-expected3]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[1.0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup1-expected1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[11]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_clean_path[Company", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs5-NotImplementedError]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik__is_string[123.0]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter[2020-1-expected0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_cik_bypasses_request", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[91]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup2-expected2]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[5.0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_params_reset_after_get_cik", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[2012011_1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_rate_limit[11.5-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_no_change[20120101_0]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.1]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date4-2]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[1-TypeError]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[2]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_rate_limit[-1.5-ValueError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[51]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_after_cik_lookup", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[201210_0]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[2012101_1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[10]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[9]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_get_cik_map_tickers[AMZN-1018724]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_save[11860-0000011860-94-000005.txt]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[201210_1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[21]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[7]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[1992-ValueError]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_idx_filename_is_always_the_same[2018-1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_rate_limit[0-ValueError]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_cik_lookup_returns_correct_values[lookup5-expected5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.2]", "secedgar/tests/core/test_daily.py::TestDaily::test_bad_date_format_fails[12]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_rate_limit[-1-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_get_month_bad_quarter[0]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs4-NotImplementedError]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[1010_1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.4]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[8]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[71]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[1]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_good_quarters", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date9-3]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[4]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date10-3]", "secedgar/tests/core/test_filings.py::TestFilings::test_bad_args_combination_raises_error[kwargs0-ValueError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[31]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter[2020-2-expected2]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date5-20200718]", "secedgar/tests/test_utils.py::TestUtils::test_bad_date_formats[1010_0]", "secedgar/tests/test_client.py::TestNetworkClient::test_rate_limit_requests_per_second[4]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_idx_filename_is_always_the_same[2020-3]", "secedgar/tests/test_utils.py::TestUtils::test_get_month[3-7]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.6]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[5]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[1]", "secedgar/tests/test_utils.py::TestUtils::test_add_quarter_bad_quarter[0]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_year[0.0-TypeError]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[6]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[1.0]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_rate_limit[4]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date11-3]", "secedgar/tests/test_cli.py::TestCLI::test_cli_requires_user_agent[filing", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_validate_cik_on_bad_ciks[]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[7]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_batch_size_setter[41]", "secedgar/tests/test_client.py::TestNetworkClient::test_bad_backoff_factor_setter[-1]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_get_cik_map_company_names[facebook", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_pause_setter[0.5]", "secedgar/tests/test_client.py::TestNetworkClient::test_bad_backoff_factor_setter[-1.0]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[1.0]", "secedgar/tests/test_cik_lookup.py::TestCIKLookup::test_get_cik_map_company_names[Alphabet", "secedgar/tests/test_exceptions.py::test_exception_importable[CIKError]", "secedgar/tests/test_utils.py::TestUtils::test_good_formats_datetime[dt_date2-20200718]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[2]", "secedgar/tests/test_client.py::TestNetworkClient::test_429_returns_custom_message", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date15-4]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_retry_count_setter[8]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_clean_path[Microsoft", "secedgar/tests/test_client.py::TestNetworkClient::test_client_bad_retry_count_setter[-1-ValueError]", "secedgar/tests/test_utils.py::TestUtils::test_get_quarter[date5-2]", "secedgar/tests/core/test_quarterly.py::TestQuarterly::test_bad_quarter[0.0-TypeError]", "secedgar/tests/test_client.py::TestNetworkClient::test_good_backoff_factor_setter[-1]", "secedgar/tests/test_client.py::TestNetworkClient::test_client_good_response_single_filing_passes", "secedgar/tests/test_cli.py::TestCLI::test_cli_filing_bad_inputs[filing"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/sec-edgar_sec-edgar:b22f9aa2de0cafd98ecab884ece1e7d0f2be3381", "patch": "[\"diff --git a/README.rst b/README.rst\\nindex 0a8597ae..483bbd95 100644\\n--- a/README.rst\\n+++ b/README.rst\\n@@ -11,15 +11,15 @@ single command.\\n Installation\\n ------------\\n \\n-You may have to install the package using pip:\\n+You can install the package using pip:\\n \\n .. code:: bash\\n \\n    $ pip install secedgar\\n \\n-or\\n+OR\\n \\n-You can clone the project or download it as zip.\\n+You can clone the project:\\n \\n .. code:: bash\\n \\n@@ -30,14 +30,47 @@ You can clone the project or download it as zip.\\n Running\\n -------\\n \\n+Company Filings\\n+~~~~~~~~~~~~~~~\\n+\\n+Single Company\\n+^^^^^^^^^^^^^^\\n+\\n .. code:: python\\n \\n-    from secedgar.core import CompanyFilings, FilingType\\n+    from secedgar import filings, FilingType\\n \\n     # 10Q filings for Apple (ticker \\\"aapl\\\")\\n-    my_filings = CompanyFilings(cik_lookup='aapl', filing_type=FilingType.FILING_10Q)\\n+    my_filings = filings(cik_lookup=\\\"aapl\\\", filing_type=FilingType.FILING_10Q, user_agent=\\\"Your name (your email)\\\")\\n+    my_filings.save('/path/to/dir')\\n+\\n+\\n+Multiple Companies\\n+^^^^^^^^^^^^^^^^^^\\n+\\n+.. code:: python\\n+\\n+    from secedgar import filings, FilingType\\n+\\n+    # 10Q filings for Apple and Facebook (tickers \\\"aapl\\\" and \\\"fb\\\")\\n+    my_filings = filings(cik_lookup=[\\\"aapl\\\", \\\"fb\\\"], filing_type=FilingType.FILING_10Q, user_agent=\\\"Your name (your email)\\\")\\n     my_filings.save('/path/to/dir')\\n \\n+\\n+Daily Filings\\n+~~~~~~~~~~~~~\\n+\\n+\\n+.. code:: python\\n+\\n+    from secedgar import filings\\n+    from datetime import date\\n+\\n+    daily_filings = filings(start_date=date(2021, 6, 30), user_agent=\\\"Your name (your email)\\\")\\n+    daily_urls = daily_filings.get_urls()\\n+\\n+\\n+\\n Supported Methods\\n -----------------\\n \\n\",\"diff --git a/docs/source/ciklookup.rst b/docs/source/ciklookup.rst\\nindex 133a6d34..b08cf009 100644\\n--- a/docs/source/ciklookup.rst\\n+++ b/docs/source/ciklookup.rst\\n@@ -14,7 +14,8 @@ Below is an example of how you can retrieve lookup CIKs by using the ``CIKLookup\\n \\n    from secedgar.core.cik_lookup import CIKLookup\\n \\n-   lookups = CIKLookup(['aapl', 'msft', 'Facebook'])\\n+   lookups = CIKLookup(['aapl', 'msft', 'Facebook'],\\n+                       user_agent=\\\"Name (email)\\\")\\n \\n \\n Accessing ``lookups.lookup_dict`` would then return\\n\",\"diff --git a/docs/source/filings.rst b/docs/source/filings.rst\\nindex c2d8162a..a7edd8fc 100644\\n--- a/docs/source/filings.rst\\n+++ b/docs/source/filings.rst\\n@@ -3,9 +3,9 @@\\n Filings\\n =======\\n \\n-There are multiple ways to download filings. The most direct way is to use the ``secedgar.core.filings.filings``\\n+There are multiple ways to download filings. The most direct way is to use the :meth:`secedgar.filings`\\n function. This function will return a class which tries to best match your needs based on the arguments\\n-provided. For the more technical, the ``filings`` function is a factory.\\n+provided. For the more technical, the :meth:`secedgar.filings` function is a factory.\\n \\n If you find that this does not meet your needs for any reason or would like more direct control\\n over what is being created, you can use the following classes:\\n@@ -17,71 +17,26 @@ over what is being created, you can use the following classes:\\n \\n Supported filing types can be found at :ref:`filingtypes`\\n \\n-Filing\\n-------\\n-\\n-.. autoclass:: secedgar.CompanyFilings\\n-   :members:\\n-   :inherited-members:\\n-\\n-\\n-Examples\\n-^^^^^^^^\\n-\\n-Restrict the start and end dates by using the ``start_date`` and ``end_date`` arguments.\\n-\\n-.. code-block:: python\\n+Filings Function\\n+----------------\\n \\n-   from secedgar import FilingType, CompanyFilings\\n-   from datetime import datetime\\n-\\n-   filing = CompanyFilings(cik_lookup='aapl',\\n-                   filing_type=FilingType.FILING_10K,\\n-                   start_date=datetime(2015, 1, 1),\\n-                   end_date=datetime(2019, 1, 1))\\n-\\n-If you would like to find all filings from some ``start_date`` until today, simply exclude ``end_date``.\\n-The end date defaults to today's date.\\n-\\n-.. code-block:: python\\n-\\n-   from secedgar import FilingType, CompanyFilings\\n-   from datetime import datetime\\n-\\n-   filing = CompanyFilings(cik_lookup='aapl',\\n-                   filing_type=FilingType.FILING_10K,\\n-                   start_date=datetime(2015, 1, 1)) # end date defaults to today\\n-\\n-You can also look up a specific filing type for multiple companies.\\n+.. autofunction:: secedgar.filings\\n \\n-.. code-block:: python\\n-\\n-   from secedgar import FilingType, CompanyFilings\\n-   from datetime import datetime\\n \\n-   filing = CompanyFilings(cik_lookup=['aapl', 'msft', 'fb'],\\n-                   filing_type=FilingType.FILING_10K,\\n-                   start_date=datetime(2015, 1, 1))\\n+Filings Classes\\n+---------------\\n \\n-*For a full list of the available filing types, please see* :class:`secedgar.core.FilingType`.\\n-\\n-\\n-SEC requests that traffic identifies itself via a user agent string. You can\\n-customize this according to your preference using the ``user_agent`` argument.\\n-\\n-.. code-block:: python\\n+Filing\\n+~~~~~~\\n \\n-   from secedgar.filings import FilingType, Filing\\n-   from datetime import datetime\\n+.. autoclass:: secedgar.CompanyFilings\\n+   :members:\\n+   :inherited-members:\\n \\n-   filing = Filing(cik_lookup=['aapl', 'msft', 'fb'],\\n-                   filing_type=FilingType.FILING_10K,\\n-                   start_date=datetime(2015, 1, 1),\\n-                   user_agent='YOUR COMPANY NAME HERE')\\n \\n \\n Daily Filings\\n--------------\\n+~~~~~~~~~~~~~\\n \\n The ``DailyFilings`` class can be used to fetch all the URLs for or download all filings from any given day.\\n \\n@@ -104,27 +59,16 @@ Note that you should replace ``'/my_directory'`` with the desired directory of t\\n    daily_filings.save('/my_directory')\\n \\n Quarterly Filings\\n------------------\\n+~~~~~~~~~~~~~~~~~\\n \\n The ``QuarterlyFilings`` class can be used to fetch all the URLs for or download all filings from any given quarter.\\n \\n .. autoclass:: secedgar.QuarterlyFilings\\n    :members:\\n \\n-Examples\\n-^^^^^^^^\\n-\\n-.. code-block:: python\\n-\\n-   from secedgar import QuarterlyFilings\\n-\\n-   quarterly_filings = QuarterlyFilings(year=2000, quarter=4)\\n-   urls = quarterly_filings.get_urls()  # gets all URLs for filings from quarter 4 of 2000\\n-   quarterly_filings.save('/my_directory')  # saves all filings from quarter 4 of 2000 in my_directory\\n-\\n \\n Combo Filings\\n--------------\\n+~~~~~~~~~~~~~\\n \\n The ``ComboFilings`` class can download all filings from a specified time frame.\\n Internally, this class uses a mixture of ``DailyFilings`` and ``QuarterlyFilings`` to get all of the needed\\n@@ -134,17 +78,6 @@ filings.\\n    :members:\\n \\n \\n-Examples\\n-^^^^^^^^\\n-\\n-.. code-block:: python\\n-\\n-   from datetime import date\\n-   from secedgar import ComboFilings\\n-\\n-   combo_filings = ComboFilings(start_date=date(2020, 1, 6), end_date=date(2020, 11, 5)\\n-   combo_filings.save('/my_directory')\\n-\\n Saving Filings\\n --------------\\n \\n@@ -156,8 +89,13 @@ Here are some examples of how you might use those arguments to create custom dir\\n \\n    from secedgar import CompanyFilings, FilingType\\n \\n-   f = CompanyFilings(cik_lookup=[\\\"aapl\\\", \\\"msft\\\"], filing_type=FilingType.FILING_10Q, count=5)\\n-   f.save(\\\"./my_directory\\\", dir_pattern=\\\"cik_{cik}/{type}\\\", file_pattern=\\\"{accession_number}\\\")\\n+   f = CompanyFilings(cik_lookup=[\\\"aapl\\\", \\\"msft\\\"],\\n+                      filing_type=FilingType.FILING_10Q,\\n+                      count=5,\\n+                      user_agent=\\\"Name (email)\\\")\\n+   f.save(\\\"./my_directory\\\",\\n+          dir_pattern=\\\"cik_{cik}/{type}\\\",\\n+          file_pattern=\\\"{accession_number}\\\")\\n \\n The code above would create a directory structure that would look something like this:\\n \\n@@ -180,4 +118,4 @@ The code above would create a directory structure that would look something like\\n          └── 0001564590-20-047996.txt\\n \\n \\n-This same sort of templating can be used for :class:`secedgar.core.DailyFilings` and :class:`secedgar.core.QuarterlyFilings`.\\n+This same sort of templating can be used for :class:`secedgar.DailyFilings` and :class:`secedgar.QuarterlyFilings`.\\n\",\"diff --git a/docs/source/usage.rst b/docs/source/usage.rst\\nindex 448e04a7..2d33ab42 100644\\n--- a/docs/source/usage.rst\\n+++ b/docs/source/usage.rst\\n@@ -21,8 +21,9 @@ The ``CompanyFilings`` class provides a simple API to fetch SEC filings.\\n    from secedgar import CompanyFilings, FilingType\\n \\n    my_filings = CompanyFilings(cik_lookup='aapl',\\n-                       filing_type=FilingType.FILING_10Q,\\n-                       count=15)\\n+                               filing_type=FilingType.FILING_10Q,\\n+                               count=15,\\n+                               user_agent='Name (email)')\\n \\n The ``cik_lookup`` argument can also take multiple tickers and/or company names.\\n \\n@@ -31,8 +32,9 @@ The ``cik_lookup`` argument can also take multiple tickers and/or company names.\\n    from secedgar import CompanyFilings, FilingType\\n \\n    my_filings = CompanyFilings(cik_lookup=['aapl', 'msft', 'Facebook'],\\n-                       filing_type=FilingType.FILING_10Q,\\n-                       count=15)\\n+                               filing_type=FilingType.FILING_10Q,\\n+                               count=15,\\n+                               user_agent='Name (email)')\\n \\n \\n Using a User Agent\\n@@ -53,12 +55,12 @@ A note from the SEC website:\\n \\n .. code-block:: python\\n \\n-   from secedgar.filings import Filing, FilingType\\n+   from secedgar import CompanyFilings, FilingType\\n \\n-   my_filings = Filing(cik_lookup=['aapl', 'msft', 'Facebook'],\\n-                       filing_type=FilingType.FILING_10Q,\\n-                       count=15,\\n-                       user_agent='YOUR COMPANY NAME HERE')\\n+   my_filings = CompanyFilings(cik_lookup=['aapl', 'msft', 'Facebook'],\\n+                               filing_type=FilingType.FILING_10Q,\\n+                               count=15,\\n+                               user_agent='Name (email)')\\n \\n \\n Saving Filings\\n\",\"diff --git a/docs/source/whatsnew/v0.4.0.rst b/docs/source/whatsnew/v0.4.0.rst\\nindex 0ada6a30..81f317a4 100644\\n--- a/docs/source/whatsnew/v0.4.0.rst\\n+++ b/docs/source/whatsnew/v0.4.0.rst\\n@@ -13,6 +13,7 @@ Many breaking changes, as this update does a lot of restructuring.\\n - Create ``filings`` factory that returns the correct class based on user inputs. Returns one of ``ComboFilings``, ``QuarterlyFilings``, ``DailyFilings``, ``CompanyFilings``.\\n - Add many more types to ``FilingType`` enum. Switch to csv table for details.\\n - If no filings found for ``DailyFilings`` or ``MasterFilings`` after finding that other filings that do not match the criteria exist, then raise a ``NoFilingsError`` instead of a ``ValueError``.\\n+- Fix use of ``user_agent`` by ``NetworkClient`` and require its use by all filings classes/functions\\n \\n Contributors\\n ~~~~~~~~~~~~\\n\",\"diff --git a/secedgar/__init__.py b/secedgar/__init__.py\\nindex 8de16c5e..61a6fdf6 100644\\n--- a/secedgar/__init__.py\\n+++ b/secedgar/__init__.py\\n@@ -1,4 +1,4 @@\\n-__version__ = '0.4.0-alpha'\\n+__version__ = '0.4.0-alpha.1'\\n \\n from secedgar.core.combo import ComboFilings  # noqa: F401\\n from secedgar.core.company import CompanyFilings  # noqa: F401\\n\",\"diff --git a/secedgar/cik_lookup.py b/secedgar/cik_lookup.py\\nindex 153e422f..b299f0cc 100644\\n--- a/secedgar/cik_lookup.py\\n+++ b/secedgar/cik_lookup.py\\n@@ -37,11 +37,13 @@ class CIKLookup:\\n \\n     Args:\\n         lookup (Union[str, list]): Ticker, company name, or list of tickers and/or company names.\\n+        client (secedgar.client.NetworkClient): A network client object to use. See\\n+            :class:`secedgar.client.NetworkClient` for more details.\\n \\n     .. versionadded:: 0.1.5\\n     \\\"\\\"\\\"\\n \\n-    def __init__(self, lookups, client=None, **kwargs):\\n+    def __init__(self, lookups, client, **kwargs):\\n         if lookups and isinstance(lookups, str):\\n             self._lookups = [lookups]  # make single string into list\\n         else:\\n@@ -50,7 +52,7 @@ def __init__(self, lookups, client=None, **kwargs):\\n                 raise TypeError(\\\"CIKs must be given as string or iterable.\\\")\\n             self._lookups = lookups\\n         self._params = {}\\n-        self._client = client if client is not None else NetworkClient(**kwargs)\\n+        self._client = client or NetworkClient(**kwargs)\\n         self._lookup_dict = None\\n         self._ciks = None\\n \\n\",\"diff --git a/secedgar/client.py b/secedgar/client.py\\nindex e8073b46..7b48c7af 100644\\n--- a/secedgar/client.py\\n+++ b/secedgar/client.py\\n@@ -18,30 +18,38 @@ class NetworkClient:\\n     \\\"\\\"\\\"Class in charge of sending and handling requests to EDGAR database.\\n \\n     Args:\\n-        retry_count (int): Number of times to retry connecting to URL if not successful.\\n+        user_agent (str): Value used for HTTP header \\\"User-Agent\\\" for all requests.\\n+            Must be given. See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information.\\n+        retry_count (int, optional): Number of times to retry connecting to URL if not successful.\\n             Defaults to 3.\\n-        batch_size (int): Number of filings to receive per request (helpful if pagination needed).\\n-            Defaults to 10.\\n-        backoff_factor (float): Backoff factor to use with ``urllib3.util.retry.Retry``.\\n+        batch_size (int, optional): Number of filings to receive per request\\n+            Helpful if pagination needed. Defaults to 10.\\n+        backoff_factor (float, optional): Backoff factor to use with ``urllib3.util.retry.Retry``.\\n             See urllib3 docs for more info. Defaults to 0.\\n-        rate_limit (int): Number of requests per second to limit to.\\n+        rate_limit (int, optional): Number of requests per second to limit to.\\n             Defaults to 10.\\n-        user_agent (str): Value used for HTTP header \\\"User-Agent\\\" for all requests.\\n-            Defaults to \\\"github.com/sec-edgar/sec-edgar\\\"\\n \\n     .. note:\\n        It is highly suggested to keep rate_limit <= 10, as the SEC will block your IP\\n        temporarily if you exceed this rate.\\n+\\n+    Examples:\\n+        .. code-block:: python\\n+\\n+            from secedgar.client import NetworkClient\\n+            client = NetworkClient(user_agent=\\\"Name (email)\\\")\\n     \\\"\\\"\\\"\\n \\n     _BASE = \\\"http://www.sec.gov/\\\"\\n \\n     def __init__(self,\\n+                 user_agent,\\n                  retry_count=3,\\n                  batch_size=10,\\n                  backoff_factor=0,\\n-                 rate_limit=10,\\n-                 user_agent=\\\"github.com/sec-edgar/sec-edgar\\\"):\\n+                 rate_limit=10):\\n         self.retry_count = retry_count\\n         self.batch_size = batch_size\\n         self.backoff_factor = backoff_factor\\n@@ -223,22 +231,17 @@ async def fetch_and_save(link, path, session):\\n             with open(path, \\\"wb\\\") as f:\\n                 f.write(contents)\\n \\n-        conn = aiohttp.TCPConnector(limit=self.rate_limit)\\n-        headers = {\\n-            \\\"Connection\\\": \\\"keep-alive\\\",\\n-            \\\"User-Agent\\\": self.user_agent,\\n-        }\\n-        client = aiohttp.ClientSession(connector=conn, headers=headers,\\n-                                       raise_for_status=True)\\n-\\n         def batch(iterable, n):\\n             length = len(iterable)\\n             for ndx in range(0, length, n):\\n                 yield iterable[ndx:min(ndx + n, length)]\\n \\n         conn = aiohttp.TCPConnector(limit=self.rate_limit)\\n-        client = aiohttp.ClientSession(connector=conn,\\n-                                       headers={'Connection': 'keep-alive'},\\n+        headers = {\\n+            \\\"Connection\\\": \\\"keep-alive\\\",\\n+            \\\"User-Agent\\\": self.user_agent,\\n+        }\\n+        client = aiohttp.ClientSession(connector=conn, headers=headers,\\n                                        raise_for_status=True)\\n \\n         async with client:\\n\",\"diff --git a/secedgar/core/_base.py b/secedgar/core/_base.py\\nindex 9bdb0d2e..21fc4eb3 100644\\n--- a/secedgar/core/_base.py\\n+++ b/secedgar/core/_base.py\\n@@ -29,7 +29,7 @@ def extract_meta(self,\\n     @property\\n     @abstractmethod\\n     def client(self):\\n-        \\\"\\\"\\\"``secedgar.client._base``: Client to use to make requests.\\\"\\\"\\\"\\n+        \\\"\\\"\\\"``secedgar.client.NetworkClient``: Client to use to make requests.\\\"\\\"\\\"\\n         pass  # pragma: no cover\\n \\n     @property\\n\",\"diff --git a/secedgar/core/_index.py b/secedgar/core/_index.py\\nindex e4380a54..be2cdcf0 100644\\n--- a/secedgar/core/_index.py\\n+++ b/secedgar/core/_index.py\\n@@ -18,18 +18,24 @@ class IndexFilings(AbstractFiling):\\n     \\\"\\\"\\\"Abstract Base Class for index filings.\\n \\n     Args:\\n-        client (secedgar.client._base, optional): Client to use. Defaults to\\n-            ``secedgar.client.NetworkClient``.\\n-\\n+        user_agent (Union[str, NoneType]): Value used for HTTP header \\\"User-Agent\\\" for all requests.\\n+            If given None, a valid client with user_agent must be given.\\n+            See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information.\\n+        client (Union[NoneType, secedgar.client.NetworkClient], optional): Client to use for\\n+            fetching data. If None is given, a user_agent must be given to pass to\\n+            :class:`secedgar.client.NetworkClient`.\\n+            Defaults to ``secedgar.client.NetworkClient`` if none is given.\\n         entry_filter (function, optional): A boolean function to determine\\n             if the FilingEntry should be kept. E.g. `lambda l: l.form_type == \\\"4\\\"`.\\n             Defaults to `None`.\\n         kwargs: Any keyword arguments to pass to ``NetworkClient`` if no client is specified.\\n     \\\"\\\"\\\"\\n \\n-    def __init__(self, client=None, entry_filter=None, **kwargs):\\n+    def __init__(self, user_agent=None, client=None, entry_filter=None, **kwargs):\\n         super().__init__()\\n-        self._client = client if client is not None else NetworkClient(**kwargs)\\n+        self._client = client or NetworkClient(user_agent=user_agent, **kwargs)\\n         self._listings_directory = None\\n         self._master_idx_file = None\\n         self._filings_dict = None\\n@@ -54,7 +60,7 @@ def entry_filter(self, fn):\\n \\n     @property\\n     def client(self):\\n-        \\\"\\\"\\\"``secedgar.client._base``: Client to use to make requests.\\\"\\\"\\\"\\n+        \\\"\\\"\\\"``secedgar.client.NetworkClient``: Client to use to make requests.\\\"\\\"\\\"\\n         return self._client\\n \\n     @property\\n@@ -115,7 +121,7 @@ def _get_master_idx_file(self, update_cache=False, **kwargs):\\n             update_cache (bool, optional): Whether master index should be updated\\n                 method call. Defaults to False.\\n             kwargs: Keyword arguments to pass to\\n-                ``secedgar.client._base.AbstractClient.get_response``.\\n+                ``secedgar.client.NetworkClient.get_response``.\\n \\n         Returns:\\n             text (str): Idx file text.\\n\",\"diff --git a/secedgar/core/combo.py b/secedgar/core/combo.py\\nindex 9fc922ae..604ba040 100644\\n--- a/secedgar/core/combo.py\\n+++ b/secedgar/core/combo.py\\n@@ -1,5 +1,6 @@\\n from datetime import date, timedelta\\n from functools import reduce\\n+from typing import Union\\n \\n from secedgar.core.daily import DailyFilings\\n from secedgar.core.quarterly import QuarterlyFilings\\n@@ -17,7 +18,14 @@ class ComboFilings:\\n         end_date (Union[str, datetime.datetime, datetime.date], optional):\\n             Date after which not to fetch reports.\\n             Stands for \\\"date before.\\\" Defaults to today.\\n-        client (secedgar.client._base.AbstractClient, optional): Client to use for fetching data.\\n+        user_agent (Union[str, NoneType]): Value used for HTTP header \\\"User-Agent\\\" for all requests.\\n+            If given None, a valid client with user_agent must be given.\\n+            See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information.\\n+        client (Union[NoneType, secedgar.client.NetworkClient], optional): Client to use for\\n+            fetching data. If None is given, a user_agent must be given to pass to\\n+            :class:`secedgar.client.NetworkClient`.\\n             Defaults to ``secedgar.client.NetworkClient`` if none is given.\\n         entry_filter (function, optional): A boolean function to determine\\n             if the FilingEntry should be kept. Defaults to `lambda _: True`.\\n@@ -28,26 +36,46 @@ class ComboFilings:\\n             ``DailyFilings`` to ``QuarterlyFilings``. If ``QuarterlyFilings`` is used, an\\n             additional filter will be added to limit which days are included.\\n             Defaults to 30.\\n+        kwargs: Any keyword arguments to pass to ``NetworkClient`` if no client is specified.\\n \\n     .. versionadded:: 0.4.0\\n+\\n+    Examples:\\n+        To download all filings from January 6, 2020 until November 5, 2020, you could do following:\\n+\\n+        .. code-block:: python\\n+\\n+            from datetime import date\\n+            from secedgar import ComboFilings\\n+\\n+            combo_filings = ComboFilings(start_date=date(2020, 1, 6),\\n+                                         end_date=date(2020, 11, 5)\\n+            combo_filings.save('/my_directory')\\n     \\\"\\\"\\\"\\n \\n     def __init__(self,\\n                  start_date: date,\\n                  end_date: date,\\n+                 user_agent: Union[str, None] = None,\\n                  client=None,\\n                  entry_filter=lambda _: True,\\n-                 balancing_point=30):\\n+                 balancing_point=30,\\n+                 **kwargs):\\n         self.entry_filter = entry_filter\\n         self.start_date = start_date\\n         self.end_date = end_date\\n+        self.user_agent = user_agent\\n         self.quarterly = QuarterlyFilings(year=self.start_date.year,\\n                                           quarter=get_quarter(self.start_date),\\n+                                          user_agent=user_agent,\\n                                           client=client,\\n-                                          entry_filter=self.entry_filter)\\n+                                          entry_filter=self.entry_filter,\\n+                                          **kwargs)\\n         self.daily = DailyFilings(date=self.start_date,\\n+                                  user_agent=user_agent,\\n                                   client=client,\\n-                                  entry_filter=self.entry_filter)\\n+                                  entry_filter=self.entry_filter,\\n+                                  **kwargs)\\n         self.balancing_point = balancing_point\\n         self._recompute()\\n \\n\",\"diff --git a/secedgar/core/company.py b/secedgar/core/company.py\\nindex 79083937..6df4f8d0 100644\\n--- a/secedgar/core/company.py\\n+++ b/secedgar/core/company.py\\n@@ -18,6 +18,11 @@ class CompanyFilings(AbstractFiling):\\n         cik_lookup (str): Central Index Key (CIK) for company of interest.\\n         filing_type (Union[secedgar.core.filing_types.FilingType, None]): Valid filing type\\n             enum. Defaults to None. If None, then all filing types for CIKs will be returned.\\n+        user_agent (Union[str, NoneType]): Value used for HTTP header \\\"User-Agent\\\" for all requests.\\n+            If given None, a valid client with user_agent must be given.\\n+            See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information.\\n         start_date (Union[str, datetime.datetime, datetime.date], optional): Date before\\n             which not to fetch reports. Stands for \\\"date after.\\\"\\n             Defaults to None (will fetch all filings before ``end_date``).\\n@@ -29,14 +34,72 @@ class CompanyFilings(AbstractFiling):\\n         ownership (str): Must be in {\\\"include\\\", \\\"exclude\\\"}. Whether or not to include ownership\\n             filings.\\n         match_format (str): Must be in {\\\"EXACT\\\", \\\"AMEND\\\", \\\"ALL\\\"}.\\n-        kwargs: See kwargs accepted for :class:`secedgar.client.network_client.NetworkClient`.\\n+        kwargs: See kwargs accepted for :class:`secedgar.client.NetworkClient`.\\n \\n-    .. versionadded:: 0.1.5\\n+    Examples:\\n+        Restrict the start and end dates by using the ``start_date`` and ``end_date`` arguments.\\n+\\n+        .. code-block:: python\\n+\\n+            from secedgar import FilingType, CompanyFilings\\n+            from datetime import date\\n+\\n+            filing = CompanyFilings(cik_lookup=\\\"aapl\\\",\\n+                                    filing_type=FilingType.FILING_10K,\\n+                                    start_date=date(2015, 1, 1),\\n+                                    end_date=date(2019, 1, 1),\\n+                                    user_agent=\\\"Name (email)\\\")\\n+\\n+        If you would like to find all filings from some ``start_date`` until today,\\n+        simply exclude ``end_date``. The end date defaults to today's date.\\n+\\n+        .. code-block:: python\\n+\\n+            from secedgar import FilingType, CompanyFilings\\n+            from datetime import date\\n+\\n+            # end date defaults to today\\n+            filing = CompanyFilings(cik_lookup=\\\"aapl\\\",\\n+                                    filing_type=FilingType.FILING_10K,\\n+                                    start_date=date(2015, 1, 1),\\n+                                    user_agent=\\\"Name (email)\\\")\\n+\\n+        You can also look up a specific filing type for multiple companies.\\n+\\n+        .. code-block:: python\\n+\\n+            from secedgar import FilingType, CompanyFilings\\n+            from datetime import date\\n+\\n+            filing = CompanyFilings(cik_lookup=[\\\"aapl\\\", \\\"msft\\\", \\\"fb\\\"],\\n+                                    filing_type=FilingType.FILING_10K,\\n+                                    start_date=date(2015, 1, 1),\\n+                                    user_agent=\\\"Name (email)\\\")\\n+\\n+        *For a full list of the available filing types, please see*\\n+        :class:`secedgar.core.FilingType`.\\n+\\n+\\n+        SEC requests that traffic identifies itself via a user agent string. You can\\n+        customize this according to your preference using the ``user_agent`` argument.\\n+\\n+        .. code-block:: python\\n+\\n+            from secedgar import FilingType, CompanyFilings\\n+            from datetime import date\\n+\\n+            filing = CompanyFilings(cik_lookup=[\\\"aapl\\\", \\\"msft\\\", \\\"fb\\\"],\\n+                                    filing_type=FilingType.FILING_10K,\\n+                                    start_date=date(2015, 1, 1),\\n+                                    user_agent=\\\"Name (email)\\\")\\n+\\n+    .. versionadded:: 0.4.0\\n     \\\"\\\"\\\"\\n \\n     def __init__(self,\\n                  cik_lookup,\\n                  filing_type=None,\\n+                 user_agent=None,\\n                  start_date=None,\\n                  end_date=date.today(),\\n                  client=None,\\n@@ -57,7 +120,7 @@ def __init__(self,\\n         self.count = count\\n         self.match_format = match_format\\n         # Make default client NetworkClient and pass in kwargs\\n-        self._client = client if client is not None else NetworkClient(**kwargs)\\n+        self._client = client or NetworkClient(user_agent=user_agent, **kwargs)\\n         # make CIKLookup object for users if not given\\n         self.cik_lookup = cik_lookup\\n \\n@@ -73,7 +136,7 @@ def params(self):\\n \\n     @property\\n     def client(self):\\n-        \\\"\\\"\\\"``secedgar.client._base``: Client to use to make requests.\\\"\\\"\\\"\\n+        \\\"\\\"\\\"``secedgar.client.NetworkClient``: Client to use to make requests.\\\"\\\"\\\"\\n         return self._client\\n \\n     @property\\n@@ -158,7 +221,7 @@ def get_urls(self, **kwargs):\\n         Args:\\n             **kwargs: Anything to be passed to requests when making get request.\\n                 See keyword arguments accepted for\\n-                ``secedgar.client._base.AbstractClient.get_soup``.\\n+                ``secedgar.client.NetworkClient.get_soup``.\\n \\n         Returns:\\n             urls (list): List of urls for txt files to download.\\n@@ -178,7 +241,7 @@ def _get_urls_for_cik(self, cik, **kwargs):\\n             cik (str): CIK for company.\\n             **kwargs: Anything to be passed to requests when making get request.\\n                 See keyword arguments accepted for\\n-                ``secedgar.client._base.AbstractClient.get_soup``.\\n+                ``secedgar.client.NetworkClient.get_soup``.\\n \\n         Returns:\\n             txt_urls (list of str): Up to the desired number of URLs for that specific company\\n\",\"diff --git a/secedgar/core/daily.py b/secedgar/core/daily.py\\nindex ff105e78..7bca0fe7 100644\\n--- a/secedgar/core/daily.py\\n+++ b/secedgar/core/daily.py\\n@@ -10,8 +10,15 @@ class DailyFilings(IndexFilings):\\n \\n     Attributes:\\n         date (datetime.date): Date of daily filing to fetch.\\n-        client (secedgar.client._base.AbstractClient, optional): Client to use for fetching data.\\n-            Defaults to ``secedgar.client.NetworkClient`` if none is given.\\n+        user_agent (Union[str, NoneType], optional): Value used for HTTP header\\n+            \\\"User-Agent\\\" for all requests. If given None, a valid client with\\n+            user_agent must be given. See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information. Defaults to None.\\n+        client (Union[NoneType, secedgar.client.NetworkClient], optional): Client to use for\\n+            fetching data. If None is given, a user_agent must be given to pass to\\n+            :class:`secedgar.client.NetworkClient`. Defaults to ``secedgar.client.NetworkClient``\\n+            if none is given.\\n         entry_filter (function, optional): A boolean function to determine\\n             if the FilingEntry should be kept. Defaults to `lambda _: True`.\\n             The ``FilingEntry`` object exposes 7 variables which can be\\n@@ -46,12 +53,17 @@ def get_company_ab_10k(filing_entry):\\n         from datetime import date\\n         from secedgar.core import DailyFilings\\n \\n-        d = DailyFilings(date=date(2020, 12, 10), entry_filter=get_company_ab_10k)\\n+        d = DailyFilings(date=date(2020, 12, 10),\\n+                         entry_filter=get_company_ab_10k,\\n+                         user_agent=\\\"Name (email)\\\")\\n \\n     \\\"\\\"\\\"\\n \\n-    def __init__(self, date, client=None, entry_filter=lambda _: True):\\n-        super().__init__(client=client, entry_filter=entry_filter)\\n+    def __init__(self, date, user_agent=None, client=None, entry_filter=lambda _: True, **kwargs):\\n+        super().__init__(user_agent=user_agent,\\n+                         client=client,\\n+                         entry_filter=entry_filter,\\n+                         **kwargs)\\n         self.date = date\\n \\n     @property\\n\",\"diff --git a/secedgar/core/filings.py b/secedgar/core/filings.py\\nindex 61fefbdc..e3fd4816 100644\\n--- a/secedgar/core/filings.py\\n+++ b/secedgar/core/filings.py\\n@@ -5,18 +5,20 @@\\n from secedgar.core.daily import DailyFilings\\n from secedgar.core.filing_types import FilingType\\n from secedgar.core.quarterly import QuarterlyFilings\\n-from secedgar.utils import get_month, get_quarter, add_quarter\\n from secedgar.exceptions import FilingTypeError\\n+from secedgar.utils import add_quarter, get_month, get_quarter\\n \\n \\n def filings(\\n     cik_lookup=None,\\n     filing_type=None,\\n+    user_agent=None,\\n     start_date=None,\\n     end_date=date.today(),\\n     count=None,\\n     client=None,\\n     entry_filter=lambda _: True,\\n+    **kwargs\\n ):\\n     \\\"\\\"\\\"Utility method to get best filing object.\\n \\n@@ -28,18 +30,107 @@ def filings(\\n             enum. Defaults to None. If None, then all filing types for CIKs will be returned.\\n         count (int, optional): Number of filings to fetch. Will fetch up to `count` if that\\n         many filings are available. Defaults to all filings available.\\n-        client (secedgar.client._base, optional): Client to use. Defaults to\\n+        client (secedgar.client.NetworkClient, optional): Client to use. Defaults to\\n                     ``secedgar.client.NetworkClient`` if None given.\\n         entry_filter (function, optional): A boolean function to determine\\n             if the FilingEntry should be kept. Defaults to ``lambda _: True``.\\n             See :class:`secedgar.core.DailyFilings` for more detail.\\n-    .. code-block:: python\\n+        kwargs: Any keyword arguments to pass to ``NetworkClient`` if no client is specified.\\n \\n-        from datetime import date\\n-        from secedgar.core import filings, FilingType\\n+    Examples:\\n+        Using the ``filings`` function from secedgar is the easiest way to retrieve filings.\\n+\\n+        Depending on the arguments given, secedgar will return an object that will get you\\n+        the information you want from EDGAR.\\n+\\n+        There are 4 main classes which can be returned.\\n+\\n+            - :class:`secedgar.core.combo.ComboFilings` for fetching filings over multiple days\\n+                that does not fall exactly into a quarter\\n+            - :class:`secedgar.core.company.CompanyFilings` for fetching a particular\\n+                filing type for one or more companies\\n+            - :class:`secedgar.core.daily.DailyFilings` for fetching all filings\\n+                from a specific date\\n+            - :class:`secedgar.core.quarterly.QuarterlyFilings` for fetching all filings\\n+                from a specific quarter\\n+\\n+        To get all filings over a time span, you could use something like below.\\n+\\n+        .. code-block:: python\\n+\\n+            from datetime import date\\n+            from secedgar.core import filings, FilingType\\n+\\n+            # secedgar creates correct filing object for given arguments\\n+            # this will fetch the first 50 filings found over the time span\\n+            my_filings = filings(start_date=date(2020, 12, 10),\\n+                                 end_date=date(2020, 12, 15),\\n+                                 filing_type=FilingType.FILING_4,\\n+                                 user_agent=\\\"Name (email)\\\",\\n+                                 count=50)\\n+\\n+            # easy access to methods shared across all 4 different filing classes\\n+            my_filings_urls = my_filings.get_urls()\\n+            my_filings.save(\\\"/path/to/directory\\\")\\n+\\n+        To get a single filing type for one or more companies, you could use this:\\n+\\n+        .. code-block:: python\\n+\\n+            import secedgar as sec\\n+\\n+            # similar to above, but fetches filings for specific tickers\\n+            company_filings = filings(cik_lookup=[\\\"aapl\\\", \\\"fb\\\"],\\n+                                      filing_type=sec.FilingType.FILING_10Q,\\n+                                      user_agent=\\\"Name (email)\\\")\\n+            company_filings_urls = company_filings.get_urls()\\n+            company_filings.save(\\\"/path/to/directory\\\")\\n+\\n+        To get filings for a single day, you could use something like this:\\n+\\n+        .. code-block:: python\\n+\\n+            from datetime import date\\n+            import secedgar as sec\\n+\\n+            # all filings for\\n+            daily_filings = filings(start_date=date(2020, 1 ,3),\\n+                                    end_date=date(2020, 1, 3),\\n+                                    user_agent=\\\"Name (email)\\\")\\n+            daily_filings.save(\\\"/path/to/directory\\\")\\n+\\n+            # limit which quarterly filings to use - saves only form 4 filings\\n+            limit_to_form4 = lambda f: f.form_type.lower() == \\\"4\\\"\\n+            daily_filings_limited = filings(start_date=date(2020, 1 ,3),\\n+                                            end_date=date(2020, 1, 3),\\n+                                            user_agent=\\\"Name (email)\\\",\\n+                                            entry_filter=limit_to_form4)\\n+            daily_filings_limited.save(\\\"/path/to/other/directory\\\")\\n+\\n+\\n+        For getting filings from a specific quarter, the function call would look like this:\\n+\\n+\\n+        .. code-block:: python\\n+\\n+            from datetime import date\\n+            import secedgar as sec\\n+\\n+            # all quarterly filings\\n+            quarterly_filings = filings(start_date=date(2020, 1 ,1),\\n+                                        end_date=date(2020, 3, 31),\\n+                                        user_agent=\\\"Name (email)\\\")\\n+            quarterly_filings.save(\\\"/path/to/directory\\\")\\n+\\n+            # limit which quarterly filings to use\\n+            # saves only 10-K and 10-Q filings from quarter\\n+            limit_to_10k_10q = lambda f: f.form_type.lower() in (\\\"10-k\\\", \\\"10-q\\\")\\n+            quarterly_filings_limited = filings(start_date=date(2020, 1 ,1),\\n+                                                end_date=date(2020, 3, 31),\\n+                                                user_agent=\\\"Name (email)\\\",\\n+                                                entry_filter=limit_to_10k_10q)\\n+            quarterly_filings_limited.save(\\\"/path/to/other/directory\\\")\\n \\n-        engine = filings(start_date=date(2020, 12, 10), end_date=date(2020, 12, 10),\\n-            filing_type=FilingType.FILING_4, count=50)\\n     \\\"\\\"\\\"\\n     if filing_type is not None and not isinstance(filing_type, FilingType):\\n         raise FilingTypeError\\n@@ -48,19 +139,20 @@ def filings(\\n         return CompanyFilings(\\n             cik_lookup,\\n             filing_type=filing_type,\\n+            user_agent=user_agent,\\n             start_date=start_date,\\n             end_date=end_date,\\n             count=count,\\n             client=client,\\n+            **kwargs\\n         )\\n+    # Define entry filter as original\\n+    _entry_filter = entry_filter\\n \\n     if filing_type is not None:\\n-        original_entry_filter = entry_filter\\n-\\n-        def entry_filter(x):\\n-            return x.form_type == filing_type and original_entry_filter(x)\\n-\\n-        original_entry_filter = entry_filter\\n+        # If filing type also given, add filing types to existing entry filter\\n+        def _entry_filter(x):\\n+            return x.form_type == filing_type and entry_filter(x)\\n \\n     if count is not None:\\n         raise NotImplementedError(\\n@@ -70,8 +162,10 @@ def entry_filter(x):\\n     if (end_date is None or end_date == start_date) and isinstance(\\n             start_date, date):\\n         return DailyFilings(date=start_date,\\n+                            user_agent=user_agent,\\n                             client=client,\\n-                            entry_filter=entry_filter)\\n+                            entry_filter=_entry_filter,\\n+                            **kwargs)\\n \\n     if isinstance(start_date, date) and isinstance(end_date, date):\\n         current_quarter = get_quarter(start_date)\\n@@ -81,14 +175,18 @@ def entry_filter(x):\\n         end_quarter_date = date(next_year, get_month(next_quarter),\\n                                 1) - timedelta(days=1)\\n         if start_quarter_date == start_date and end_date == end_quarter_date:\\n-            return QuarterlyFilings(current_year,\\n-                                    current_quarter,\\n+            return QuarterlyFilings(year=current_year,\\n+                                    quarter=current_quarter,\\n                                     client=client,\\n-                                    entry_filter=entry_filter)\\n-        return ComboFilings(start_date,\\n-                            end_date,\\n+                                    user_agent=user_agent,\\n+                                    entry_filter=_entry_filter,\\n+                                    **kwargs)\\n+        return ComboFilings(start_date=start_date,\\n+                            end_date=end_date,\\n+                            user_agent=user_agent,\\n                             client=client,\\n-                            entry_filter=entry_filter)\\n+                            entry_filter=_entry_filter,\\n+                            **kwargs)\\n \\n     raise ValueError(\\n         \\\"\\\"\\\"Invalid arguments. You must provide 'cik_lookup' OR 'start_date' \\\\\\n\",\"diff --git a/secedgar/core/quarterly.py b/secedgar/core/quarterly.py\\nindex f3fa7fbe..7e0ef7a6 100644\\n--- a/secedgar/core/quarterly.py\\n+++ b/secedgar/core/quarterly.py\\n@@ -11,21 +11,42 @@ class QuarterlyFilings(IndexFilings):\\n     Args:\\n         year (int): Must be in between 1993 and the current year (inclusive).\\n         quarter (int): Must be 1, 2, 3, or 4. Quarter of filings to fetch.\\n-        client (secedgar.client._base, optional): Client to use. Defaults to\\n-            ``secedgar.client.NetworkClient`` if None given.\\n+        user_agent (Union[str, NoneType], optional): Value used for HTTP header\\n+            \\\"User-Agent\\\" for all requests. If given None, a valid client with\\n+            user_agent must be given. See the SEC's statement on\\n+            `fair access <https://www.sec.gov/os/accessing-edgar-data>`_\\n+            for more information. Defaults to None.\\n+        client (Union[NoneType, secedgar.client.NetworkClient], optional): Client to use for\\n+            fetching data. If None is given, a user_agent must be given to pass to\\n+            :class:`secedgar.client.NetworkClient`. Defaults to ``secedgar.client.NetworkClient``\\n+            if none is given.\\n         entry_filter (function, optional): A boolean function to determine\\n             if the FilingEntry should be kept. Defaults to ``lambda _: True``.\\n             See :class:`secedgar.core.DailyFilings` for more detail.\\n         kwargs: Keyword arguments to pass to ``secedgar.core._index.IndexFilings``.\\n+\\n+    Examples:\\n+        .. code-block:: python\\n+\\n+            import secedgar as sec\\n+            quarterly = sec.QuarterlyFilings(year=2021,\\n+                                             quarter=2,\\n+                                             user_agent=\\\"Name (email)\\\")\\n+            quarterly.save(\\\"/path/to/dir\\\")\\n+\\n     \\\"\\\"\\\"\\n \\n     def __init__(self,\\n                  year,\\n                  quarter,\\n+                 user_agent=None,\\n                  client=None,\\n                  entry_filter=lambda _: True,\\n                  **kwargs):\\n-        super().__init__(client=client, entry_filter=entry_filter, **kwargs)\\n+        super().__init__(user_agent=user_agent,\\n+                         client=client,\\n+                         entry_filter=entry_filter,\\n+                         **kwargs)\\n         self.year = year\\n         self.quarter = quarter\\n \\n\"]", "test_patch": "", "hints_text": ""}
