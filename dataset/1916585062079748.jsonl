{"instance_id": "1916585062079748", "repo": "aistairc/aiaccel", "base_commit": "73390a0483e75572c700e00185ad859ef7af34b7", "problem_statement": "The random seed specified in Sobol is not working.:\\nこの行でseedを指定するべき？\\r\\nhttps://github.com/aistairc/aiaccel/blob/1d3d9da2be9a09efa094ec7d33486b9f5d9b47de/aiaccel/optimizer/sobol_optimizer.py#L35", "FAIL_TO_PASS": ["tests/unit/test_parameter.py::TestParameter::test_sample", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_reflect", "tests/unit/util_test/test_name.py::test_generate_random_name", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_initialize", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_inside_contract", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_pop_result", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_expand_branch", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_finalize", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_add_executing", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_inside_contract_branch", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_generate_parameter", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_expand", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_order_by", "tests/unit/scheduler_test/algorithm_test/test_random_sampling.py::test_random_sampling", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_get_nm_results", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_search", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_inside_contract", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_generate_parameter2", "tests/unit/scheduler_test/algorithm_test/test_abstract_scheduling_algorithm.py::test_abstract_scheduling_algorithm", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_centroid", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test__add_result", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_reflect_branch", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_reflect", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_change_state", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_shrink", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test__create_initial_values", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_nelder_mead_main", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_update_ready_parameter_name", "tests/unit/optimizer_test/test_nelder_mead.py::test_nelder_mead_parameters", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_outside_contract", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_add_result_parameters", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_initialize", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_add_y_history", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_wait_shrink", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_expand", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_outside_contract_branch", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_init", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_get_ready_parameters", "tests/unit/optimizer_test/test_nelder_mead.py::TestNelderMead::test_is_out_of_boundary"], "PASS_TO_PASS": ["tests/unit/master_test/evaluator_test/test_abstract_evaluator.py::TestAbstractEvaluator::test_save", "tests/unit/optimizer_test/test_grid_search.py::TestGridOptimizer::test_generate_parameter", "tests/unit/optimizer_test/test_create.py::test_create", "tests/unit/storage/db/test_jobstate.py::test_set_any_trial_jobstate", "tests/unit/storage/db/test_alive.py::test_get_any_process_state", "tests/unit/util_test/test_filesystem.py::test_get_file_result", "tests/unit/master_test/verification_test/test_abstract_verification.py::TestAbstractVerification::test_verify", "tests/unit/util_test/test_config.py::test_value", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_inner_loop_main_process", "tests/unit/storage/db/test_jobstate.py::test_set_any_trial_jobstates", "tests/unit/storage/db/test_variable.py::test_delete", "tests/unit/abci_test/test_abci_qsub.py::test_create_qsub_command", "tests/unit/storage/db/test_trial.py::test_get_all_trial_id", "tests/unit/util_test/test_trial_id.py::test_get", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_generate_parameter", "tests/unit/util_test/test_filesystem.py::test_make_directory", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_create_study", "tests/unit/storage/db/test_jobstate.py::test_delete_any_trial_jobstate", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_generate_initial_parameter", "tests/unit/master_test/test_abci_master.py::TestAbciMaster::test_pre_process", "tests/unit/storage/db/test_result.py::test_delete_any_trial_objective", "tests/unit/util_test/test_config.py::test_load_config", "tests/unit/util_test/test_filesystem.py::test_make_directories", "tests/unit/util_test/test_trial_id.py::test_zero_padding_any_trial_id", "tests/unit/storage/db/test_result.py::test_set_any_trial_objective_exception", "tests/unit/test_workspace.py::test_clean", "tests/unit/storage/db/test_jobstate.py::test_is_failure", "tests/unit/optimizer_test/test_grid_search.py::TestGridOptimizer::test_pre_process", "tests/unit/storage/db/test_timestamp.py::test_set_any_trial_start_time_exception", "tests/unit/storage/db/test_variable.py::test_delete_any_trial_variable", "tests/unit/storage/db/test_error.py::test_delete_any_trial_error_exception", "tests/unit/storage/db/test_variable.py::test_delete_any_trial_variable_exception", "tests/unit/storage/db/test_alive.py::test_check_alive", "tests/unit/storage/db/test_storage.py::test_delete_trial_data_after_this", "tests/unit/util_test/test_filesystem.py::test_file_read", "tests/unit/cli/test_report.py::test_report_", "tests/unit/master_test/verification_test/test_abstract_verification.py::TestAbstractVerification::test_make_verification", "tests/newly_test/additional_resumption/benchmark/test_benchmark_tpe_resumption.py::TestBenchmarkTpeResumption::test_run", "tests/unit/storage/db/test_variable.py::test_all_delete", "tests/unit/storage/db/test_result.py::test_all_delete", "tests/unit/optimizer_test/test_grid_search.py::test_get_grid_options", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_inner_loop_main_process", "tests/unit/storage/db/test_storage.py::test_get_best_trial", "tests/unit/util_test/test_filesystem.py::test_get_dict_files", "tests/unit/util_test/test_trial_id.py::test_increment_1", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_cast", "tests/unit/master_test/evaluator_test/test_minimize_evaluator.py::TestMinimizeEvaluator::test_maximize_evaluator", "tests/unit/optimizer_test/test_grid_search.py::test_generate_grid_points", "tests/unit/test_wrapper_tools.py::TestCeaterRunnerComand::test_create_runner_command", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_serialize", "tests/unit/storage/db/test_hp.py::test_delete_any_trial_params", "tests/unit/storage/db/test_trial.py::test_delete_any_trial_state", "tests/unit/storage/db/test_trial.py::test_delete_any_trial_state_exception", "tests/unit/storage/db/test_jobstate.py::test_get_all_trial_jobstate", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_generate_initial_parameter", "tests/unit/util_test/test_suffix.py::test_suffix", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_pre_process", "tests/unit/storage/db/test_trial.py::test_get_ready", "tests/unit/optimizer_test/test_random_search.py::TestRandomOptimizer::test_generate_parameter", "tests/unit/util_test/test_easy_visualizer.py::test_set_colors", "tests/unit/util_test/test_config.py::test_config", "tests/unit/storage/db/test_timestamp.py::test_delete_any_trial_timestamp_excedption", "tests/unit/util_test/test_buffer.py::test_Add", "tests/unit/storage/db/test_storage.py::test_is_running", "tests/unit/util_test/test_buffer.py::test_Value", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_post_process", "tests/unit/test_parameter.py::TestParameter::test_get_best_parameters", "tests/unit/util_test/test_time.py::test_time", "tests/unit/storage/db/test_storage.py::test_is_finished", "tests/unit/util_test/test_config.py::TestJsonOrYamlObjectConfig::test_init", "tests/unit/storage/db/test_storage.py::test_get_hp_dict", "tests/unit/master_test/verification_test/test_abstract_verification.py::TestAbstractVerification::test_init", "tests/unit/util_test/test_config.py::TestConfileWrapper::test_init", "tests/unit/storage/db/test_storage.py::test_rollback_to_ready", "tests/unit/optimizer_test/test_grid_search.py::TestGridOptimizer::test_generate_initial_parameter", "tests/unit/optimizer_test/test_sobol_search.py::TestSobolOptimizer::test_generate_initial_parameter", "tests/unit/storage/db/test_hp.py::test_all_delete", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_check_error", "tests/unit/storage/db/test_timestamp.py::test_delete_any_trial_timestamp", "tests/unit/storage/db/test_variable.py::test_get", "tests/unit/util_test/test_buffer.py::test_set_max_len", "tests/unit/util_test/test_config.py::TestJsonOrYamlObjectConfig::test_to_dict", "tests/unit/util_test/test_retry.py::test_retry", "tests/unit/util_test/test_config.py::TestConfileWrapper::test_get", "tests/newly_test/additional_resumption/benchmark/test_benchmark_nelder_mead_resumption.py::TestBenchmarkNelderMeadResumption::test_run", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_post_process", "tests/unit/master_test/test_create.py::test_create", "tests/unit/storage/db/test_alive.py::test_set_any_process_state_exception", "tests/unit/storage/db/test_jobstate.py::test_set_any_trial_jobstate_exception", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test__deserialize", "tests/unit/storage/db/test_storage.py::test_get_best_trial_dict", "tests/unit/test_workspace.py::test_move_completed_data", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_register_new_parameters", "tests/unit/storage/db/test_trial.py::test_set_any_trial_state_exception", "tests/unit/master_test/test_local_master.py::TestLocalMaster::test_init", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_pre_process", "tests/unit/util_test/test_buffer.py::test_Now", "tests/unit/test_parameter.py::TestParameter::test_get_parameter_list", "tests/unit/storage/db/test_result.py::test_get_any_trial_objective", "tests/unit/storage/db/test_result.py::test_delete_any_trial_objective_exception", "tests/unit/storage/db/test_alive.py::test_set_any_process_state", "tests/unit/storage/db/test_hp.py::test_set_any_trial_param", "tests/unit/storage/db/test_timestamp.py::test_all_delete", "tests/unit/storage/db/test_output.py::test_set_any_trial_abci_output", "tests/unit/storage/db/test_storage.py::test_delete_trial", "tests/unit/util_test/test_buffer.py::test_Add_lengthover", "tests/unit/master_test/verification_test/test_abstract_verification.py::TestAbstractVerification::test_print", "tests/unit/test_workspace.py::test_create", "tests/unit/util_test/test_filesystem.py::test_create_yaml", "tests/unit/storage/db/test_storage.py::test_get_num_finished", "tests/unit/storage/db/test_variable.py::test_all_delete_exception", "tests/unit/storage/db/test_timestamp.py::test_set_any_trial_start_time", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_generate_initial_parameter", "tests/unit/util_test/test_buffer.py::test_delta", "tests/unit/storage/db/test_hp.py::test_set_any_trial_params_exception", "tests/unit/storage/db/test_result.py::test_all_delete_exception", "tests/unit/util_test/test_easy_visualizer.py::test_set_height", "tests/unit/storage/db/test_jobstate.py::test_set_any_trial_jobstates_exception", "tests/unit/test_parameter.py::TestParameter::test_load_parameter", "tests/unit/test_parameter.py::TestParameter::test_get_type", "tests/unit/master_test/verification_test/test_abstract_verification.py::TestAbstractVerification::test_save", "tests/unit/storage/db/test_error.py::test_set_any_trial_error", "tests/unit/util_test/test_filesystem.py::test_get_file_result_hp", "tests/unit/util_test/test_config.py::test_config_not_exists", "tests/unit/storage/db/test_timestamp.py::test_get_any_trial_start_time", "tests/unit/util_test/test_easy_visualizer.py::test_sort", "tests/unit/util_test/test_config.py::test_config_set", "tests/unit/optimizer_test/test_sobol_search.py::TestSobolOptimizer::test_pre_process", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_post_process", "tests/unit/storage/db/test_result.py::test_set_any_trial_objective", "tests/unit/util_test/test_filesystem.py::test_file_create", "tests/unit/storage/db/test_pid.py::test_set_any_process_pid_exception", "tests/unit/storage/db/test_storage.py::test_get_running", "tests/unit/storage/db/test_hp.py::test_all_delete_exception", "tests/unit/storage/db/test_storage.py::test_get_hp_dict_invalid_type", "tests/unit/util_test/test_buffer.py::test_Clear", "tests/unit/storage/db/test_alive.py::test_stop_any_process", "tests/unit/storage/db/test_error.py::test_all_delete", "tests/unit/storage/db/test_trial.py::test_all_delete", "tests/unit/util_test/test_buffer.py::test_Duplicate", "tests/unit/storage/db/test_storage.py::test_get_ready", "tests/unit/util_test/test_buffer.py::test_Is_Empty", "tests/unit/storage/db/test_storage.py::test_is_ready", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_generate_parameter", "tests/unit/util_test/test_buffer.py::test_point_diff", "tests/unit/storage/db/test_storage.py::test_get_hp_dict_categorical", "tests/unit/util_test/test_trial_id.py::test_trial_id_init", "tests/unit/storage/db/test_trial.py::test_get_any_state_list", "tests/unit/storage/db/test_hp.py::test_get_any_trial_params", "tests/unit/storage/db/test_timestamp.py::test_set_any_trial_end_time", "tests/unit/util_test/test_trial_id.py::test_string", "tests/unit/util_test/test_easy_visualizer.py::test_caption", "tests/unit/storage/db/test_hp.py::test_set_any_trial_params", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_pre_process_2", "tests/unit/optimizer_test/test_tpe_search.py::test_create_distributions", "tests/unit/storage/db/test_trial.py::test_set_any_trial_state", "tests/unit/util_test/test_logger.py::test_str_to_logging_level", "tests/unit/util_test/test_config.py::TestBaseConfig::test_base_config", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test__serialize", "tests/unit/storage/db/test_trial.py::test_all_delete_exception", "tests/unit/util_test/test_filesystem.py::test_file_delete", "tests/unit/storage/db/test_timestamp.py::test_get_any_trial_end_time", "tests/unit/util_test/test_buffer.py::test_Pre", "tests/unit/util_test/test_config.py::test_empty_if_error", "tests/unit/abci_test/test_abci_qstat.py::test_parse_job_list", "tests/unit/storage/db/test_storage.py::test_get_num_running", "tests/unit/test_workspace.py::test_check_consists", "tests/unit/storage/db/test_jobstate.py::test_get_any_trial_jobstate", "tests/unit/storage/db/test_pid.py::test_all_delete_exception", "tests/unit/util_test/test_buffer.py::test_has_difference", "tests/unit/storage/db/test_variable.py::test_serialize", "tests/unit/optimizer_test/test_tpe_search.py::TestTPESamplerWrapper::test_get_startup_trials", "tests/unit/storage/db/test_storage.py::test_get_hp_dict_int", "tests/unit/util_test/test_trial_id.py::test_initial", "tests/unit/storage/db/test_result.py::test_get_objectives", "tests/unit/storage/db/test_result.py::test_get_all_result", "tests/unit/storage/db/test_storage.py::test_get_num_ready", "tests/unit/storage/db/test_error.py::test_all_delete_exception", "tests/unit/storage/db/test_error.py::test_set_any_trial_error_exception", "tests/unit/storage/db/test_alive.py::test_init_alive", "tests/unit/storage/db/test_trial.py::test_get_finished", "tests/unit/optimizer_test/test_grid_search.py::TestGridOptimizer::test_get_parameter_index", "tests/unit/storage/db/test_storage.py::test_get_finished", "tests/unit/storage/db/test_pid.py::test_delete_any_process_pid_exception", "tests/unit/util_test/test_trial_id.py::test_integer", "tests/unit/cli/test_report.py::test_report", "tests/unit/master_test/evaluator_test/test_abstract_evaluator.py::TestAbstractEvaluator::test_init", "tests/unit/storage/db/test_error.py::test_get_any_trial_error", "tests/unit/storage/db/test_pid.py::test_get_any_process_pid", "tests/unit/master_test/evaluator_test/test_abstract_evaluator.py::TestAbstractEvaluator::test_print", "tests/unit/util_test/test_filesystem.py::test_load_yaml", "tests/unit/optimizer_test/test_sobol_search.py::TestSobolOptimizer::test_generate_parameter", "tests/unit/storage/db/test_timestamp.py::test_all_delete_exception", "tests/unit/util_test/test_buffer.py::test_Del", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_deserialize", "tests/unit/storage/db/test_timestamp.py::test_set_any_trial_end_time_exception", "tests/unit/storage/db/test_trial.py::test_get_any_trial_state", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_print_dict_state", "tests/unit/cli/view/test_view.py::test_view", "tests/unit/storage/db/test_error.py::test_delete_any_trial_error", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_is_startup_trials", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test__get_all_trial_id", "tests/unit/storage/db/test_storage.py::test_get_result_and_error", "tests/unit/storage/db/test_timestamp.py::test_set_any_trial_end_time_assersion", "tests/unit/util_test/test_easy_visualizer.py::test_easy_visualizer_init", "tests/unit/storage/db/test_output.py::test_set_any_trial_abci_output_exception", "tests/unit/storage/db/test_hp.py::test_delete_any_trial_params_exception", "tests/unit/storage/db/test_storage.py::test_current_max_trial_number", "tests/unit/util_test/test_config.py::TestJsonOrYamlObjectConfig::test_get_property", "tests/unit/storage/db/test_variable.py::test_set_exception", "tests/unit/optimizer_test/test_nelder_mead_search.py::TestNelderMeadOptimizer::test_check_result", "tests/unit/master_test/evaluator_test/test_abstract_evaluator.py::TestAbstractEvaluator::test_evaluate", "tests/unit/storage/db/test_result.py::test_get_result_trial_id_list", "tests/unit/master_test/evaluator_test/test_maximize_evaluator.py::TestMaximizeEvaluator::test_maximize_evaluator", "tests/unit/storage/db/test_pid.py::test_all_delete", "tests/unit/abci_test/test_abci_batch.py::TestCreateAbciBatchFile::test_create_abci_batch_file", "tests/unit/master_test/test_abstract_master.py::TestAbstractMaster::test_pre_process_3", "tests/unit/storage/db/test_trial.py::test_get_running", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_check_result", "tests/unit/test_parameter.py::TestParameter::test_get_hyperparameter", "tests/unit/test_workspace.py::test_exists", "tests/unit/util_test/test_buffer.py::test_replace", "tests/unit/storage/db/test_error.py::test_get_error_trial_id", "tests/unit/storage/db/test_pid.py::test_set_any_process_pid", "tests/unit/storage/db/test_result.py::test_get_bests", "tests/unit/storage/db/test_jobstate.py::test_delete_any_trial_jobstate_exception", "tests/unit/storage/db/test_alive.py::test_get_state", "tests/unit/optimizer_test/test_abstract_optimizer.py::TestAbstractOptimizer::test_pre_process", "tests/unit/abci_test/test_abci_qstat.py::test_parse_qstat", "tests/unit/storage/db/test_output.py::test_get_any_trial_abci_output", "tests/unit/optimizer_test/test_tpe_search.py::TestTpeOptimizer::test_pre_process", "tests/unit/storage/db/test_pid.py::test_delete_any_process_pid"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/aistairc_aiaccel:73390a0483e75572c700e00185ad859ef7af34b7", "patch": "[\"diff --git a/.gitignore b/.gitignore\\nindex 7f6d07de0..6cfdaec96 100644\\n--- a/.gitignore\\n+++ b/.gitignore\\n@@ -108,6 +108,7 @@ venv.bak/\\n work_aiaccel/\\n \\n # vscode\\n+.vscode\\n *.code-workspace\\n \\n # document\\n@@ -115,3 +116,7 @@ docs/build/html\\n \\n # IntelliJ\\n .idea\\n+\\n+# Docker\\n+.devcontainer\\n+Dockerfile\\n\\\\ No newline at end of file\\n\",\"diff --git a/aiaccel/__init__.py b/aiaccel/__init__.py\\nindex 1907c3533..f5b392ae3 100644\\n--- a/aiaccel/__init__.py\\n+++ b/aiaccel/__init__.py\\n@@ -32,7 +32,6 @@\\n from .common import file_configspace\\n from .common import file_final_result\\n from .common import file_hyperparameter\\n-from .common import file_native_random\\n from .common import file_numpy_random\\n from .common import file_numpy_random_extension\\n from .common import file_hp_count\\n@@ -91,7 +90,6 @@\\n     file_configspace,\\n     file_final_result,\\n     file_hyperparameter,\\n-    file_native_random,\\n     file_numpy_random,\\n     file_numpy_random_extension,\\n     file_hp_count,\\n\",\"diff --git a/aiaccel/common.py b/aiaccel/common.py\\nindex d2db6ae7b..693053987 100644\\n--- a/aiaccel/common.py\\n+++ b/aiaccel/common.py\\n@@ -43,7 +43,6 @@\\n file_configspace = 'configspace'\\n file_final_result = 'final_result.result'\\n file_hyperparameter = 'hyperparameter.json'\\n-file_native_random = 'native_random'\\n file_numpy_random = 'numpy_random'\\n file_numpy_random_extension = 'npy'\\n \\n\",\"diff --git a/aiaccel/module.py b/aiaccel/module.py\\nindex 20d196cec..72ba84283 100644\\n--- a/aiaccel/module.py\\n+++ b/aiaccel/module.py\\n@@ -1,5 +1,4 @@\\n import logging\\n-import random\\n from pathlib import Path\\n \\n import numpy as np\\n@@ -80,6 +79,8 @@ def __init__(self, options: dict) -> None:\\n         self.seed = self.config.randseed.get()\\n         self.storage = Storage(self.ws)\\n         self.trial_id = TrialId(self.options['config'])\\n+        # TODO: Separate the generator if don't want to affect randomness each other.\\n+        self._rng = None\\n \\n         self.storage.variable.register(\\n             process_name=self.options['process_name'],\\n@@ -218,7 +219,6 @@ def _serialize(self, trial_id: int) -> None:\\n         self.storage.variable.d['state'].set(trial_id, self)\\n \\n         # random state\\n-        self.storage.variable.d['native_random_state'].set(trial_id, self.get_native_random_state())\\n         self.storage.variable.d['numpy_random_state'].set(trial_id, self.get_numpy_random_state())\\n \\n     def _deserialize(self, trial_id: int) -> None:\\n@@ -229,21 +229,8 @@ def _deserialize(self, trial_id: int) -> None:\\n         self.__dict__.update(self.storage.variable.d['state'].get(trial_id).__dict__.copy())\\n \\n         # random state\\n-        self.set_native_random_state(self.storage.variable.d['native_random_state'].get(trial_id))\\n         self.set_numpy_random_state(self.storage.variable.d['numpy_random_state'].get(trial_id))\\n \\n-    def set_native_random_seed(self) -> None:\\n-        \\\"\\\"\\\" set any random seed.\\n-\\n-        Args:\\n-            None\\n-\\n-        Returns:\\n-            None\\n-        \\\"\\\"\\\"\\n-        self.logger.debug(f'set native random seed: {self.seed}')\\n-        random.seed(self.seed)\\n-\\n     def set_numpy_random_seed(self) -> None:\\n         \\\"\\\"\\\" set any random seed.\\n \\n@@ -254,29 +241,7 @@ def set_numpy_random_seed(self) -> None:\\n             None\\n         \\\"\\\"\\\"\\n         self.logger.debug(f'set numpy random seed: {self.seed}')\\n-        np.random.seed(seed=self.seed)\\n-\\n-    def get_native_random_state(self) -> tuple:\\n-        \\\"\\\"\\\" get random state.\\n-\\n-        Args:\\n-            None\\n-\\n-        Returns:\\n-            random.getstate (tuple)\\n-        \\\"\\\"\\\"\\n-        return random.getstate()\\n-\\n-    def set_native_random_state(self, state: tuple) -> None:\\n-        \\\"\\\"\\\" get random state.\\n-\\n-        Args:\\n-            state (tuple): random state\\n-\\n-        Returns:\\n-            None\\n-        \\\"\\\"\\\"\\n-        random.setstate(state)\\n+        self._rng = np.random.RandomState(self.seed)\\n \\n     def get_numpy_random_state(self) -> tuple:\\n         \\\"\\\"\\\" get random state.\\n@@ -287,7 +252,7 @@ def get_numpy_random_state(self) -> tuple:\\n         Returns:\\n             numpy.random.get_state (tuple)\\n         \\\"\\\"\\\"\\n-        return np.random.get_state()\\n+        return self._rng.get_state()\\n \\n     def set_numpy_random_state(self, state: tuple) -> None:\\n         \\\"\\\"\\\" get random state.\\n@@ -298,7 +263,7 @@ def set_numpy_random_state(self, state: tuple) -> None:\\n         Returns:\\n             None\\n         \\\"\\\"\\\"\\n-        np.random.set_state(state)\\n+        self._rng.set_state(state)\\n \\n     def check_error(self) -> bool:\\n         \\\"\\\"\\\" Check to confirm if an error has occurred.\\n\",\"diff --git a/aiaccel/optimizer/_nelder_mead.py b/aiaccel/optimizer/_nelder_mead.py\\nindex 47d4818a9..faff6fa25 100644\\n--- a/aiaccel/optimizer/_nelder_mead.py\\n+++ b/aiaccel/optimizer/_nelder_mead.py\\n@@ -67,7 +67,8 @@ def __init__(\\n         iteration: Optional[float] = float('inf'),\\n         coef: Optional[Union[dict, None]] = None,\\n         maximize: Optional[bool] = False,\\n-        initial_parameters: Optional[hptype] = None\\n+        initial_parameters: Optional[hptype] = None,\\n+        rng: np.random.RandomState = None\\n     ) -> None:\\n         \\\"\\\"\\\"Initial method of NelderMead.\\n \\n@@ -77,6 +78,7 @@ def __init__(\\n             -coef: A coefficient values.\\n             -maximize: Evaluate maximize or not.\\n             -initial_parameters: A initial parameters.\\n+            rng(np.random.RandomState): A reference to a random generator.\\n         \\\"\\\"\\\"\\n         if coef is None:\\n             coef = {\\\"r\\\": 1.0, \\\"ic\\\": - 0.5, \\\"oc\\\": 0.5, \\\"e\\\": 2.0, \\\"s\\\": 0.5}\\n@@ -86,6 +88,7 @@ def __init__(\\n         self.bdrys = np.array([[p.lower, p.upper] for p in self.params])\\n         self.coef = coef\\n         self.n_dim = len(self.bdrys)\\n+        self._rng = rng\\n \\n         self.y = self._create_initial_values(initial_parameters)\\n \\n@@ -128,22 +131,21 @@ def _create_initial_values(self, initial_parameters) -> list:\\n \\n     def _create_initial_value(self, initial_parameters, dim, num_of_initials):\\n         if initial_parameters is not None:\\n-            if (\\n-                type(initial_parameters[dim]['value']) is int or\\n-                type(initial_parameters[dim]['value']) is float\\n-            ):\\n+            if type(initial_parameters[dim]['value']) in [int, float, np.float64]:\\n                 initial_parameters[dim]['value'] = [initial_parameters[dim]['value']]\\n \\n             if type(initial_parameters[dim]['value']) is not list:\\n+                print(initial_parameters)\\n+                print(type(initial_parameters[dim]['value']))\\n                 raise TypeError('Default parameter should be set as list.')\\n \\n             if num_of_initials < len(initial_parameters[dim]['value']):\\n                 return initial_parameters[dim]['value'][num_of_initials]\\n             else:\\n-                return self.params[dim].sample()['value']\\n+                return self.params[dim].sample(rng=self._rng)['value']\\n \\n         else:\\n-            return self.params[dim].sample()['value']\\n+            return self.params[dim].sample(rng=self._rng)['value']\\n \\n     def _add_executing(\\n         self, y: np.ndarray,\\n@@ -164,7 +166,7 @@ def _add_executing(\\n             out_of_boundary = True\\n             self.logger.debug(f'_add_executing out of boundary y: {y}')\\n \\n-        vertex_id = generate_random_name()\\n+        vertex_id = generate_random_name(rng=self._rng)\\n         params = []\\n \\n         for yi, p in zip(y, self.params):\\n\",\"diff --git a/aiaccel/optimizer/abstract_optimizer.py b/aiaccel/optimizer/abstract_optimizer.py\\nindex 9100ca880..7490e8bc3 100644\\n--- a/aiaccel/optimizer/abstract_optimizer.py\\n+++ b/aiaccel/optimizer/abstract_optimizer.py\\n@@ -83,7 +83,7 @@ def generate_initial_parameter(self) -> Union[\\n                 None if any parameters are already created.\\n         \\\"\\\"\\\"\\n \\n-        sample = self.params.sample(initial=True)\\n+        sample = self.params.sample(initial=True, rng=self._rng)\\n         new_params = []\\n \\n         for s in sample:\\n@@ -117,7 +117,6 @@ def pre_process(self) -> None:\\n         Returns:\\n             None\\n         \\\"\\\"\\\"\\n-        self.set_native_random_seed()\\n         self.set_numpy_random_seed()\\n         self.resume()\\n \\n\",\"diff --git a/aiaccel/optimizer/nelder_mead_optimizer.py b/aiaccel/optimizer/nelder_mead_optimizer.py\\nindex 5c0ff8d58..825f0dcb9 100644\\n--- a/aiaccel/optimizer/nelder_mead_optimizer.py\\n+++ b/aiaccel/optimizer/nelder_mead_optimizer.py\\n@@ -31,7 +31,8 @@ def generate_initial_parameter(self):\\n \\n         self.nelder_mead = NelderMead(\\n             self.params.get_parameter_list(),\\n-            initial_parameters=initial_parameter\\n+            initial_parameters=initial_parameter,\\n+            rng=self._rng\\n         )\\n \\n         return self.generate_parameter()\\n\",\"diff --git a/aiaccel/optimizer/random_optimizer.py b/aiaccel/optimizer/random_optimizer.py\\nindex c1d75ef58..8cbb51957 100644\\n--- a/aiaccel/optimizer/random_optimizer.py\\n+++ b/aiaccel/optimizer/random_optimizer.py\\n@@ -17,7 +17,7 @@ def generate_parameter(self) -> None:\\n         \\\"\\\"\\\"\\n \\n         new_params = []\\n-        sample = self.params.sample()\\n+        sample = self.params.sample(rng=self._rng)\\n \\n         for s in sample:\\n             new_param = {\\n\",\"diff --git a/aiaccel/optimizer/sobol_optimizer.py b/aiaccel/optimizer/sobol_optimizer.py\\nindex 176f1e17e..66576888b 100644\\n--- a/aiaccel/optimizer/sobol_optimizer.py\\n+++ b/aiaccel/optimizer/sobol_optimizer.py\\n@@ -32,7 +32,7 @@ def pre_process(self) -> None:\\n \\n         finished = self.storage.trial.get_finished()\\n         self.generate_index = len(finished)\\n-        self.sampler = qmc.Sobol(d=len(self.params.get_parameter_list()), scramble=False)\\n+        self.sampler = qmc.Sobol(d=len(self.params.get_parameter_list()), scramble=False, seed=self._rng)\\n \\n         if self.generate_index is not None and self.generate_index > 0:\\n             self.sampler.fast_forward(self.generate_index)\\n\",\"diff --git a/aiaccel/parameter.py b/aiaccel/parameter.py\\nindex 719c2109b..5661117b0 100644\\n--- a/aiaccel/parameter.py\\n+++ b/aiaccel/parameter.py\\n@@ -137,11 +137,12 @@ def __init__(self, parameter):\\n         if 'base' in parameter:\\n             self.step = parameter['base']\\n \\n-    def sample(self, initial: bool = False) -> dict:\\n+    def sample(self, initial: bool = False, rng: np.random.RandomState = None) -> dict:\\n         \\\"\\\"\\\"Sample a parameter.\\n \\n         Args:\\n             initial (bool): This is set, when a initial value is required.\\n+            rng (np.random.RandomState): A reference to a random generator.\\n \\n         Returns:\\n             dict: A parameter dictionary.\\n@@ -152,13 +153,13 @@ def sample(self, initial: bool = False) -> dict:\\n         if initial and self.initial is not None:\\n             value = self.initial\\n         elif self.type.lower() == 'int':\\n-            value = np.random.randint(self.lower, self.upper)\\n+            value = rng.randint(self.lower, self.upper)\\n         elif self.type.lower() == 'float':\\n-            value = np.random.uniform(self.lower, self.upper)\\n+            value = rng.uniform([self.lower, self.upper])[0]\\n         elif self.type.lower() == 'categorical':\\n-            value = np.random.choice(self.choices)\\n+            value = rng.choice(self.choices)\\n         elif self.type.lower() == 'ordinal':\\n-            value = np.random.choice(self.sequence)\\n+            value = rng.choice(self.sequence)\\n         else:\\n             raise TypeError(\\n                 f'Invalid hyper parameter type: {self.type}')\\n@@ -219,11 +220,12 @@ def get_parameter_dict(self) -> dict:\\n         \\\"\\\"\\\"\\n         return self.hps\\n \\n-    def sample(self, initial: bool = False) -> List[dict]:\\n+    def sample(self, initial: bool = False, rng: np.random.RandomState = None) -> List[dict]:\\n         \\\"\\\"\\\"Sample a hyper parameters set.\\n \\n         Args:\\n             initial (bool): This is set, when a initial value is required.\\n+            rng (np.random.RandomState): A reference to a random generator.\\n \\n         Returns:\\n             dict: A hyper parameters set.\\n@@ -231,7 +233,7 @@ def sample(self, initial: bool = False) -> List[dict]:\\n         ret = []\\n \\n         for name, value in self.hps.items():\\n-            ret.append(value.sample(initial))\\n+            ret.append(value.sample(initial, rng=rng))\\n \\n         return ret\\n \\n\",\"diff --git a/aiaccel/scheduler/abstract_scheduler.py b/aiaccel/scheduler/abstract_scheduler.py\\nindex f6ed87641..d78f416f7 100644\\n--- a/aiaccel/scheduler/abstract_scheduler.py\\n+++ b/aiaccel/scheduler/abstract_scheduler.py\\n@@ -3,7 +3,7 @@\\n from typing import Union\\n \\n from aiaccel.module import AbstractModule\\n-from aiaccel.scheduler.algorithm import schdule_sampling\\n+from aiaccel.scheduler.algorithm import schedule_sampling\\n from aiaccel.scheduler.job.job_thread import Job\\n from aiaccel.util.logger import str_to_logging_level\\n \\n@@ -134,11 +134,10 @@ def pre_process(self) -> None:\\n             None\\n         \\\"\\\"\\\"\\n         self.trial_id.initial(num=0)\\n-        self.set_native_random_seed()\\n         self.set_numpy_random_seed()\\n         self.resume()\\n \\n-        self.algorithm = schdule_sampling.RamsomSampling(self.config)\\n+        self.algorithm = schedule_sampling.RandomSampling(self.config)\\n         self.change_state_finished_trials()\\n \\n         runnings = self.storage.trial.get_running()\\n@@ -196,7 +195,8 @@ def inner_loop_main_process(self) -> bool:\\n \\n         selected_threads = self.algorithm.select_hp(\\n             scheduled_candidates,\\n-            self.available_resource\\n+            self.available_resource,\\n+            rng=self._rng\\n         )\\n \\n         if len(selected_threads) > 0:\\n\",\"diff --git a/aiaccel/scheduler/algorithm/abstract_scheduling_algorithm.py b/aiaccel/scheduler/algorithm/abstract_scheduling_algorithm.py\\nindex eae93d6aa..98e8a2bf4 100644\\n--- a/aiaccel/scheduler/algorithm/abstract_scheduling_algorithm.py\\n+++ b/aiaccel/scheduler/algorithm/abstract_scheduling_algorithm.py\\n@@ -1,3 +1,4 @@\\n+import numpy as np\\n from pathlib import Path\\n from typing import List, Optional\\n \\n@@ -19,12 +20,18 @@ def __init__(self, config: Config) -> None:\\n         \\\"\\\"\\\"\\n         self.config = config\\n \\n-    def select_hp(self, hp_ready: List[Path], num: Optional[int] = 1) -> None:\\n+    def select_hp(\\n+        self,\\n+        hp_ready: List[Path],\\n+        num: Optional[int] = 1,\\n+        rng: np.random.RandomState = None\\n+    ) -> None:\\n         \\\"\\\"\\\"Select multiple hyper parameters.\\n \\n         Args:\\n             hp_ready (List[Path]): A list of path of ready hyper parameters.\\n             num (Optional[int]): A number to select hyper parameters.\\n+            rng (np.random.RandomState): A reference to a random generator.\\n \\n         Returns:\\n             None\\n\",\"diff --git a/aiaccel/scheduler/algorithm/random_sampling.py b/aiaccel/scheduler/algorithm/random_sampling.py\\nindex 319959e93..ee3fb86d2 100644\\n--- a/aiaccel/scheduler/algorithm/random_sampling.py\\n+++ b/aiaccel/scheduler/algorithm/random_sampling.py\\n@@ -1,4 +1,4 @@\\n-import random\\n+import numpy as np\\n from pathlib import Path\\n from typing import List, Optional\\n \\n@@ -11,13 +11,19 @@ class RandomSamplingSchedulingAlgorithm(AbstractSchedulingAlgorithm):\\n \\n     \\\"\\\"\\\"\\n \\n-    def select_hp(self, hp_ready: List[Path], num: Optional[int] = 1) ->\\\\\\n-            List[Path]:\\n+    def select_hp(\\n+        self,\\n+        hp_ready:\\n+        List[Path],\\n+        num: Optional[int] = 1,\\n+        rng: np.random.RandomState = None\\n+    ) -> List[Path]:\\n         \\\"\\\"\\\"Select multiple hyper parameters.\\n \\n         Args:\\n             hp_ready (List[Path]): A list of path of ready hyper parameters.\\n             num (Optional[int]): A number to select hyper parameters.\\n+            rng (np.random.RandomState): A reference to a random generator.\\n \\n         Returns:\\n             List[Path]: Selected hyper parameters.\\n@@ -25,7 +31,7 @@ def select_hp(self, hp_ready: List[Path], num: Optional[int] = 1) ->\\\\\\n         ret = []\\n         samples = min(num, len(hp_ready))\\n \\n-        for i in range(0, samples):\\n-            ret.append(random.choice(hp_ready))\\n+        for _ in range(0, samples):\\n+            ret.append(rng.choice(hp_ready, 1)[0])\\n \\n         return ret\\n\",\"diff --git a/aiaccel/scheduler/algorithm/schdule_sampling.py b/aiaccel/scheduler/algorithm/schdule_sampling.py\\ndeleted file mode 100644\\nindex 83a26f741..000000000\\n--- a/aiaccel/scheduler/algorithm/schdule_sampling.py\\n+++ /dev/null\\n@@ -1,33 +0,0 @@\\n-import random\\n-from pathlib import Path\\n-from typing import List, Optional\\n-\\n-from aiaccel.scheduler.algorithm.abstract_scheduling_algorithm import \\\\\\n-    AbstractSchedulingAlgorithm\\n-\\n-\\n-class RamsomSampling(AbstractSchedulingAlgorithm):\\n-    def select_hp(\\n-        self,\\n-        hp_ready: List[Path],   # A list of path of ready hyper parameters.\\n-        num: Optional[int] = 1  # A number to select hyper parameters.\\n-    ) -> List[Path]:\\n-\\n-        arr = []\\n-        samples = min(num, len(hp_ready))\\n-\\n-        for _ in range(0, samples):\\n-            arr.append(random.choice(hp_ready))\\n-\\n-        return arr\\n-\\n-\\n-class SequencialSampling(AbstractSchedulingAlgorithm):\\n-    def select_hp(\\n-        self,\\n-        hp_ready: List[Path],   # A list of path of ready hyper parameters.\\n-        num: Optional[int] = 1  # A number to select hyper parameters.\\n-    ) -> List[Path]:\\n-\\n-        arr = hp_ready\\n-        return arr\\n\",\"diff --git a/aiaccel/scheduler/algorithm/schedule_sampling.py b/aiaccel/scheduler/algorithm/schedule_sampling.py\\nnew file mode 100644\\nindex 000000000..d7ed0bebc\\n--- /dev/null\\n+++ b/aiaccel/scheduler/algorithm/schedule_sampling.py\\n@@ -0,0 +1,55 @@\\n+import numpy as np\\n+from pathlib import Path\\n+from typing import List, Optional\\n+\\n+from aiaccel.scheduler.algorithm.abstract_scheduling_algorithm import \\\\\\n+    AbstractSchedulingAlgorithm\\n+\\n+\\n+class RandomSampling(AbstractSchedulingAlgorithm):\\n+    def select_hp(\\n+        self,\\n+        hp_ready: List[Path],\\n+        num: Optional[int] = 1,\\n+        rng: np.random.RandomState = None\\n+    ) -> List[Path]:\\n+        \\\"\\\"\\\"\\n+\\n+        Args:\\n+            hp_ready (List[Path]): A list of path of ready hyper parameters.\\n+            num (Optional[int]): A number to select hyper parameters.\\n+            rng (np.random.RandomState): A random generator.\\n+\\n+        Returns:\\n+            List[Path]:\\n+        \\\"\\\"\\\"\\n+\\n+        arr = []\\n+        samples = min(num, len(hp_ready))\\n+\\n+        for _ in range(0, samples):\\n+            arr.append(rng.choice(hp_ready, 1)[0])\\n+\\n+        return arr\\n+\\n+\\n+class SequentialSampling(AbstractSchedulingAlgorithm):\\n+    def select_hp(\\n+        self,\\n+        hp_ready: List[Path],               # A list of path of ready hyper parameters.\\n+        num: Optional[int] = 1,             # A number to select hyper parameters.\\n+        rng: np.random.RandomState = None   # A random generator.\\n+    ) -> List[Path]:\\n+        \\\"\\\"\\\"\\n+\\n+        Args:\\n+            hp_ready (List[Path]): A list of path of ready hyper parameters.\\n+            num (Optional[int]): A number to select hyper parameters.\\n+            rng (np.random.RandomState): A random generator.\\n+\\n+        Returns:\\n+            List[Path]:\\n+        \\\"\\\"\\\"\\n+\\n+        arr = hp_ready\\n+        return arr\\n\",\"diff --git a/aiaccel/storage/model.py b/aiaccel/storage/model.py\\nindex f9eae67db..7c995349a 100644\\n--- a/aiaccel/storage/model.py\\n+++ b/aiaccel/storage/model.py\\n@@ -81,7 +81,6 @@ class SerializeTable(Base):\\n     trial_id = Column(Integer, nullable=False)\\n     process_name = Column(String(length=128), nullable=False)\\n     optimization_variable = Column(PickleType, nullable=False)\\n-    native_random_state = Column(PickleType, nullable=False)\\n     numpy_random_state = Column(PickleType, nullable=False)\\n \\n \\n@@ -90,7 +89,6 @@ class RandomStateTable(Base):\\n     data_id = Column(Integer, primary_key=True)\\n     trial_id = Column(Integer, nullable=False)\\n     process_name = Column(String(length=128), nullable=False)\\n-    native_random_state = Column(PickleType, nullable=False)\\n     numpy_random_state = Column(PickleType, nullable=False)\\n \\n \\n\",\"diff --git a/aiaccel/util/name.py b/aiaccel/util/name.py\\nindex eca83eea8..352cf40ea 100644\\n--- a/aiaccel/util/name.py\\n+++ b/aiaccel/util/name.py\\n@@ -1,15 +1,19 @@\\n import logging\\n-import random\\n+import numpy as np\\n import string\\n from typing import Union\\n \\n \\n-def generate_random_name(length: int = 10) -> Union[str, None]:\\n+def generate_random_name(\\n+    length: int = 10,\\n+    rng: np.random.RandomState = None\\n+) -> Union[str, None]:\\n     \\\"\\\"\\\"\\n     Generate random name using alphanumeric.\\n \\n     Args:\\n         length(int): A length of the name\\n+        rng(np.random.RandomState): A reference to a random generator.\\n \\n     Returns:\\n         (Union[str, None]): A generated name.\\n@@ -21,7 +25,6 @@ def generate_random_name(length: int = 10) -> Union[str, None]:\\n \\n         return None\\n \\n-    rands = [random.choice(string.ascii_letters + string.digits)\\n-             for _ in range(length)]\\n+    rands = [rng.choice(list(string.ascii_letters + string.digits))[0] for _ in range(length)]\\n \\n     return ''.join(rands)\\n\"]", "test_patch": "[\"diff --git a/tests/unit/optimizer_test/test_abstract_optimizer.py b/tests/unit/optimizer_test/test_abstract_optimizer.py\\nindex fbe53dec1..75f62515a 100644\\n--- a/tests/unit/optimizer_test/test_abstract_optimizer.py\\n+++ b/tests/unit/optimizer_test/test_abstract_optimizer.py\\n@@ -1,4 +1,5 @@\\n import asyncio\\n+import numpy as np\\n import os\\n import shutil\\n import sys\\n@@ -102,9 +103,11 @@ def dummy_serialize(trial_id):\\n                                 assert self.optimizer.inner_loop_main_process() is False\\n \\n     def test__serialize(self):\\n+        self.optimizer._rng = np.random.RandomState(0)\\n         assert self.optimizer._serialize(0) is None\\n \\n     def test__deserialize(self):\\n+        self.optimizer._rng = np.random.RandomState(0)\\n         self.optimizer._serialize(1)\\n         assert self.optimizer._deserialize(1) is None\\n \\n\",\"diff --git a/tests/unit/optimizer_test/test_nelder_mead.py b/tests/unit/optimizer_test/test_nelder_mead.py\\nindex b1bc42b4c..8bf137561 100644\\n--- a/tests/unit/optimizer_test/test_nelder_mead.py\\n+++ b/tests/unit/optimizer_test/test_nelder_mead.py\\n@@ -21,11 +21,13 @@ def setup_nelder_mead(self, load_test_config):\\n         self.config = load_test_config()\\n         # params = load_parameter(config.get('optimize', 'parameters'))\\n         params = load_parameter(self.config.hyperparameters.get())\\n+        rng = np.random.RandomState(0)\\n         nm_coef = NelderMead(\\n             params.get_parameter_list(),\\n-            coef={\\\"r\\\": 1.0, \\\"ic\\\": - 0.5, \\\"oc\\\": 0.5, \\\"e\\\": 2.0, \\\"s\\\": 0.5}\\n+            coef={\\\"r\\\": 1.0, \\\"ic\\\": - 0.5, \\\"oc\\\": 0.5, \\\"e\\\": 2.0, \\\"s\\\": 0.5},\\n+            rng=rng\\n         )\\n-        self.nm = NelderMead(params.get_parameter_list())\\n+        self.nm = NelderMead(params.get_parameter_list(), rng=rng)\\n         yield\\n         self.nm = None\\n \\n@@ -48,7 +50,8 @@ def test__create_initial_values(self):\\n             {'parameter_name': 'x9', 'type': 'FLOAT', 'value': 1},\\n             {'parameter_name': 'x10', 'type': 'FLOAT', 'value': 1},\\n         ]\\n-        NelderMead(hps, initial_parameters=initial_parameters)\\n+        rng = np.random.RandomState(0)\\n+        NelderMead(hps, initial_parameters=initial_parameters, rng=rng)\\n \\n         initial_parameters = [\\n             {'parameter_name': 'x1', 'type': 'CATEGORICAL', 'value': '1'},\\n@@ -63,7 +66,7 @@ def test__create_initial_values(self):\\n             {'parameter_name': 'x10', 'type': 'CATEGORICAL', 'value': '1'},\\n         ]\\n         with pytest.raises(TypeError):\\n-            NelderMead(hps, initial_parameters=initial_parameters)\\n+            NelderMead(hps, initial_parameters=initial_parameters, rng=rng)\\n \\n \\n     def test_add_executing(self):\\n@@ -357,10 +360,12 @@ def test_nelder_mead_parameters(load_test_config):\\n         config.hyperparameters.get()\\n     )\\n     initial_parameters = None\\n+    rng = np.random.RandomState(0)\\n     nelder_mead = NelderMead(\\n         params.get_parameter_list(), initial_parameters=initial_parameters,\\n         iteration=100,\\n-        maximize=(config.goal.get().lower() == 'maximize')\\n+        maximize=(config.goal.get().lower() == 'maximize'),\\n+        rng=rng\\n     )\\n \\n     c_max = 1000\\n\",\"diff --git a/tests/unit/optimizer_test/test_nelder_mead_search.py b/tests/unit/optimizer_test/test_nelder_mead_search.py\\nindex 1244be8b7..a9d71b04e 100644\\n--- a/tests/unit/optimizer_test/test_nelder_mead_search.py\\n+++ b/tests/unit/optimizer_test/test_nelder_mead_search.py\\n@@ -1,4 +1,5 @@\\n import json\\n+import numpy as np\\n \\n import aiaccel\\n import pytest\\n@@ -42,7 +43,9 @@ def test_generate_initial_parameter(self):\\n         ]\\n \\n         _optimizer = NelderMeadOptimizer(self.options)\\n+        _optimizer._rng = np.random.RandomState(0)\\n         _nelder_mead = _optimizer.generate_initial_parameter()\\n+        self.optimizer._rng = np.random.RandomState(0)\\n \\n         with patch.object(self.optimizer, \\\"nelder_mead\\\", None):\\n             assert self.optimizer.generate_initial_parameter() == expected\\n@@ -83,8 +86,10 @@ def test_generate_parameter(\\n         self.optimizer.params = load_parameter(\\n             config.get('optimize',\\n                        'parameters_for_TestNelderMead'))\\n+        rng = np.random.RandomState(0)\\n         self.optimizer.nelder_mead = NelderMead(\\n-            self.optimizer.params.get_parameter_list()\\n+            self.optimizer.params.get_parameter_list(),\\n+            rng=rng\\n         )\\n         # params = self.optimizer.nelder_mead.get_ready_parameters()\\n         params = self.optimizer.get_ready_parameters()\\n@@ -96,7 +101,7 @@ def test_generate_parameter(\\n         assert self.optimizer.generate_parameter() is None\\n \\n         # if len(self.parameter_pool) == 0:\\n-        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list())\\n+        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list(), rng=rng)\\n         self.optimizer.generate_initial_parameter()\\n         with patch.object(self.optimizer, 'nelder_mead_main', return_value=[]):\\n             with patch.object(self.optimizer, 'parameter_pool', []):\\n@@ -114,8 +119,10 @@ def test_generate_parameter2(\\n         self.optimizer.params = load_parameter(\\n             config.get('optimize',\\n                        'parameters_for_TestNelderMeadSearch'))\\n+        rng = np.random.RandomState(0)\\n         self.optimizer.nelder_mead = NelderMead(\\n-            self.optimizer.params.get_parameter_list()\\n+            self.optimizer.params.get_parameter_list(),\\n+            rng=rng\\n         )\\n         # params = self.optimizer.nelder_mead.get_ready_parameters()\\n         # params = self.optimizer.get_ready_parameters()\\n@@ -137,8 +144,10 @@ def test_update_ready_parameter_name(\\n                 'parameters_for_TestNelderMead'\\n             )\\n         )\\n+        rng = np.random.RandomState(0)\\n         self.optimizer.nelder_mead = NelderMead(\\n-            self.optimizer.params.get_parameter_list()\\n+            self.optimizer.params.get_parameter_list(),\\n+            rng=rng\\n         )\\n         self.optimizer.nelder_mead._executing.append({'vertex_id': '001'})\\n \\n@@ -162,14 +171,17 @@ def test_get_ready_parameters(\\n                 'parameters_for_TestNelderMead'\\n             )\\n         )\\n+        rng = np.random.RandomState(0)\\n         self.optimizer.nelder_mead = NelderMead(\\n-            self.optimizer.params.get_parameter_list()\\n+            self.optimizer.params.get_parameter_list(),\\n+            rng=rng\\n         )\\n         # assert len(self.nm.get_ready_parameters()) == 11\\n         assert len(self.optimizer.get_ready_parameters()) == 3\\n \\n     def test_get_nm_results(self):\\n-        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list())\\n+        rng = np.random.RandomState(0)\\n+        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list(), rng=rng)\\n \\n         self.optimizer.get_nm_results()\\n \\n@@ -197,7 +209,8 @@ def test_get_nm_results(self):\\n                 self.optimizer.get_nm_results()\\n \\n     def test__add_result(self):\\n-        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list())\\n+        rng = np.random.RandomState(0)\\n+        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list(), rng=rng)\\n         self.optimizer.generate_initial_parameter()\\n         nm_results = [\\n             {\\n@@ -231,7 +244,8 @@ def test__add_result(self):\\n \\n \\n     def test_nelder_mead_main(self):\\n-        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list())\\n+        rng = np.random.RandomState(0)\\n+        self.optimizer.nelder_mead = NelderMead(self.optimizer.params.get_parameter_list(), rng=rng)\\n         self.optimizer.generate_initial_parameter()\\n         self.optimizer.nelder_mead_main()\\n \\n\",\"diff --git a/tests/unit/optimizer_test/test_tpe_search.py b/tests/unit/optimizer_test/test_tpe_search.py\\nindex 8dc5e4dd7..70b07e260 100644\\n--- a/tests/unit/optimizer_test/test_tpe_search.py\\n+++ b/tests/unit/optimizer_test/test_tpe_search.py\\n@@ -1,3 +1,4 @@\\n+import numpy as np\\n import pytest\\n from aiaccel.config import Config\\n from aiaccel.optimizer.tpe_optimizer import (TpeOptimizer, TPESamplerWrapper,\\n@@ -88,6 +89,7 @@ def test_serialize(self):\\n         self.optimizer.create_study()\\n         self.optimizer.trial_id.initial(num=0)\\n         self.optimizer.storage.trial.set_any_trial_state(trial_id=0, state=\\\"ready\\\")\\n+        self.optimizer._rng = np.random.RandomState(0)\\n         assert self.optimizer._serialize(trial_id=0) is None\\n \\n     def test_deserialize(self):\\n\",\"diff --git a/tests/unit/scheduler_test/algorithm_test/test_abstract_scheduling_algorithm.py b/tests/unit/scheduler_test/algorithm_test/test_abstract_scheduling_algorithm.py\\nindex 56ec58d5f..10f009c82 100644\\n--- a/tests/unit/scheduler_test/algorithm_test/test_abstract_scheduling_algorithm.py\\n+++ b/tests/unit/scheduler_test/algorithm_test/test_abstract_scheduling_algorithm.py\\n@@ -1,3 +1,4 @@\\n+import numpy as np\\n from aiaccel.scheduler.algorithm.abstract_scheduling_algorithm import \\\\\\n     AbstractSchedulingAlgorithm\\n \\n@@ -5,9 +6,10 @@\\n def test_abstract_scheduling_algorithm(load_test_config):\\n     config = load_test_config()\\n     algorithm = AbstractSchedulingAlgorithm(config)\\n+    rng = np.random.RandomState(0)\\n \\n     try:\\n-        algorithm.select_hp(None, None)\\n+        algorithm.select_hp(None, None, rng=rng)\\n         assert False\\n     except NotImplementedError:\\n         assert True\\n\",\"diff --git a/tests/unit/scheduler_test/algorithm_test/test_random_sampling.py b/tests/unit/scheduler_test/algorithm_test/test_random_sampling.py\\nindex 73d68ea93..fd58f56a8 100644\\n--- a/tests/unit/scheduler_test/algorithm_test/test_random_sampling.py\\n+++ b/tests/unit/scheduler_test/algorithm_test/test_random_sampling.py\\n@@ -1,3 +1,4 @@\\n+import numpy as np\\n from aiaccel.scheduler.algorithm.random_sampling import \\\\\\n     RandomSamplingSchedulingAlgorithm\\n \\n@@ -5,8 +6,9 @@\\n def test_random_sampling(load_test_config):\\n     config = load_test_config()\\n     algorithm = RandomSamplingSchedulingAlgorithm(config)\\n+    rng = np.random.RandomState(0)\\n     hp = [1]\\n-    assert algorithm.select_hp(hp) == [1]\\n+    assert algorithm.select_hp(hp, rng=rng) == [1]\\n \\n     '''\\n     resource = {'numAvailable': 1}\\n\",\"diff --git a/tests/unit/scheduler_test/test_abstract_scheduler.py b/tests/unit/scheduler_test/test_abstract_scheduler.py\\nindex d0320a380..73cc215d6 100644\\n--- a/tests/unit/scheduler_test/test_abstract_scheduler.py\\n+++ b/tests/unit/scheduler_test/test_abstract_scheduler.py\\n@@ -1,4 +1,5 @@\\n import asyncio\\n+import numpy as np\\n import os\\n import time\\n from unittest.mock import patch\\n@@ -262,6 +263,7 @@ def test_serialize(\\n             'process_name': 'scheduler'\\n         }\\n         scheduler = AbstractScheduler(options)\\n+        scheduler._rng = np.random.RandomState(0)\\n         scheduler.storage.trial.set_any_trial_state(trial_id=0, state=\\\"finished\\\")\\n         assert scheduler._serialize(trial_id=0) is None\\n \\n@@ -281,6 +283,7 @@ def test_deserialize(\\n         }\\n         scheduler = AbstractScheduler(options)\\n         scheduler.storage.trial.set_any_trial_state(trial_id=0, state=\\\"finished\\\")\\n+        scheduler._rng = np.random.RandomState(0)\\n         scheduler._serialize(trial_id=0)\\n         assert scheduler._deserialize(trial_id=0) is None\\n \\n\",\"diff --git a/tests/unit/test_module.py b/tests/unit/test_module.py\\nindex dc84d87bf..3842ac04f 100644\\n--- a/tests/unit/test_module.py\\n+++ b/tests/unit/test_module.py\\n@@ -1,5 +1,6 @@\\n import asyncio\\n import logging\\n+import numpy as np\\n import shutil\\n import sys\\n import time\\n@@ -180,9 +181,11 @@ def test_inner_loop_main_process(self):\\n             assert True\\n \\n     def test_serialize(self):\\n+        self.module._rng = np.random.RandomState(0)\\n         assert self.module._serialize(0) is None\\n \\n     def test_deserialize(self):\\n+        self.module._rng = np.random.RandomState(0)\\n         self.module._serialize(1)\\n         assert self.module._deserialize(1) is None\\n \\n@@ -198,6 +201,7 @@ def test_resume(self):\\n         }\\n \\n         self.module = AbstractModule(options)\\n+        self.module._rng = np.random.RandomState(0)\\n         assert self.module.resume() is None\\n \\n         self.module.options['resume'] = 1\\n\",\"diff --git a/tests/unit/test_parameter.py b/tests/unit/test_parameter.py\\nindex a792ae03a..f55720da0 100644\\n--- a/tests/unit/test_parameter.py\\n+++ b/tests/unit/test_parameter.py\\n@@ -1,3 +1,5 @@\\n+import numpy as np\\n+\\n import aiaccel\\n from aiaccel.parameter import get_best_parameter, get_type, load_parameter\\n from aiaccel.util.filesystem import create_yaml\\n@@ -131,7 +133,8 @@ def test_sample(self):\\n             }\\n         ]\\n         hp = load_parameter(json_string)\\n-        p = hp.sample()\\n+        rng = np.random.RandomState(1)\\n+        p = hp.sample(rng=rng)\\n         assert len(p) == 4\\n \\n         # json_string['parameters'].append({'name': 'e', 'type': 'invalid'})\\n@@ -139,7 +142,7 @@ def test_sample(self):\\n         hp = load_parameter(json_string)\\n \\n         try:\\n-            hp.sample()\\n+            hp.sample(rng=rng)\\n             assert False\\n         except TypeError:\\n             assert True\\n\",\"diff --git a/tests/unit/util_test/test_name.py b/tests/unit/util_test/test_name.py\\nindex 7105e304b..ebc8e1d73 100644\\n--- a/tests/unit/util_test/test_name.py\\n+++ b/tests/unit/util_test/test_name.py\\n@@ -1,9 +1,9 @@\\n-import random\\n+import numpy as np\\n \\n from aiaccel.util.name import generate_random_name\\n \\n \\n def test_generate_random_name():\\n-    assert generate_random_name(0) is None\\n-    random.seed(1)\\n-    assert generate_random_name(1) == 'i'\\n+    rng = np.random.RandomState(0)\\n+    assert generate_random_name(0, rng=rng) is None\\n+    assert generate_random_name(1, rng=rng) == 'S'\"]", "hints_text": ""}
