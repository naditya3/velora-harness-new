{"instance_id": "1556400872000796", "repo": "hikari-py/hikari", "base_commit": "507bf4115ceeb418c7616f13ef66688fde2fe95d", "problem_statement": "Extract component models out of `messages.py`:\\nExtract component models out of `messages.py`. There is already a lot of models there that makes it a bit hard to scroll through and find what you are looking for", "FAIL_TO_PASS": ["tests/hikari/interactions/test_base_interactions.py::TestModalResponseMixin::test_build_response", "tests/hikari/impl/test_rest.py::TestRESTClientImpl::test_build_modal_action_row", "tests/hikari/impl/test_rest.py::TestRESTClientImpl::test_build_message_action_row", "tests/hikari/impl/test_rest.py::TestRESTClientImplAsync::test_create_modal_response", "tests/hikari/impl/test_rest.py::TestRESTClientImplAsync::test_create_modal_response_when_both_component_and_components_passed", "tests/hikari/impl/test_rest.py::TestRESTClientImpl::test_interaction_modal_builder_with_components", "tests/hikari/impl/test_rest.py::TestRESTClientImpl::test_build_action_row", "tests/hikari/impl/test_rest.py::TestRESTClientImplAsync::test_create_modal_response_with_plural_args", "tests/hikari/impl/test_rest.py::TestRESTClientImpl::test_interaction_modal_builder", "tests/hikari/interactions/test_base_interactions.py::TestModalResponseMixin::test_create_modal_response"], "PASS_TO_PASS": [], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && nox -- --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/hikari-py_hikari:507bf4115ceeb418c7616f13ef66688fde2fe95d", "patch": "", "test_patch": "[\"diff --git a/tests/hikari/impl/test_entity_factory.py b/tests/hikari/impl/test_entity_factory.py\\nindex 9a55ace590..ca558ff0e2 100644\\n--- a/tests/hikari/impl/test_entity_factory.py\\n+++ b/tests/hikari/impl/test_entity_factory.py\\n@@ -30,6 +30,7 @@\\n from hikari import channels as channel_models\\n from hikari import colors as color_models\\n from hikari import commands\\n+from hikari import components as component_models\\n from hikari import embeds as embed_models\\n from hikari import emojis as emoji_models\\n from hikari import errors\\n@@ -53,6 +54,7 @@\\n from hikari.interactions import base_interactions\\n from hikari.interactions import command_interactions\\n from hikari.interactions import component_interactions\\n+from hikari.interactions import modal_interactions\\n from tests.hikari import hikari_test_helpers\\n \\n \\n@@ -4527,7 +4529,7 @@ def test_deserialize_component_interaction(\\n         assert interaction.token == \\\"unique_interaction_token\\\"\\n         assert interaction.version == 1\\n         assert interaction.channel_id == 345626669114982999\\n-        assert interaction.component_type is message_models.ComponentType.BUTTON\\n+        assert interaction.component_type is component_models.ComponentType.BUTTON\\n         assert interaction.custom_id == \\\"click_one\\\"\\n         assert interaction.guild_id == 290926798626357999\\n         assert interaction.message == entity_factory_impl.deserialize_message(message_payload)\\n@@ -4569,6 +4571,83 @@ def test_deserialize_component_interaction_with_undefined_fields(\\n         assert interaction.app_permissions is None\\n         assert isinstance(interaction, component_interactions.ComponentInteraction)\\n \\n+    @pytest.fixture()\\n+    def modal_interaction_payload(self, interaction_member_payload, message_payload):\\n+        return {\\n+            \\\"version\\\": 1,\\n+            \\\"type\\\": 5,\\n+            \\\"token\\\": \\\"unique_interaction_token\\\",\\n+            \\\"message\\\": message_payload,\\n+            \\\"member\\\": interaction_member_payload,\\n+            \\\"id\\\": \\\"846462639134605312\\\",\\n+            \\\"guild_id\\\": \\\"290926798626357999\\\",\\n+            \\\"data\\\": {\\n+                \\\"custom_id\\\": \\\"modaltest\\\",\\n+                \\\"components\\\": [\\n+                    {\\\"type\\\": 1, \\\"components\\\": [{\\\"value\\\": \\\"Wumpus\\\", \\\"type\\\": 4, \\\"custom_id\\\": \\\"name\\\"}]},\\n+                    {\\\"type\\\": 1, \\\"components\\\": [{\\\"value\\\": \\\"Longer Text\\\", \\\"type\\\": 4, \\\"custom_id\\\": \\\"about\\\"}]},\\n+                ],\\n+            },\\n+            \\\"channel_id\\\": \\\"345626669114982999\\\",\\n+            \\\"application_id\\\": \\\"290926444748734465\\\",\\n+            \\\"locale\\\": \\\"en-US\\\",\\n+            \\\"guild_locale\\\": \\\"es-ES\\\",\\n+        }\\n+\\n+    def test_deserialize_modal_interaction(\\n+        self,\\n+        entity_factory_impl,\\n+        mock_app,\\n+        modal_interaction_payload,\\n+        interaction_member_payload,\\n+        message_payload,\\n+    ):\\n+        interaction = entity_factory_impl.deserialize_modal_interaction(modal_interaction_payload)\\n+        assert interaction.app is mock_app\\n+        assert interaction.id == 846462639134605312\\n+        assert interaction.application_id == 290926444748734465\\n+        assert interaction.type is base_interactions.InteractionType.MODAL_SUBMIT\\n+        assert interaction.token == \\\"unique_interaction_token\\\"\\n+        assert interaction.version == 1\\n+        assert interaction.channel_id == 345626669114982999\\n+        assert interaction.guild_id == 290926798626357999\\n+        assert interaction.message == entity_factory_impl.deserialize_message(message_payload)\\n+        assert interaction.member == entity_factory_impl._deserialize_interaction_member(\\n+            interaction_member_payload, guild_id=290926798626357999\\n+        )\\n+        assert interaction.user is interaction.member.user\\n+        assert isinstance(interaction, modal_interactions.ModalInteraction)\\n+\\n+        short_action_row = interaction.components[0]\\n+        assert isinstance(short_action_row, component_models.ActionRowComponent)\\n+        short_text_input = short_action_row.components[0]\\n+        assert isinstance(short_text_input, component_models.TextInputComponent)\\n+        assert short_text_input.value == \\\"Wumpus\\\"\\n+        assert short_text_input.type == component_models.ComponentType.TEXT_INPUT\\n+        assert short_text_input.custom_id == \\\"name\\\"\\n+\\n+    def test_deserialize_modal_interaction_with_user(\\n+        self,\\n+        entity_factory_impl,\\n+        modal_interaction_payload,\\n+        user_payload,\\n+    ):\\n+        modal_interaction_payload[\\\"member\\\"] = None\\n+        modal_interaction_payload[\\\"user\\\"] = user_payload\\n+\\n+        interaction = entity_factory_impl.deserialize_modal_interaction(modal_interaction_payload)\\n+        assert interaction.user.id == 115590097100865541\\n+\\n+    def test_deserialize_modal_interaction_with_unrecognized_component(\\n+        self,\\n+        entity_factory_impl,\\n+        modal_interaction_payload,\\n+    ):\\n+        modal_interaction_payload[\\\"data\\\"][\\\"components\\\"] = [{\\\"type\\\": 0}]\\n+\\n+        interaction = entity_factory_impl.deserialize_modal_interaction(modal_interaction_payload)\\n+        assert len(interaction.components) == 0\\n+\\n     ##################\\n     # STICKER MODELS #\\n     ##################\\n@@ -5004,27 +5083,14 @@ def test_max_age_when_zero(self, entity_factory_impl, invite_with_metadata_paylo\\n         invite_with_metadata_payload[\\\"max_age\\\"] = 0\\n         assert entity_factory_impl.deserialize_invite_with_metadata(invite_with_metadata_payload).max_age is None\\n \\n-    ##################\\n-    # MESSAGE MODELS #\\n-    ##################\\n+    ####################\\n+    # COMPONENT MODELS #\\n+    ####################\\n \\n     @pytest.fixture()\\n     def action_row_payload(self, button_payload):\\n         return {\\\"type\\\": 1, \\\"components\\\": [button_payload]}\\n \\n-    def test__deserialize_action_row(self, entity_factory_impl, action_row_payload, button_payload):\\n-        action_row = entity_factory_impl._deserialize_action_row(action_row_payload)\\n-\\n-        assert action_row.type is message_models.ComponentType.ACTION_ROW\\n-        assert action_row.components == [entity_factory_impl._deserialize_component(button_payload)]\\n-\\n-    def test__deserialize_action_row_handles_unknown_component_type(self, entity_factory_impl):\\n-        action_row = entity_factory_impl._deserialize_action_row(\\n-            {\\\"type\\\": 1, \\\"components\\\": [{\\\"type\\\": \\\"9494949\\\"}, {\\\"type\\\": \\\"9239292\\\"}]}\\n-        )\\n-\\n-        assert action_row.components == []\\n-\\n     @pytest.fixture()\\n     def button_payload(self, custom_emoji_payload):\\n         return {\\n@@ -5040,8 +5106,8 @@ def button_payload(self, custom_emoji_payload):\\n     def test_deserialize__deserialize_button(self, entity_factory_impl, button_payload, custom_emoji_payload):\\n         button = entity_factory_impl._deserialize_button(button_payload)\\n \\n-        assert button.type is message_models.ComponentType.BUTTON\\n-        assert button.style is message_models.ButtonStyle.PRIMARY\\n+        assert button.type is component_models.ComponentType.BUTTON\\n+        assert button.style is component_models.ButtonStyle.PRIMARY\\n         assert button.label == \\\"Click me!\\\"\\n         assert button.emoji == entity_factory_impl.deserialize_emoji(custom_emoji_payload)\\n         assert button.custom_id == \\\"click_one\\\"\\n@@ -5053,8 +5119,8 @@ def test_deserialize__deserialize_button_with_unset_fields(\\n     ):\\n         button = entity_factory_impl._deserialize_button({\\\"type\\\": 2, \\\"style\\\": 5})\\n \\n-        assert button.type is message_models.ComponentType.BUTTON\\n-        assert button.style is message_models.ButtonStyle.LINK\\n+        assert button.type is component_models.ComponentType.BUTTON\\n+        assert button.style is component_models.ButtonStyle.LINK\\n         assert button.label is None\\n         assert button.emoji is None\\n         assert button.custom_id is None\\n@@ -5084,7 +5150,7 @@ def select_menu_payload(self, custom_emoji_payload):\\n     def test__deserialize_select_menu(self, entity_factory_impl, select_menu_payload, custom_emoji_payload):\\n         menu = entity_factory_impl._deserialize_select_menu(select_menu_payload)\\n \\n-        assert menu.type is message_models.ComponentType.SELECT_MENU\\n+        assert menu.type is component_models.ComponentType.SELECT_MENU\\n         assert menu.custom_id == \\\"Not an ID\\\"\\n \\n         # SelectMenuOption\\n@@ -5095,7 +5161,7 @@ def test__deserialize_select_menu(self, entity_factory_impl, select_menu_payload\\n         assert option.description == \\\"queen\\\"\\n         assert option.emoji == entity_factory_impl.deserialize_emoji(custom_emoji_payload)\\n         assert option.is_default is True\\n-        assert isinstance(option, message_models.SelectMenuOption)\\n+        assert isinstance(option, component_models.SelectMenuOption)\\n \\n         assert menu.placeholder == \\\"Imagine a place\\\"\\n         assert menu.min_values == 69\\n@@ -5124,28 +5190,52 @@ def test__deserialize_select_menu_partial(self, entity_factory_impl):\\n         assert menu.is_disabled is False\\n \\n     @pytest.mark.parametrize(\\n-        (\\\"type_\\\", \\\"fn\\\"),\\n+        (\\\"type_\\\", \\\"fn\\\", \\\"mapping\\\"),\\n         [\\n-            (1, \\\"_deserialize_action_row\\\"),\\n-            (2, \\\"_deserialize_button\\\"),\\n-            (3, \\\"_deserialize_select_menu\\\"),\\n+            (2, \\\"_deserialize_button\\\", \\\"_message_component_type_mapping\\\"),\\n+            (3, \\\"_deserialize_select_menu\\\", \\\"_message_component_type_mapping\\\"),\\n+            (4, \\\"_deserialize_text_input\\\", \\\"_modal_component_type_mapping\\\"),\\n         ],\\n     )\\n-    def test__deserialize_component(self, mock_app, type_, fn):\\n-        payload = {\\\"type\\\": type_}\\n+    def test__deserialize_components(self, mock_app, type_, fn, mapping):\\n+        component_payload = {\\\"type\\\": type_}\\n+        payload = [{\\\"type\\\": 1, \\\"components\\\": [component_payload]}]\\n \\n         with mock.patch.object(entity_factory.EntityFactoryImpl, fn) as expected_fn:\\n             # We need to instantiate it after the mock so that the functions that are stored in the dicts\\n             # are the ones we mock\\n             entity_factory_impl = entity_factory.EntityFactoryImpl(app=mock_app)\\n \\n-            assert entity_factory_impl._deserialize_component(payload) is expected_fn.return_value\\n+            components = entity_factory_impl._deserialize_components(payload, getattr(entity_factory_impl, mapping))\\n \\n-        expected_fn.assert_called_once_with(payload)\\n+        expected_fn.assert_called_once_with(component_payload)\\n+        action_row = components[0]\\n+        assert isinstance(action_row, component_models.ActionRowComponent)\\n+        assert action_row.components[0] is expected_fn.return_value\\n \\n-    def test__deserialize_component_handles_unknown_type(self, entity_factory_impl):\\n-        with pytest.raises(errors.UnrecognisedEntityError):\\n-            entity_factory_impl._deserialize_component({\\\"type\\\": -9434994})\\n+    def test__deserialize_components_handles_unknown_top_component_type(self, entity_factory_impl):\\n+        components = entity_factory_impl._deserialize_components(\\n+            [\\n+                # Unknown top-level component\\n+                {\\\"type\\\": -9434994},\\n+                {\\n+                    # Known top-level component\\n+                    \\\"type\\\": 1,\\n+                    \\\"components\\\": [\\n+                        # Unknown components\\n+                        {\\\"type\\\": 1},\\n+                        {\\\"type\\\": 1000000},\\n+                    ],\\n+                },\\n+            ],\\n+            {},\\n+        )\\n+\\n+        assert components == []\\n+\\n+    ##################\\n+    # MESSAGE MODELS #\\n+    ##################\\n \\n     @pytest.fixture()\\n     def partial_application_payload(self):\\n@@ -5381,7 +5471,9 @@ def test_deserialize_partial_message(\\n         assert partial_message.interaction.user == entity_factory_impl.deserialize_user(user_payload)\\n         assert isinstance(partial_message.interaction, message_models.MessageInteraction)\\n \\n-        assert partial_message.components == [entity_factory_impl._deserialize_component(action_row_payload)]\\n+        assert partial_message.components == entity_factory_impl._deserialize_components(\\n+            [action_row_payload], entity_factory_impl._message_component_type_mapping\\n+        )\\n \\n     def test_deserialize_partial_message_with_partial_fields(self, entity_factory_impl, message_payload):\\n         message_payload[\\\"content\\\"] = \\\"\\\"\\n@@ -5561,7 +5653,9 @@ def test_deserialize_message(\\n         assert message.interaction.user == entity_factory_impl.deserialize_user(user_payload)\\n         assert isinstance(message.interaction, message_models.MessageInteraction)\\n \\n-        assert message.components == [entity_factory_impl._deserialize_component(action_row_payload)]\\n+        assert message.components == entity_factory_impl._deserialize_components(\\n+            [action_row_payload], entity_factory_impl._message_component_type_mapping\\n+        )\\n \\n     def test_deserialize_message_with_unset_sub_fields(self, entity_factory_impl, message_payload):\\n         del message_payload[\\\"application\\\"][\\\"cover_image\\\"]\\n\",\"diff --git a/tests/hikari/impl/test_rest.py b/tests/hikari/impl/test_rest.py\\nindex 8c1a270836..2af8b2f925 100644\\n--- a/tests/hikari/impl/test_rest.py\\n+++ b/tests/hikari/impl/test_rest.py\\n@@ -1199,11 +1199,23 @@ def test_context_menu_command_command_builder(self, rest_client):\\n         assert result.type == commands.CommandType.MESSAGE\\n \\n     def test_build_action_row(self, rest_client):\\n-        with mock.patch.object(special_endpoints, \\\"ActionRowBuilder\\\") as action_row_builder:\\n+        with mock.patch.object(special_endpoints, \\\"MessageActionRowBuilder\\\") as action_row_builder:\\n             assert rest_client.build_action_row() is action_row_builder.return_value\\n \\n         action_row_builder.assert_called_once_with()\\n \\n+    def test_build_message_action_row(self, rest_client):\\n+        with mock.patch.object(special_endpoints, \\\"MessageActionRowBuilder\\\") as action_row_builder:\\n+            assert rest_client.build_message_action_row() is action_row_builder.return_value\\n+\\n+        action_row_builder.assert_called_once_with()\\n+\\n+    def test_build_modal_action_row(self, rest_client):\\n+        with mock.patch.object(special_endpoints, \\\"ModalActionRowBuilder\\\") as action_row_builder:\\n+            assert rest_client.build_modal_action_row() is action_row_builder.return_value\\n+\\n+        action_row_builder.assert_called_once_with()\\n+\\n     def test__build_message_payload_with_undefined_args(self, rest_client):\\n         with mock.patch.object(\\n             mentions, \\\"generate_allowed_mentions\\\", return_value={\\\"allowed_mentions\\\": 1}\\n@@ -1634,6 +1646,21 @@ def test_interaction_message_builder(self, rest_client):\\n         assert result.type == 4\\n         assert isinstance(result, special_endpoints.InteractionMessageBuilder)\\n \\n+    def test_interaction_modal_builder(self, rest_client):\\n+        result = rest_client.interaction_modal_builder(\\\"title\\\", \\\"custom\\\")\\n+        result.add_component(\\n+            special_endpoints.ModalActionRowBuilder().add_text_input(\\\"idd\\\", \\\"labell\\\").add_to_container()\\n+        )\\n+\\n+        assert result.type == 9\\n+        assert isinstance(result, special_endpoints.InteractionModalBuilder)\\n+\\n+    def test_interaction_modal_builder_with_components(self, rest_client):\\n+        result = rest_client.interaction_modal_builder(\\\"title\\\", \\\"custom\\\")\\n+\\n+        assert result.type == 9\\n+        assert isinstance(result, special_endpoints.InteractionModalBuilder)\\n+\\n     def test_fetch_scheduled_event_users(self, rest_client: rest.RESTClientImpl):\\n         with mock.patch.object(special_endpoints, \\\"ScheduledEventUserIterator\\\") as iterator_cls:\\n             iterator = rest_client.fetch_scheduled_event_users(\\n@@ -5879,11 +5906,11 @@ async def test_delete_interaction_response(self, rest_client):\\n         rest_client._request.assert_awaited_once_with(expected_route, no_auth=True)\\n \\n     async def test_create_autocomplete_response(self, rest_client):\\n-        expected_route = routes.POST_INTERACTION_RESPONSE.compile(interaction=1235431, token=\\\"dissssnake\\\")\\n+        expected_route = routes.POST_INTERACTION_RESPONSE.compile(interaction=1235431, token=\\\"snek\\\")\\n         rest_client._request = mock.AsyncMock()\\n \\n         choices = [commands.CommandChoice(name=\\\"a\\\", value=\\\"b\\\"), commands.CommandChoice(name=\\\"foo\\\", value=\\\"bar\\\")]\\n-        await rest_client.create_autocomplete_response(StubModel(1235431), \\\"dissssnake\\\", choices)\\n+        await rest_client.create_autocomplete_response(StubModel(1235431), \\\"snek\\\", choices)\\n \\n         rest_client._request.assert_awaited_once_with(\\n             expected_route,\\n@@ -5891,6 +5918,48 @@ async def test_create_autocomplete_response(self, rest_client):\\n             no_auth=True,\\n         )\\n \\n+    async def test_create_modal_response(self, rest_client):\\n+        expected_route = routes.POST_INTERACTION_RESPONSE.compile(interaction=1235431, token=\\\"snek\\\")\\n+        rest_client._request = mock.AsyncMock()\\n+        component = mock.Mock()\\n+\\n+        await rest_client.create_modal_response(\\n+            StubModel(1235431), \\\"snek\\\", title=\\\"title\\\", custom_id=\\\"idd\\\", component=component\\n+        )\\n+\\n+        rest_client._request.assert_awaited_once_with(\\n+            expected_route,\\n+            json={\\n+                \\\"type\\\": 9,\\n+                \\\"data\\\": {\\\"title\\\": \\\"title\\\", \\\"custom_id\\\": \\\"idd\\\", \\\"components\\\": [component.build.return_value]},\\n+            },\\n+            no_auth=True,\\n+        )\\n+\\n+    async def test_create_modal_response_with_plural_args(self, rest_client):\\n+        expected_route = routes.POST_INTERACTION_RESPONSE.compile(interaction=1235431, token=\\\"snek\\\")\\n+        rest_client._request = mock.AsyncMock()\\n+        component = mock.Mock()\\n+\\n+        await rest_client.create_modal_response(\\n+            StubModel(1235431), \\\"snek\\\", title=\\\"title\\\", custom_id=\\\"idd\\\", components=[component]\\n+        )\\n+\\n+        rest_client._request.assert_awaited_once_with(\\n+            expected_route,\\n+            json={\\n+                \\\"type\\\": 9,\\n+                \\\"data\\\": {\\\"title\\\": \\\"title\\\", \\\"custom_id\\\": \\\"idd\\\", \\\"components\\\": [component.build.return_value]},\\n+            },\\n+            no_auth=True,\\n+        )\\n+\\n+    async def test_create_modal_response_when_both_component_and_components_passed(self, rest_client):\\n+        with pytest.raises(ValueError, match=\\\"Must specify exactly only one of 'component' or 'components'\\\"):\\n+            await rest_client.create_modal_response(\\n+                StubModel(1235431), \\\"snek\\\", title=\\\"title\\\", custom_id=\\\"idd\\\", component=\\\"not none\\\", components=[]\\n+            )\\n+\\n     async def test_fetch_scheduled_event(self, rest_client: rest.RESTClientImpl):\\n         expected_route = routes.GET_GUILD_SCHEDULED_EVENT.compile(guild=453123, scheduled_event=222332323)\\n         rest_client._request = mock.AsyncMock(return_value={\\\"id\\\": \\\"4949494949\\\"})\\n\",\"diff --git a/tests/hikari/impl/test_special_endpoints.py b/tests/hikari/impl/test_special_endpoints.py\\nindex cf010e93be..6454c121a4 100644\\n--- a/tests/hikari/impl/test_special_endpoints.py\\n+++ b/tests/hikari/impl/test_special_endpoints.py\\n@@ -24,6 +24,7 @@\\n import pytest\\n \\n from hikari import commands\\n+from hikari import components\\n from hikari import emojis\\n from hikari import files\\n from hikari import locales\\n@@ -912,6 +913,40 @@ def test_build_handles_cleared_attachments(self):\\n         assert attachments == []\\n \\n \\n+class TestInteractionModalBuilder:\\n+    def test_type_property(self):\\n+        builder = special_endpoints.InteractionModalBuilder(\\\"title\\\", \\\"custom_id\\\")\\n+        assert builder.type == 9\\n+\\n+    def test_title_property(self):\\n+        builder = special_endpoints.InteractionModalBuilder(\\\"title\\\", \\\"custom_id\\\").set_title(\\\"title2\\\")\\n+        assert builder.title == \\\"title2\\\"\\n+\\n+    def test_custom_id_property(self):\\n+        builder = special_endpoints.InteractionModalBuilder(\\\"title\\\", \\\"custom_id\\\").set_custom_id(\\\"better_custom_id\\\")\\n+        assert builder.custom_id == \\\"better_custom_id\\\"\\n+\\n+    def test_components_property(self):\\n+        component = mock.Mock()\\n+        builder = special_endpoints.InteractionModalBuilder(\\\"title\\\", \\\"custom_id\\\").add_component(component)\\n+        assert builder.components == [component]\\n+\\n+    def test_build(self):\\n+        component = mock.Mock()\\n+        builder = special_endpoints.InteractionModalBuilder(\\\"title\\\", \\\"custom_id\\\").add_component(component)\\n+\\n+        result, attachments = builder.build(mock.Mock())\\n+        assert result == {\\n+            \\\"type\\\": 9,\\n+            \\\"data\\\": {\\n+                \\\"title\\\": \\\"title\\\",\\n+                \\\"custom_id\\\": \\\"custom_id\\\",\\n+                \\\"components\\\": [component.build.return_value],\\n+            },\\n+        }\\n+        assert attachments == ()\\n+\\n+\\n class TestSlashCommandBuilder:\\n     def test_description_property(self):\\n         builder = special_endpoints.SlashCommandBuilder(\\\"ok\\\", \\\"NO\\\")\\n@@ -1166,7 +1201,7 @@ class Test_ButtonBuilder:\\n     def button(self):\\n         return special_endpoints._ButtonBuilder(\\n             container=mock.Mock(),\\n-            style=messages.ButtonStyle.DANGER,\\n+            style=components.ButtonStyle.DANGER,\\n             custom_id=\\\"sfdasdasd\\\",\\n             url=\\\"hi there\\\",\\n             emoji=543123,\\n@@ -1177,7 +1212,7 @@ def button(self):\\n         )\\n \\n     def test_style_property(self, button):\\n-        assert button.style is messages.ButtonStyle.DANGER\\n+        assert button.style is components.ButtonStyle.DANGER\\n \\n     def test_emoji_property(self, button):\\n         assert button.emoji == 543123\\n@@ -1219,7 +1254,7 @@ def test_set_is_disabled(self, button):\\n     def test_build(self):\\n         result = special_endpoints._ButtonBuilder(\\n             container=object(),\\n-            style=messages.ButtonStyle.DANGER,\\n+            style=components.ButtonStyle.DANGER,\\n             url=undefined.UNDEFINED,\\n             emoji_id=undefined.UNDEFINED,\\n             emoji_name=\\\"emoji_name\\\",\\n@@ -1229,8 +1264,8 @@ def test_build(self):\\n         ).build()\\n \\n         assert result == {\\n-            \\\"type\\\": messages.ComponentType.BUTTON,\\n-            \\\"style\\\": messages.ButtonStyle.DANGER,\\n+            \\\"type\\\": components.ComponentType.BUTTON,\\n+            \\\"style\\\": components.ButtonStyle.DANGER,\\n             \\\"emoji\\\": {\\\"name\\\": \\\"emoji_name\\\"},\\n             \\\"label\\\": \\\"no u\\\",\\n             \\\"custom_id\\\": \\\"ooga booga\\\",\\n@@ -1240,7 +1275,7 @@ def test_build(self):\\n     def test_build_without_optional_fields(self):\\n         result = special_endpoints._ButtonBuilder(\\n             container=object(),\\n-            style=messages.ButtonStyle.LINK,\\n+            style=components.ButtonStyle.LINK,\\n             url=\\\"OK\\\",\\n             emoji_id=\\\"123321\\\",\\n             emoji_name=undefined.UNDEFINED,\\n@@ -1250,8 +1285,8 @@ def test_build_without_optional_fields(self):\\n         ).build()\\n \\n         assert result == {\\n-            \\\"type\\\": messages.ComponentType.BUTTON,\\n-            \\\"style\\\": messages.ButtonStyle.LINK,\\n+            \\\"type\\\": components.ComponentType.BUTTON,\\n+            \\\"style\\\": components.ButtonStyle.LINK,\\n             \\\"emoji\\\": {\\\"id\\\": \\\"123321\\\"},\\n             \\\"disabled\\\": False,\\n             \\\"url\\\": \\\"OK\\\",\\n@@ -1261,7 +1296,7 @@ def test_add_to_container(self):\\n         mock_container = mock.Mock()\\n         button = special_endpoints._ButtonBuilder(\\n             container=mock_container,\\n-            style=messages.ButtonStyle.DANGER,\\n+            style=components.ButtonStyle.DANGER,\\n             url=undefined.UNDEFINED,\\n             emoji_id=undefined.UNDEFINED,\\n             emoji_name=\\\"emoji_name\\\",\\n@@ -1279,7 +1314,7 @@ class TestLinkButtonBuilder:\\n     def test_url_property(self):\\n         button = special_endpoints.LinkButtonBuilder(\\n             container=object(),\\n-            style=messages.ButtonStyle.DANGER,\\n+            style=components.ButtonStyle.DANGER,\\n             url=\\\"hihihihi\\\",\\n             emoji_id=undefined.UNDEFINED,\\n             emoji_name=\\\"emoji_name\\\",\\n@@ -1295,7 +1330,7 @@ class TestInteractiveButtonBuilder:\\n     def test_custom_id_property(self):\\n         button = special_endpoints.InteractiveButtonBuilder(\\n             container=object(),\\n-            style=messages.ButtonStyle.DANGER,\\n+            style=components.ButtonStyle.DANGER,\\n             url=\\\"hihihihi\\\",\\n             emoji_id=undefined.UNDEFINED,\\n             emoji_name=\\\"emoji_name\\\",\\n@@ -1442,7 +1477,7 @@ def test_build(self):\\n         result = special_endpoints.SelectMenuBuilder(container=object(), custom_id=\\\"o2o2o2\\\").build()\\n \\n         assert result == {\\n-            \\\"type\\\": messages.ComponentType.SELECT_MENU,\\n+            \\\"type\\\": components.ComponentType.SELECT_MENU,\\n             \\\"custom_id\\\": \\\"o2o2o2\\\",\\n             \\\"options\\\": [],\\n             \\\"disabled\\\": False,\\n@@ -1462,7 +1497,7 @@ def test_build_partial(self):\\n         )\\n \\n         assert result == {\\n-            \\\"type\\\": messages.ComponentType.SELECT_MENU,\\n+            \\\"type\\\": components.ComponentType.SELECT_MENU,\\n             \\\"custom_id\\\": \\\"o2o2o2\\\",\\n             \\\"options\\\": [{\\\"hi\\\": \\\"OK\\\"}],\\n             \\\"placeholder\\\": \\\"hi\\\",\\n@@ -1472,30 +1507,117 @@ def test_build_partial(self):\\n         }\\n \\n \\n-class TestActionRowBuilder:\\n+class TestTextInput:\\n+    @pytest.fixture()\\n+    def text_input(self):\\n+        return special_endpoints.TextInputBuilder(\\n+            container=mock.Mock(),\\n+            custom_id=\\\"o2o2o2\\\",\\n+            label=\\\"label\\\",\\n+        )\\n+\\n+    def test_set_style(self, text_input):\\n+        assert text_input.set_style(components.TextInputStyle.PARAGRAPH) is text_input\\n+        assert text_input.style == components.TextInputStyle.PARAGRAPH\\n+\\n+    def test_set_custom_id(self, text_input):\\n+        assert text_input.set_custom_id(\\\"custooom\\\") is text_input\\n+        assert text_input.custom_id == \\\"custooom\\\"\\n+\\n+    def test_set_label(self, text_input):\\n+        assert text_input.set_label(\\\"labeeeel\\\") is text_input\\n+        assert text_input.label == \\\"labeeeel\\\"\\n+\\n+    def test_set_placeholder(self, text_input):\\n+        assert text_input.set_placeholder(\\\"place\\\") is text_input\\n+        assert text_input.placeholder == \\\"place\\\"\\n+\\n+    def test_set_required(self, text_input):\\n+        assert text_input.set_required(True) is text_input\\n+        assert text_input.required is True\\n+\\n+    def test_set_value(self, text_input):\\n+        assert text_input.set_value(\\\"valueeeee\\\") is text_input\\n+        assert text_input.value == \\\"valueeeee\\\"\\n+\\n+    def test_set_min_length_(self, text_input):\\n+        assert text_input.set_min_length(10) is text_input\\n+        assert text_input.min_length == 10\\n+\\n+    def test_set_max_length(self, text_input):\\n+        assert text_input.set_max_length(250) is text_input\\n+        assert text_input.max_length == 250\\n+\\n+    def test_add_to_container(self, text_input):\\n+        assert text_input.add_to_container() is text_input._container\\n+        text_input._container.add_component.assert_called_once_with(text_input)\\n+\\n+    def test_build(self):\\n+        result = special_endpoints.TextInputBuilder(\\n+            container=object(),\\n+            custom_id=\\\"o2o2o2\\\",\\n+            label=\\\"label\\\",\\n+        ).build()\\n+\\n+        assert result == {\\n+            \\\"type\\\": components.ComponentType.TEXT_INPUT,\\n+            \\\"style\\\": 1,\\n+            \\\"custom_id\\\": \\\"o2o2o2\\\",\\n+            \\\"label\\\": \\\"label\\\",\\n+        }\\n+\\n+    def test_build_partial(self):\\n+        result = (\\n+            special_endpoints.TextInputBuilder(\\n+                container=object(),\\n+                custom_id=\\\"o2o2o2\\\",\\n+                label=\\\"label\\\",\\n+            )\\n+            .set_placeholder(\\\"placeholder\\\")\\n+            .set_value(\\\"value\\\")\\n+            .set_required(False)\\n+            .set_min_length(10)\\n+            .set_max_length(250)\\n+            .build()\\n+        )\\n+\\n+        assert result == {\\n+            \\\"type\\\": components.ComponentType.TEXT_INPUT,\\n+            \\\"style\\\": 1,\\n+            \\\"custom_id\\\": \\\"o2o2o2\\\",\\n+            \\\"label\\\": \\\"label\\\",\\n+            \\\"placeholder\\\": \\\"placeholder\\\",\\n+            \\\"value\\\": \\\"value\\\",\\n+            \\\"required\\\": False,\\n+            \\\"min_length\\\": 10,\\n+            \\\"max_length\\\": 250,\\n+        }\\n+\\n+\\n+class TestMessageActionRowBuilder:\\n     def test_components_property(self):\\n         mock_component = object()\\n-        row = special_endpoints.ActionRowBuilder().add_component(mock_component)\\n+        row = special_endpoints.MessageActionRowBuilder().add_component(mock_component)\\n         assert row.components == [mock_component]\\n \\n     def test_add_button_for_interactive(self):\\n-        row = special_endpoints.ActionRowBuilder()\\n-        button = row.add_button(messages.ButtonStyle.DANGER, \\\"go home\\\")\\n+        row = special_endpoints.MessageActionRowBuilder()\\n+        button = row.add_button(components.ButtonStyle.DANGER, \\\"go home\\\")\\n \\n         button.add_to_container()\\n \\n         assert row.components == [button]\\n \\n     def test_add_button_for_link(self):\\n-        row = special_endpoints.ActionRowBuilder()\\n-        button = row.add_button(messages.ButtonStyle.LINK, \\\"go home\\\")\\n+        row = special_endpoints.MessageActionRowBuilder()\\n+        button = row.add_button(components.ButtonStyle.LINK, \\\"go home\\\")\\n \\n         button.add_to_container()\\n \\n         assert row.components == [button]\\n \\n     def test_add_select_menu(self):\\n-        row = special_endpoints.ActionRowBuilder()\\n+        row = special_endpoints.MessageActionRowBuilder()\\n         menu = row.add_select_menu(\\\"hihihi\\\")\\n \\n         menu.add_to_container()\\n@@ -1506,14 +1628,24 @@ def test_build(self):\\n         mock_component_1 = mock.Mock()\\n         mock_component_2 = mock.Mock()\\n \\n-        row = special_endpoints.ActionRowBuilder()\\n+        row = special_endpoints.MessageActionRowBuilder()\\n         row._components = [mock_component_1, mock_component_2]\\n \\n         result = row.build()\\n \\n         assert result == {\\n-            \\\"type\\\": messages.ComponentType.ACTION_ROW,\\n+            \\\"type\\\": components.ComponentType.ACTION_ROW,\\n             \\\"components\\\": [mock_component_1.build.return_value, mock_component_2.build.return_value],\\n         }\\n         mock_component_1.build.assert_called_once_with()\\n         mock_component_2.build.assert_called_once_with()\\n+\\n+\\n+class TestModalActionRow:\\n+    def test_add_text_input(self):\\n+        row = special_endpoints.ModalActionRowBuilder()\\n+        menu = row.add_text_input(\\\"hihihi\\\", \\\"label\\\")\\n+\\n+        menu.add_to_container()\\n+\\n+        assert row.components == [menu]\\n\",\"diff --git a/tests/hikari/interactions/test_base_interactions.py b/tests/hikari/interactions/test_base_interactions.py\\nindex d1697404c1..6aa2e712d6 100644\\n--- a/tests/hikari/interactions/test_base_interactions.py\\n+++ b/tests/hikari/interactions/test_base_interactions.py\\n@@ -196,3 +196,36 @@ async def test_delete_initial_response(self, mock_message_response_mixin, mock_a\\n         await mock_message_response_mixin.delete_initial_response()\\n \\n         mock_app.rest.delete_interaction_response.assert_awaited_once_with(651231, \\\"399393939doodsodso\\\")\\n+\\n+\\n+class TestModalResponseMixin:\\n+    @pytest.fixture()\\n+    def mock_modal_response_mixin(self, mock_app):\\n+        return base_interactions.ModalResponseMixin(\\n+            app=mock_app,\\n+            id=34123,\\n+            application_id=651231,\\n+            type=base_interactions.InteractionType.APPLICATION_COMMAND,\\n+            token=\\\"399393939doodsodso\\\",\\n+            version=3122312,\\n+        )\\n+\\n+    @pytest.mark.asyncio()\\n+    async def test_create_modal_response(self, mock_modal_response_mixin, mock_app):\\n+        await mock_modal_response_mixin.create_modal_response(\\\"title\\\", \\\"custom_id\\\", None, [])\\n+\\n+        mock_app.rest.create_modal_response.assert_awaited_once_with(\\n+            34123,\\n+            \\\"399393939doodsodso\\\",\\n+            title=\\\"title\\\",\\n+            custom_id=\\\"custom_id\\\",\\n+            component=None,\\n+            components=[],\\n+        )\\n+\\n+    def test_build_response(self, mock_modal_response_mixin, mock_app):\\n+        mock_app.rest.interaction_modal_builder = mock.Mock()\\n+        builder = mock_modal_response_mixin.build_modal_response(\\\"title\\\", \\\"custom_id\\\")\\n+\\n+        assert builder is mock_app.rest.interaction_modal_builder.return_value\\n+        mock_app.rest.interaction_modal_builder.assert_called_once_with(title=\\\"title\\\", custom_id=\\\"custom_id\\\")\\n\",\"diff --git a/tests/hikari/interactions/test_component_interactions.py b/tests/hikari/interactions/test_component_interactions.py\\nindex 160e082121..b4427b92c8 100644\\n--- a/tests/hikari/interactions/test_component_interactions.py\\n+++ b/tests/hikari/interactions/test_component_interactions.py\\n@@ -27,7 +27,6 @@\\n from hikari import traits\\n from hikari.interactions import base_interactions\\n from hikari.interactions import component_interactions\\n-from tests.hikari import hikari_test_helpers\\n \\n \\n @pytest.fixture()\\n@@ -144,28 +143,3 @@ def test_get_guild_when_cacheless(self, mock_component_interaction, mock_app):\\n         assert mock_component_interaction.get_guild() is None\\n \\n         mock_app.cache.get_guild.assert_not_called()\\n-\\n-    @pytest.mark.asyncio()\\n-    async def test_fetch_parent_message(self):\\n-        stub_interaction = hikari_test_helpers.mock_class_namespace(\\n-            component_interactions.ComponentInteraction, fetch_message=mock.AsyncMock(), init_=False\\n-        )()\\n-        stub_interaction.message = mock.Mock(id=3421)\\n-\\n-        assert await stub_interaction.fetch_parent_message() is stub_interaction.fetch_message.return_value\\n-\\n-        stub_interaction.fetch_message.assert_awaited_once_with(3421)\\n-\\n-    def test_get_parent_message(self, mock_component_interaction, mock_app):\\n-        mock_component_interaction.message = mock.Mock(id=321655)\\n-\\n-        assert mock_component_interaction.get_parent_message() is mock_app.cache.get_message.return_value\\n-\\n-        mock_app.cache.get_message.assert_called_once_with(321655)\\n-\\n-    def test_get_parent_message_when_cacheless(self, mock_component_interaction, mock_app):\\n-        mock_component_interaction.app = mock.Mock(traits.RESTAware)\\n-\\n-        assert mock_component_interaction.get_parent_message() is None\\n-\\n-        mock_app.cache.get_message.assert_not_called()\\n\",\"diff --git a/tests/hikari/interactions/test_modal_interactions.py b/tests/hikari/interactions/test_modal_interactions.py\\nnew file mode 100644\\nindex 0000000000..a539792640\\n--- /dev/null\\n+++ b/tests/hikari/interactions/test_modal_interactions.py\\n@@ -0,0 +1,137 @@\\n+# -*- coding: utf-8 -*-\\n+# Copyright (c) 2020 Nekokatt\\n+# Copyright (c) 2021-present davfsa\\n+#\\n+# Permission is hereby granted, free of charge, to any person obtaining a copy\\n+# of this software and associated documentation files (the \\\"Software\\\"), to deal\\n+# in the Software without restriction, including without limitation the rights\\n+# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n+# copies of the Software, and to permit persons to whom the Software is\\n+# furnished to do so, subject to the following conditions:\\n+#\\n+# The above copyright notice and this permission notice shall be included in all\\n+# copies or substantial portions of the Software.\\n+#\\n+# THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n+# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n+# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n+# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\n+# SOFTWARE.\\n+import mock\\n+import pytest\\n+\\n+from hikari import channels\\n+from hikari import components\\n+from hikari import snowflakes\\n+from hikari import traits\\n+from hikari.impl import special_endpoints\\n+from hikari.interactions import base_interactions\\n+from hikari.interactions import modal_interactions\\n+\\n+\\n+@pytest.fixture()\\n+def mock_app():\\n+    return mock.Mock(rest=mock.AsyncMock())\\n+\\n+\\n+class TestModalInteraction:\\n+    @pytest.fixture()\\n+    def mock_modal_interaction(self, mock_app):\\n+        return modal_interactions.ModalInteraction(\\n+            app=mock_app,\\n+            id=snowflakes.Snowflake(2312312),\\n+            type=base_interactions.InteractionType.APPLICATION_COMMAND,\\n+            channel_id=snowflakes.Snowflake(3123123),\\n+            guild_id=snowflakes.Snowflake(5412231),\\n+            member=object(),\\n+            user=object(),\\n+            token=\\\"httptptptptptptptp\\\",\\n+            version=1,\\n+            application_id=snowflakes.Snowflake(43123),\\n+            custom_id=\\\"OKOKOK\\\",\\n+            message=object(),\\n+            locale=\\\"es-ES\\\",\\n+            guild_locale=\\\"en-US\\\",\\n+            app_permissions=543123,\\n+            components=special_endpoints.ModalActionRowBuilder(\\n+                components=[\\n+                    components.TextInputComponent(\\n+                        type=components.ComponentType.TEXT_INPUT, custom_id=\\\"le id\\\", value=\\\"le value\\\"\\n+                    )\\n+                ],\\n+            ),\\n+        )\\n+\\n+    def test_build_response(self, mock_modal_interaction, mock_app):\\n+        mock_app.rest.interaction_message_builder = mock.Mock()\\n+        response = mock_modal_interaction.build_response()\\n+\\n+        assert response is mock_app.rest.interaction_message_builder.return_value\\n+        mock_app.rest.interaction_message_builder.assert_called_once()\\n+\\n+    def test_build_deferred_response(self, mock_modal_interaction, mock_app):\\n+        mock_app.rest.interaction_deferred_builder = mock.Mock()\\n+        response = mock_modal_interaction.build_deferred_response()\\n+\\n+        assert response is mock_app.rest.interaction_deferred_builder.return_value\\n+        mock_app.rest.interaction_deferred_builder.assert_called_once()\\n+\\n+    @pytest.mark.asyncio()\\n+    async def test_fetch_channel(self, mock_modal_interaction, mock_app):\\n+        mock_app.rest.fetch_channel.return_value = mock.Mock(channels.TextableChannel)\\n+\\n+        assert await mock_modal_interaction.fetch_channel() is mock_app.rest.fetch_channel.return_value\\n+\\n+        mock_app.rest.fetch_channel.assert_awaited_once_with(3123123)\\n+\\n+    def test_get_channel(self, mock_modal_interaction, mock_app):\\n+        mock_app.cache.get_guild_channel.return_value = mock.Mock(channels.GuildTextChannel)\\n+\\n+        assert mock_modal_interaction.get_channel() is mock_app.cache.get_guild_channel.return_value\\n+\\n+        mock_app.cache.get_guild_channel.assert_called_once_with(3123123)\\n+\\n+    def test_get_channel_without_cache(self, mock_modal_interaction):\\n+        mock_modal_interaction.app = mock.Mock(traits.RESTAware)\\n+\\n+        assert mock_modal_interaction.get_channel() is None\\n+\\n+    @pytest.mark.asyncio()\\n+    async def test_fetch_guild(self, mock_modal_interaction, mock_app):\\n+        mock_modal_interaction.guild_id = 43123123\\n+\\n+        assert await mock_modal_interaction.fetch_guild() is mock_app.rest.fetch_guild.return_value\\n+\\n+        mock_app.rest.fetch_guild.assert_awaited_once_with(43123123)\\n+\\n+    @pytest.mark.asyncio()\\n+    async def test_fetch_guild_for_dm_interaction(self, mock_modal_interaction, mock_app):\\n+        mock_modal_interaction.guild_id = None\\n+\\n+        assert await mock_modal_interaction.fetch_guild() is None\\n+\\n+        mock_app.rest.fetch_guild.assert_not_called()\\n+\\n+    def test_get_guild(self, mock_modal_interaction, mock_app):\\n+        mock_modal_interaction.guild_id = 874356\\n+\\n+        assert mock_modal_interaction.get_guild() is mock_app.cache.get_guild.return_value\\n+\\n+        mock_app.cache.get_guild.assert_called_once_with(874356)\\n+\\n+    def test_get_guild_for_dm_interaction(self, mock_modal_interaction, mock_app):\\n+        mock_modal_interaction.guild_id = None\\n+\\n+        assert mock_modal_interaction.get_guild() is None\\n+\\n+        mock_app.cache.get_guild.assert_not_called()\\n+\\n+    def test_get_guild_when_cacheless(self, mock_modal_interaction, mock_app):\\n+        mock_modal_interaction.guild_id = 321123\\n+        mock_modal_interaction.app = mock.Mock(traits.RESTAware)\\n+\\n+        assert mock_modal_interaction.get_guild() is None\\n+\\n+        mock_app.cache.get_guild.assert_not_called()\\n\",\"diff --git a/tests/hikari/test_components.py b/tests/hikari/test_components.py\\nnew file mode 100644\\nindex 0000000000..4e734a0253\\n--- /dev/null\\n+++ b/tests/hikari/test_components.py\\n@@ -0,0 +1,49 @@\\n+# -*- coding: utf-8 -*-\\n+# Copyright (c) 2020 Nekokatt\\n+# Copyright (c) 2021-present davfsa\\n+#\\n+# Permission is hereby granted, free of charge, to any person obtaining a copy\\n+# of this software and associated documentation files (the \\\"Software\\\"), to deal\\n+# in the Software without restriction, including without limitation the rights\\n+# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n+# copies of the Software, and to permit persons to whom the Software is\\n+# furnished to do so, subject to the following conditions:\\n+#\\n+# The above copyright notice and this permission notice shall be included in all\\n+# copies or substantial portions of the Software.\\n+#\\n+# THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n+# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n+# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n+# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\n+# SOFTWARE.\\n+from hikari import components\\n+\\n+\\n+class TestActionRowComponent:\\n+    def test_getitem_operator_with_index(self):\\n+        mock_component = object()\\n+        row = components.ActionRowComponent(type=1, components=[object(), mock_component, object()])\\n+\\n+        assert row[1] is mock_component\\n+\\n+    def test_getitem_operator_with_slice(self):\\n+        mock_component_1 = object()\\n+        mock_component_2 = object()\\n+        row = components.ActionRowComponent(type=1, components=[object(), mock_component_1, object(), mock_component_2])\\n+\\n+        assert row[1:4:2] == [mock_component_1, mock_component_2]\\n+\\n+    def test_iter_operator(self):\\n+        mock_component_1 = object()\\n+        mock_component_2 = object()\\n+        row = components.ActionRowComponent(type=1, components=[mock_component_1, mock_component_2])\\n+\\n+        assert list(row) == [mock_component_1, mock_component_2]\\n+\\n+    def test_len_operator(self):\\n+        row = components.ActionRowComponent(type=1, components=[object(), object()])\\n+\\n+        assert len(row) == 2\\n\",\"diff --git a/tests/hikari/test_messages.py b/tests/hikari/test_messages.py\\nindex 1aa1a1c3f2..db45b30d88 100644\\n--- a/tests/hikari/test_messages.py\\n+++ b/tests/hikari/test_messages.py\\n@@ -87,33 +87,6 @@ def test_make_cover_image_url_when_hash_is_not_none(self, message_application):\\n         )\\n \\n \\n-class TestActionRowComponent:\\n-    def test_getitem_operator_with_index(self):\\n-        mock_component = object()\\n-        row = messages.ActionRowComponent(type=1, components=[object(), mock_component, object()])\\n-\\n-        assert row[1] is mock_component\\n-\\n-    def test_getitem_operator_with_slice(self):\\n-        mock_component_1 = object()\\n-        mock_component_2 = object()\\n-        row = messages.ActionRowComponent(type=1, components=[object(), mock_component_1, object(), mock_component_2])\\n-\\n-        assert row[1:4:2] == [mock_component_1, mock_component_2]\\n-\\n-    def test_iter_operator(self):\\n-        mock_component_1 = object()\\n-        mock_component_2 = object()\\n-        row = messages.ActionRowComponent(type=1, components=[mock_component_1, mock_component_2])\\n-\\n-        assert list(row) == [mock_component_1, mock_component_2]\\n-\\n-    def test_len_operator(self):\\n-        row = messages.ActionRowComponent(type=1, components=[object(), object()])\\n-\\n-        assert len(row) == 2\\n-\\n-\\n @pytest.fixture()\\n def message():\\n     return messages.Message(\"]", "hints_text": ""}
