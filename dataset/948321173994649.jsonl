{"instance_id": "948321173994649", "repo": "fractal-analytics-platform/fractal-tasks-core", "base_commit": "8194960c696b413e0c4f3dc9cc18fe7f3f211de9", "problem_statement": "Mismatch between table specs and implementation, re: `instance_key` column:\\nWhat we wrote in the table specs is that for tables of type `masking_roi_table` and `feature_table` the following condition is needed\\r\\n\\r\\n>  table must include the column which is defined in its `instance_key` attribute (e.g. the `label` column\\r\\n\\r\\nThis is a very natural way of storing the information that links to another table, but it does not correspond to the current fractal-tasks-core implementation, where the list of labels is stored within the `obs` attribute of the AnnData object - see for instance these snippet where we write/read the table:\\r\\n```python\\r\\n# Write table (and labels)\\r\\n            # Extract labels and drop them from df_well\\r\\n            labels = pd.DataFrame(df_well[\"label\"].astype(str))\\r\\n            df_well.drop(labels=[\"label\"], axis=1, inplace=True)\\r\\n            # Convert all to float (warning: some would be int, in principle)\\r\\n            measurement_dtype = np.float32\\r\\n            df_well = df_well.astype(measurement_dtype)\\r\\n            df_well.index = df_well.index.map(str)\\r\\n            # Convert to anndata\\r\\n            measurement_table = ad.AnnData(df_well, dtype=measurement_dtype)\\r\\n            measurement_table.obs = labels\\r\\n\\r\\n# Read labels\\r\\n    column_name = attrs[\"instance_key\"]\\r\\n    # Check that ROI_table.obs has the right column and extract label_value\\r\\n    if column_name not in ROI_table.obs.columns:\\r\\n        raise ValueError(\\r\\n            'In _preprocess_input, \"{column_name}\" '\\r\\n            f\" missing in {ROI_table.obs.columns=}\"\\r\\n        )\\r\\n    label_value = int(ROI_table.obs[column_name][ROI_positional_index])\\r\\n```\\r\\n\\r\\nI'm not 100% sure of why we made this choice in the past, but my vague memory is that it was related to the fact that we wanted labels to be string and maybe it was hard to place them in the AnnData `X` attribute.\\r\\n\\r\\n\\r\\n---\\r\\n\\r\\nWhat should we do? (cc @jluethi)\\r\\n\\r\\nTwo options:\\r\\n\\r\\n1. Keep current implementation and update the specs, saying the labels (or whatever is defined as `instance_key`) go in the `obs` attribute. This is the one that takes least effort.\\r\\n2. Update the implementation and store labels as an additional column. This may or may not be possible, if we want to guarantee that labels are string - TBD. The most annoying part would obviously be that we must be backwards compatible, and also accept labels which are stored in the `obs` attribute.\\nReview module/function structure for table-related helper functions:\\nAs part of #613, we are actually moving towards complying with the table specs. This may come with a refactor of the core-library functions related to tables. Such refactor is not just a clean-up, but it is needed in view of a future coexistence of tools reading/writing V1 and V2 tables.\\r\\n\\r\\nThe general principle is that all functions which rely on V1 should be marked as such (e.g. in the module or function name), and we can offer general-use functions that do not make any assumption and then defer actual operations to versioned ones. An example is given below, for `write_table`.\\r\\n\\r\\n# `write_table` function\\r\\n\\r\\nThe first steps (already part of #613) concern the `write_table` function, which the closest to a nicely-scoped helper function:\\r\\n1. I moved it from `lib_write.py` to `lib_tables.py`, since `lib_write.py` is currently the place for some low-level zarr/anndata operations, mostly extending the original functions with overwrite-related options.\\r\\n2. I transformed `write_table` into a wrapper, which checks the table-specs version and defers the actual operation to `_write_table_v1` (the only currently-supported one). In the future, this may conditionally call `_write_table_v1` or `_write_table_v2`, provided they have a compatible I/O interface.\\r\\n3. I implemented a (soft) check of compliance with V1 specs, upon writing, as part of `_write_table_v1`. This is nicely contained in a function marked as `v1`, so that it won't affect future versions.\\r\\n\\r\\n# Other functions\\r\\n\\r\\nThe API for many other table-related functions is not so precisely defined as for `write_table`, and the goal of the current issue (and of #613) is not to provide such a set of definitions. Still, we should aim at defining at least the correct modules.\\r\\n\\r\\nAn example of a wrongly-placed function is `lib_regions_of_interest.load_region`, with call signature\\r\\n```python\\r\\ndef load_region(\\r\\n    data_zyx: da.Array,\\r\\n    region: tuple[slice, slice, slice],\\r\\n    compute: bool = True,\\r\\n    return_as_3D: bool = False,\\r\\n) -> Union[da.Array, np.ndarray]:\\r\\n    \"\"\"\\r\\n    Load a region from a dask array.\\r\\n\\r\\n    Can handle both 2D and 3D dask arrays as input and return them as is or\\r\\n    always as a 3D array.\\r\\n    ...\\r\\n    \"\"\"\\r\\n```\\r\\nThis function clearly has nothing to do with V1 or V2 or our table specs, and it would rather belong to a module like `lib_arrays.py` or something like that.\\r\\n\\r\\n# A closer look at `lib_regions_of_interest.py`\\r\\n\\r\\nThe `lib_regions_of_interest.py` module is a container of several different functions, and I think we could improve its structure. Here is a first classification of its functions:\\r\\n\\r\\nFunctions that fully rely on table-specs V1\\r\\n* Functions that create a ROI table (either as an ad.AnnData or pd.DataFrame object)\\r\\n  - prepare_FOV_ROI_table creates an AnnData ROI table\\r\\n  - prepare_well_ROI_table creates an AnnData ROI table\\r\\n  - get_single_image_ROI creates an AnnData ROI table\\r\\n  - get_image_grid_ROIs creates an AnnData ROI table\\r\\n  - empty_bounding_box_table creates a DataFrame\\r\\n  - array_to_bounding_box_table creates a DataFrame\\r\\n* Functions that check something of a ROI table\\r\\n  - is_ROI_table_valid actually checks if a table can be used for masked loading, and it is only used in cellpose task\\r\\n  - are_ROI_table_columns_valid checks that the required V1 columns of a roi or masked_roi table are present and it is used in apply_registration_to_ROI_tables\\r\\n  - check_valid_ROI_indices was introduced as part of v0.12 release, to provide meaningful errors when the zero-origin assumption does not hold\\r\\n* Functions that process a table, to produce a new table or a list of indices\\r\\n  - convert_ROIs_from_3D_to_2D\\r\\n  - convert_ROI_table_to_indices\\r\\n  - reset_origin\\r\\n\\r\\nFunctions that are not specific to V1:\\r\\n* load_region, which has to do with extracting a region from an array but has nothing to do with tables\\r\\n* is_standard_roi_table which is only used in apply_registration_to_image to determine which tables must be copied\\r\\n* convert_indices_to_regions, which simply encodes our mapping between the XYZ start/end indices and the three XYZ regions\\r\\n\\r\\nNote that the V1-related functions are not designed to have a version-agnostic I/O interface, and then I don't think it's useful to pursue the same route as for `write_table` - for the moment. But I would at least re-organize the modules, since the 15 functions defined in `lib_regions_of_interest.py` cover too broad a scope.\\r\\n\\r\\nSpecific proposals (which I'll implement in #613, while waiting for a broader discussion):\\r\\n1. Move the three non-V1-specific functions out from `lib_regions_of_interest.py` (`is_standard_roi_table` should go to `lib_tables.py`, while I think `load_region` and `convert_indices_to_regions` should be part of a new module)\\r\\n2. Keep the remaining 12 functions in `lib_regions_of_interest.py`, without adding a separation between table-creation and table-processing.\\r\\n3. Move `lib_regions_of_interest.py` to `lib_regions_of_interest/v1.py`, and re-export all functions to `lib_regions_of_interest/__init__.py`, so that the imports in the tasks remain the same. Note that I also think we should remove `lib_`, but this is a different issue.\\r\\n\\r\\n### Note about table-specs-versions coexistence\\r\\n\\r\\nThe reason for point 3 has to do with the migration to V2, which will eventually take place. For instance we can say that starting from version 1.1 we default to writing V2 tables from all tasks. We then add a new `lib_regions_of_interest/v2.py`, and we modify `lib_regions_of_interest/__init__.py` so that it exports the `v2.py` functions. The `v1.py` functions are still importable, but this will require e.g. `from lib_regions_of_interest.v1 import prepare_FOV_ROI_table`.\\r\\n\\r\\nThis does _not_ yet mean that tasks will work on both V1 and V2 tables, but it's the first step in this direction. The next step will be (as already done for `write_table`) to implement a conditional check that infers the version of a given table and proceed accordingly by calling the V1 or V2 functions.", "FAIL_TO_PASS": ["tests/tasks/test_valid_task_interface.py::test_task_interface[task0]", "tests/test_unit_write.py::test_prepare_label_group", "tests/test_unit_input_models.py::test_NapariWorkflowsOutput", "tests/tasks/test_valid_task_interface.py::test_task_interface[task7]"], "PASS_TO_PASS": ["tests/test_unit_ROIs.py::test_ROI_indices_2D[1-7-full_res_pxl_sizes_zyx20]", "tests/test_unit_ROIs.py::test_load_region_fail", "tests/test_unit_zattrs_utils.py::test_rescale_datasets", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape8-region8-expected_shape8]", "tests/test_unit_ngff.py::test_load_NgffWellMeta", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape1-region1-expected_shape1]", "tests/test_unit_upscale_array.py::test_upscale_array_inhomogeneous_warning", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape7-region7-expected_shape7]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-3-full_res_pxl_sizes_zyx27]", "tests/test_unit_parse_yokogawa_metadata.py::test_remove_overlap_when_sharing_corner", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape4-region4-expected_shape4]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-2-full_res_pxl_sizes_zyx12]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels1]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-3-full_res_pxl_sizes_zyx7]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task2]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-3-full_res_pxl_sizes_zyx4]", "tests/test_unit_parse_yokogawa_metadata.py::test_manually_removing_overlap", "tests/test_unit_ngff.py::test_ImageNgffMeta_missing_Z", "tests/test_unit_ROIs.py::test_indices_to_region_conversion[index0-expected_results0]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-7-full_res_pxl_sizes_zyx10]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels5]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape2-region2-expected_shape2]", "tests/test_unit_pyramid_creation.py::test_build_pyramid", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape3-region3-expected_shape3]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape5-region5-expected_shape5]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task9]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-7-full_res_pxl_sizes_zyx19]", "tests/test_unit_input_models.py::test_NapariWorkflowsInput", "tests/test_unit_ROIs.py::test_get_single_image_ROI", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-3-full_res_pxl_sizes_zyx16]", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape0-target_shape0-axis0]", "tests/tasks/test_unit_task.py::test_create_ome_zarr", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-2-full_res_pxl_sizes_zyx14]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape6-region6-expected_shape6]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-2-full_res_pxl_sizes_zyx11]", "tests/test_unit_read_fractal_metadata.py::test_get_parameters_from_metadata", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape6-region6-expected_shape6]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels8]", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[210305NAR005AAN_210416_164828_B11_T0001F006L01A04Z14C01.tif-210305NAR005AAN-04-01-14]", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape7-region7-expected_shape7]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-2-full_res_pxl_sizes_zyx13]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task10]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape5-region5-expected_shape5]", "tests/dev/test_unit_lib_descriptions.py::test_get_class_attrs_descriptions", "tests/test_unit_channels.py::test_update_omero_channels[old_channels4]", "tests/test_unit_ROIs.py::test_search_first_ROI", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape0-region0-expected_shape0]", "tests/tasks/test_valid_args_schemas.py::test_args_schema_comply_with_jsonschema_specs[Draft7Validator]", "tests/test_unit_ROIs.py::test_check_valid_ROI_indices", "tests/test_unit_channels.py::test_update_omero_channels[old_channels9]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-3-full_res_pxl_sizes_zyx5]", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape2-target_shape2-None]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-7-full_res_pxl_sizes_zyx19]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-3-full_res_pxl_sizes_zyx5]", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape4-target_shape4-axis4]", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape1-target_shape1-axis1]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels7]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-2-full_res_pxl_sizes_zyx2]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-2-full_res_pxl_sizes_zyx23]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-3-full_res_pxl_sizes_zyx26]", "tests/test_unit_ROIs.py::test_are_ROI_table_columns_valid", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-2-full_res_pxl_sizes_zyx3]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-2-full_res_pxl_sizes_zyx1]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-2-full_res_pxl_sizes_zyx14]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape8-region8-expected_shape8]", "tests/test_unit_parse_yokogawa_metadata.py::test_parse_yokogawa_metadata[/app/repo/tests/data/metadata_files/MeasurementData_SingleWell2Sites_SingleZ.mlf-/app/repo/tests/data/metadata_files/MeasurementDetail.mrf-2-expected_shape2-x_mic_pos2--1517.7-1.0-1-0.1625-0.1625-2560-2160-16-Time2]", "tests/test_unit_ROIs.py::test_array_to_bounding_box_table_empty", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-2-full_res_pxl_sizes_zyx11]", "tests/test_unit_ngff.py::test_ImageNgffMeta_inhomogeneous_coarsening", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape5-region5-expected_shape5]", "tests/test_unit_ROIs.py::test_indices_to_region_conversion[index1-expected_results1]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-7-full_res_pxl_sizes_zyx21]", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape5-target_shape5-axis5]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-7-full_res_pxl_sizes_zyx31]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-2-full_res_pxl_sizes_zyx0]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels6]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape0-region0-expected_shape0]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-2-full_res_pxl_sizes_zyx22]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-3-full_res_pxl_sizes_zyx7]", "tests/tasks/test_import.py::test_import", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-2-full_res_pxl_sizes_zyx13]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-3-full_res_pxl_sizes_zyx29]", "tests/test_unit_ROIs.py::test_get_image_grid_ROIs", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape3-target_shape3-axis3]", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape3-region3-expected_shape3]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape1-region1-expected_shape1]", "tests/test_unit_ROIs.py::test_array_to_bounding_box_table", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-2-full_res_pxl_sizes_zyx24]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-3-full_res_pxl_sizes_zyx27]", "tests/test_unit_channels.py::test_get_channel_from_list", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-7-full_res_pxl_sizes_zyx20]", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape6-region6-expected_shape6]", "tests/test_unit_masked_loading.py::test_masked_loading_wrapper_use_masks_false", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape1-target_shape1-axis1]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape2-region2-expected_shape2]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-2-full_res_pxl_sizes_zyx25]", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape3-target_shape3-None]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape3-region3-expected_shape3]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-7-full_res_pxl_sizes_zyx30]", "tests/test_unit_read_fractal_metadata.py::test_find_omengff_acquisition", "tests/test_dask_zarr.py::test_dask_core_get_mapper", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape0-region0-expected_shape0]", "tests/test_unit_upscale_array.py::test_incommensurable_upscaling", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-3-full_res_pxl_sizes_zyx17]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape7-region7-expected_shape7]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-3-full_res_pxl_sizes_zyx29]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-3-full_res_pxl_sizes_zyx6]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-7-full_res_pxl_sizes_zyx21]", "tests/test_unit_upscale_array.py::test_convert_region_to_low_res", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape2-region2-expected_shape2]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-3-full_res_pxl_sizes_zyx15]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-7-full_res_pxl_sizes_zyx32]", "tests/tasks/test_valid_args_schemas.py::test_manifest_has_args_schemas_is_true", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[20200812-CardiomyocyteDifferentiation14-Cycle1_B03_T0001F036L01A01Z18C01.png-20200812-CardiomyocyteDifferentiation14-Cycle1-01-01-18]", "tests/test_unit_ROIs.py::test_reset_origin", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape8-region8-expected_shape8]", "tests/test_unit_ngff.py::test_detect_ome_ngff_type", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-3-full_res_pxl_sizes_zyx16]", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape5-region5-expected_shape5]", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape5-target_shape5-axis5]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape4-region4-expected_shape4]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape3-region3-expected_shape3]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-2-full_res_pxl_sizes_zyx22]", "tests/tasks/test_valid_args_schemas.py::test_args_schema_comply_with_jsonschema_specs[Draft201909Validator]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape4-region4-expected_shape4]", "tests/test_unit_ROIs.py::test_empty_ROI_table", "tests/test_unit_ROIs.py::test_overlaps_in_indices", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[AssayPlate_Greiner_#655090_B02_T0001F004L01A01Z01C01.tif-AssayPlate_Greiner_#655090-01-01-01]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-3-full_res_pxl_sizes_zyx28]", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape4-target_shape4-axis4]", "tests/test_unit_ROIs.py::test_is_ROI_table_valid", "tests/test_unit_zattrs_utils.py::test_get_table_path_dict", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-7-full_res_pxl_sizes_zyx9]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape2-region2-expected_shape2]", "tests/test_unit_parse_yokogawa_metadata.py::test_parse_yokogawa_metadata[/app/repo/tests/data/metadata_files/MeasurementData_2x2_well.mlf-/app/repo/tests/data/metadata_files/MeasurementDetail_2x2_well.mrf-120-expected_shape1-x_mic_pos1-y_mic_pos1-1.0-10-0.1625-0.1625-2560-2160-16-Time1]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-2-full_res_pxl_sizes_zyx23]", "tests/test_dask_zarr.py::test_dask_array_to_zarr", "tests/test_unit_upscale_array.py::test_upscale_array_success[old_shape2-target_shape2-axis2]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[3-3-full_res_pxl_sizes_zyx18]", "tests/test_unit_ngff.py::test_NgffImageMeta", "tests/tasks/test_unit_task.py::test_run_fractal_tasks", "tests/test_unit_ngff.py::test_NgffWellMeta_get_acquisition_paths", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[AssayPlate_Greiner_#655090_B02_T0001F004L01A01Z000000001C01.tif-AssayPlate_Greiner_#655090-01-01-000000001]", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[220517CS001XXXIl_220715_151525_D05_T0001F001L01A01Z01C04.tif-220517CS001XXXIl-01-04-01]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task3]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape0-region0-expected_shape0]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-3-full_res_pxl_sizes_zyx4]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-7-full_res_pxl_sizes_zyx8]", "tests/test_unit_ROIs.py::test_load_region[True-True-input_shape4-region4-expected_shape4]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-3-full_res_pxl_sizes_zyx18]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-7-full_res_pxl_sizes_zyx10]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task11]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape8-region8-expected_shape8]", "tests/test_unit_ROIs.py::test_load_region[True-False-input_shape1-region1-expected_shape1]", "tests/tasks/test_valid_task_interface.py::test_task_interface[task1]", "tests/test_unit_channels.py::test_color_validator", "tests/test_unit_ROIs.py::test_is_standard_roi_table", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-2-full_res_pxl_sizes_zyx2]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-2-full_res_pxl_sizes_zyx24]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-2-full_res_pxl_sizes_zyx3]", "tests/tasks/test_valid_args_schemas.py::test_args_schema_comply_with_jsonschema_specs[Draft202012Validator]", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename_fail", "tests/test_unit_channels.py::test_update_omero_channels[old_channels0]", "tests/tasks/test_valid_args_schemas.py::test_validate_function_signature", "tests/test_unit_parse_yokogawa_metadata.py::test_parse_yokogawa_metadata_multiwell", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-7-full_res_pxl_sizes_zyx9]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-7-full_res_pxl_sizes_zyx8]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-3-full_res_pxl_sizes_zyx17]", "tests/test_unit_channels.py::test_update_omero_channels[old_channels2]", "tests/dev/test_unit_lib_descriptions.py::test_get_function_args_descriptions", "tests/test_unit_ngff.py::test_Dataset", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape6-region6-expected_shape6]", "tests/test_unit_channels.py::test_check_well_channel_labels", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-7-full_res_pxl_sizes_zyx32]", "tests/test_unit_ROIs.py::test_prepare_well_ROI_table", "tests/test_unit_ROIs.py::test_ROI_indices_2D[2-3-full_res_pxl_sizes_zyx28]", "tests/test_unit_parse_metadata_from_filename.py::test_parse_metadata_from_image_filename[220304_172545_220304_175557_L06_T0277F004L277A04Z07C04.tif-RS220304172545-04-04-07]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-3-full_res_pxl_sizes_zyx26]", "tests/test_unit_ROIs.py::test_load_region[False-True-input_shape1-region1-expected_shape1]", "tests/test_unit_ROIs.py::test_load_region[False-False-input_shape7-region7-expected_shape7]", "tests/test_unit_glob_function.py::test_unit_glob_with_multiple_patterns", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-2-full_res_pxl_sizes_zyx12]", "tests/test_unit_input_models.py::test_Channel", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-2-full_res_pxl_sizes_zyx0]", "tests/test_unit_parse_yokogawa_metadata.py::test_parse_yokogawa_metadata[/app/repo/tests/data/metadata_files/MeasurementData_SingleWell2Sites_MultiZ.mlf-/app/repo/tests/data/metadata_files/MeasurementDetail.mrf-4-expected_shape0-x_mic_pos0--1517.7-1.0-2-0.1625-0.1625-2560-2160-16-Time0]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[2-3-full_res_pxl_sizes_zyx6]", "tests/test_unit_upscale_array.py::test_upscale_array_fail[old_shape0-target_shape0-axis0]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[3-2-full_res_pxl_sizes_zyx25]", "tests/test_unit_ROIs.py::test_negative_indices", "tests/test_unit_channels.py::test_update_omero_channels[old_channels3]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[0-7-full_res_pxl_sizes_zyx30]", "tests/test_unit_ngff.py::test_Multiscale", "tests/test_unit_channels.py::test_check_unique_wavelength_ids", "tests/test_unit_ROIs.py::test_ROI_indices_2D[0-3-full_res_pxl_sizes_zyx15]", "tests/test_unit_ROIs.py::test_ROI_indices_3D[1-7-full_res_pxl_sizes_zyx31]", "tests/test_unit_ROIs.py::test_ROI_indices_2D[1-2-full_res_pxl_sizes_zyx1]"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && pytest --no-header -rA --tb=no -p no:cacheprovider --continue-on-collection-errors", "test_output_parser": "python/parse_log_pytest_v3", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_pytest/fractal-analytics-platform_fractal-tasks-core:8194960c696b413e0c4f3dc9cc18fe7f3f211de9", "patch": "", "test_patch": "", "hints_text": ""}
