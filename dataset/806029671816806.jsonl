{"instance_id": "806029671816806", "repo": "hexcorpprogramming/hexcorpdiscordai", "base_commit": "cc355bbf9e694593c94558ebaf759e147d1abc5c", "problem_statement": "Changing ID on a drone in storage:\\nChanging the ID on a drone that is currently in storage breaks things, because only the name in Discord and in the main drone database table are changed but not in the storage table.\\r\\nSo when the drone gets released after having its ID changed the information in the storage table overwrites the discord name and we get an inconsistent state between the database and discord.", "FAIL_TO_PASS": ["test_storage.StorageTest.test_store_drone_self.test_store_drone_self", "test_storage.StorageTest.test_store_drone_free_storage_trusted.test_store_drone_free_storage_trusted", "test_storage.StorageTest.test_store_drone_hive_mxtress.test_store_drone_hive_mxtress", "test_storage.StorageTest.test_storage_message_is_Hive_Mxtress.test_storage_message_is_Hive_Mxtress", "test_storage.StorageTest.test_storage_message_already_in_storage.test_storage_message_already_in_storage", "test_storage.StorageTest.test_store_drone_free_storage.test_store_drone_free_storage"], "PASS_TO_PASS": ["test_webhook.TestWebhook.test_message_proxied_with_reference.test_message_proxied_with_reference", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_plain_status.test_optimized_drone_plain_status", "test_battery.TestBattery.test_recharge_battery_no_overcharge.test_recharge_battery_no_overcharge", "test_speech_optimization.TestSpeechOptimization.test_informative_code.test_informative_code", "test_drone_configuration.DroneManagementTest.test_toggle_free_storage_disable.test_toggle_free_storage_disable", "test_drone_configuration.DroneManagementTest.test_rename_drone_already_used.test_rename_drone_already_used", "test_toggle_permissions.TestTogglePermissions.test_randoms_cannot_toggle.test_randoms_cannot_toggle", "test_assign.AssignmentTest.test_too_early.test_too_early", "test_display_names.TestDisplayNames.test_display_name_returns_true_and_edits_nick_of_optimized_drone_when_updates_required.test_display_name_returns_true_and_edits_nick_of_optimized_drone_when_updates_required", "test_speech_optimization.TestSpeechOptimization.test_informative_id_code.test_informative_id_code", "test_drone_os_status.DroneOSStatusTest.test_status_as_moderator.test_status_as_moderator", "test_toggle_permissions.TestTogglePermissions.test_self_cannot_toggle_if_otherwise_controlled.test_self_cannot_toggle_if_otherwise_controlled", "test_status.TestStatus.test_report_status.test_report_status", "test_add_voice.AddVoiceTest.test_already_granted.test_already_granted", "test_forbidden_word.ThoughtDenialTest.test_remove_long_think_from_message.test_remove_long_think_from_message", "test_status.TestStatus.test_read_version.test_read_version", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_unoptimized_drone.test_unoptimized_drone", "test_speech_optimization.TestSpeechOptimization.test_calls_get_status_type.test_calls_get_status_type", "test_speech_optimization.TestGetStatusType.test_returns_none_if_none.test_returns_none_if_none", "test_speech_optimization.TestGetStatusType.test_returns_informative_if_addr_regex_doesnt_match.test_returns_informative_if_addr_regex_doesnt_match", "test_battery.TestBattery.test_append_battery_indicator.test_append_battery_indicator", "test_drone_configuration.DroneManagementTest.test_remove_drone_from_db.test_remove_drone_from_db", "test_orders_reporting.OrdersReportingTest.test_report_order_time_too_long.test_report_order_time_too_long", "test_add_voice.AddVoiceTest.test_not_long_enough.test_not_long_enough", "test_speech_optimization.TestBuildStatusMessage.test_informative_address_message.test_informative_address_message", "test_status.TestStatus.test_get_list_of_commands.test_get_list_of_commands", "test_storage.StorageTest.test_store_drone_storage_not_allowed.test_store_drone_storage_not_allowed", "test_maintenance.MaintenanceTest.test_trusted_user_cleanup.test_trusted_user_cleanup", "test_react.ReactTest.test_reaction.test_reaction", "test_mantra.TestMantra.test_check_for_mantra_wrong_message.test_check_for_mantra_wrong_message", "test_speech_optimization.TestGetStatusType.test_returns_addr_by_id_info_if_addr_has_informative.test_returns_addr_by_id_info_if_addr_has_informative", "test_forbidden_word.ThoughtDenialTest.test_remove_short_think_from_message.test_remove_short_think_from_message", "test_battery.TestBattery.test_drone_not_warned_more_than_one.test_drone_not_warned_more_than_one", "test_drone_configuration.DroneManagementTest.test_unassign_drone_does_not_exist.test_unassign_drone_does_not_exist", "test_speech_optimization.TestSpeechOptimization.test_calls_build_status_message.test_calls_build_status_message", "test_speech_optimization.TestBuildStatusMessage.test_plain_address_message.test_plain_address_message", "test_battery.TestBattery.test_append_battery_indicator_with_prepending.test_append_battery_indicator_with_prepending", "test_drone_os_status.DroneOSStatusTest.test_status_on_self_dangling_trusted_user.test_status_on_self_dangling_trusted_user", "test_assign.AssignmentTest.test_id_already_used.test_id_already_used", "test_assign.AssignmentTest.test_assign_hive_mxtress.test_assign_hive_mxtress", "test_speech_optimization.TestSpeechOptimization.test_plain_code.test_plain_code", "test_speech_optimization.TestSpeechOptimization.test_dont_operate_on_non_drone_messages.test_dont_operate_on_non_drone_messages", "test_display_names.TestDisplayNames.test_display_name_returns_true_and_edits_nick_of_unoptimized_drone_when_updates_required.test_display_name_returns_true_and_edits_nick_of_unoptimized_drone_when_updates_required", "test_stoplights.StoplightsTest.test_return_false_if_no_stoplight_or_clock_in_message.test_return_false_if_no_stoplight_or_clock_in_message", "test_stoplights.StoplightsTest.test_return_true_if_stoplight_in_message.test_return_true_if_stoplight_in_message", "test_mantra.TestMantra.test_increase_battery_by_five_percent_full.test_increase_battery_by_five_percent_full", "test_mantra.TestMantra.test_increment_counter_skipped_first.test_increment_counter_skipped_first", "test_drone_configuration.DroneManagementTest.test_rename_drone.test_rename_drone", "test_emote.TestEmote.test_return_none_if_generated_text_too_long.test_return_none_if_generated_text_too_long", "test_react.ReactTest.test_delete_marked_message.test_delete_marked_message", "test_status.TestStatus.test_get_list_of_listeners.test_get_list_of_listeners", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_blacklisted_channels.test_optimized_drone_blacklisted_channels", "test_battery.TestBattery.test_manually_drain_battery.test_manually_drain_battery", "test_speech_optimization.TestBuildStatusMessage.test_plain_message.test_plain_message", "test_battery.TestBattery.test_restart_battery_drain.test_restart_battery_drain", "test_webhook.TestWebhook.test_message_proxied_if_message_avatar_url_altered.test_message_proxied_if_message_avatar_url_altered", "test_speech_optimization.TestSpeechOptimization.test_no_status_found.test_no_status_found", "test_emote.TestEmote.test_return_none_if_input_contains_no_convertible_material.test_return_none_if_input_contains_no_convertible_material", "test_mantra.TestMantra.test_check_for_mantra_wrong_channel.test_check_for_mantra_wrong_channel", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_informative_status.test_optimized_drone_informative_status", "test_drone_os_status.DroneOSStatusTest.test_status_no_drone.test_status_no_drone", "test_react.ReactTest.test_reaction_additional_status.test_reaction_additional_status", "test_transaction.TestTransaction.test_automatic_commit.test_automatic_commit", "test_forbidden_word.ThoughtDenialTest.test_remove_short_thought_from_message.test_remove_short_thought_from_message", "test_emote.TestEmote.test_generator_converts_input_to_lower_case.test_generator_converts_input_to_lower_case", "test_react.ReactTest.test_no_reaction.test_no_reaction", "test_webhook.TestWebhook.test_message_proxied_if_message_display_name_altered.test_message_proxied_if_message_display_name_altered", "test_drone_os_status.DroneOSStatusTest.test_status.test_status", "test_battery.TestBattery.test_recharge_battery.test_recharge_battery", "test_drone_configuration.DroneManagementTest.test_unassign_drone.test_unassign_drone", "test_bot_utils.TestBotUtils.test_command.test_command", "test_react.ReactTest.test_check_for_correct_emoji.test_check_for_correct_emoji", "test_transaction.TestTransaction.test_inner_rollback.test_inner_rollback", "test_webhook.TestWebhook.test_message_avatar_being_set.test_message_avatar_being_set", "test_emote.TestEmote.test_two_consecutive_colons_are_converted_to_a_single_emoji.test_two_consecutive_colons_are_converted_to_a_single_emoji", "test_forbidden_word.ThoughtDenialTest.test_replace_thinking_emoji_with_custom.test_replace_thinking_emoji_with_custom", "test_drone_configuration.DroneManagementTest.test_toggle_free_storage_not_drone.test_toggle_free_storage_not_drone", "test_mantra.TestMantra.test_check_for_mantra_no_battery.test_check_for_mantra_no_battery", "test_storage.StorageTest.test_store_initiator_not_found.test_store_initiator_not_found", "test_webhook.TestWebhook.test_attachments_are_converted_into_file_objects.test_attachments_are_converted_into_file_objects", "test_webhook.TestWebhook.test_message_proxied_if_message_content_altered.test_message_proxied_if_message_content_altered", "test_storage.StorageTest.test_format_time.test_format_time", "test_react.ReactTest.test_check_for_name.test_check_for_name", "test_speech_optimization.TestSpeechOptimization.test_plain_id_code.test_plain_id_code", "test_storage.StorageTest.test_storage_drone_not_found.test_storage_drone_not_found", "test_mantra.TestMantra.test_increase_battery_by_five_percent.test_increase_battery_by_five_percent", "test_speech_optimization.TestGetStatusType.test_returns_informative_if_informative_text.test_returns_informative_if_informative_text", "test_toggle_permissions.TestTogglePermissions.test_self_can_toggle_if_not_otherwise_controlled.test_self_can_toggle_if_not_otherwise_controlled", "test_bot_utils.TestBotUtils.test_get_id.test_get_id", "test_forbidden_word.ThoughtDenialTest.test_remove_long_thought_from_message.test_remove_long_thought_from_message", "test_orders_reporting.OrdersReportingTest.test_report_order_not_a_drone.test_report_order_not_a_drone", "test_drone_os_status.DroneOSStatusTest.test_status_not_trusted.test_status_not_trusted", "test_transaction.TestTransaction.test_outer_rollback.test_outer_rollback", "test_react.ReactTest.test_delete_marked_message_with_different_configuration.test_delete_marked_message_with_different_configuration", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_no_status.test_optimized_drone_no_status", "test_stoplights.StoplightsTest.test_alert_mods_and_return_true_if_clock_in_message.test_alert_mods_and_return_true_if_clock_in_message", "test_speech_optimization.TestSpeechOptimization.test_status_codes_transform_message_copy.test_status_codes_transform_message_copy", "test_react.ReactTest.test_associate_can_not_delete.test_associate_can_not_delete", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_mantra.test_optimized_drone_mantra", "test_add_voice.AddVoiceTest.test_granted.test_granted", "test_storage.StorageTest.test_storage_message_duration_too_long.test_storage_message_duration_too_long", "test_assign.AssignmentTest.test_wrong_channel.test_wrong_channel", "test_orders_reporting.OrdersReportingTest.test_report_order_already_has_an_order.test_report_order_already_has_an_order", "test_add_voice.AddVoiceTest.test_not_a_member.test_not_a_member", "test_forbidden_word.ThoughtDenialTest.test_forbidden_word_ignores_non_drones.test_forbidden_word_ignores_non_drones", "test_speech_optimization.TestGetStatusType.test_returns_plain_if_no_informative_text.test_returns_plain_if_no_informative_text", "test_drone_configuration.DroneManagementTest.test_toggle_free_storage_enable.test_toggle_free_storage_enable", "test_webhook.TestWebhook.test_message_not_proxied_if_message_not_altered.test_message_not_proxied_if_message_not_altered", "test_speech_optimization.TestGetStatusType.test_returns_addr_by_id_plain_if_no_informative.test_returns_addr_by_id_plain_if_no_informative", "test_storage.StorageTest.test_message_format.test_message_format", "test_speech_optimization.TestSpeechOptimization.test_delete_mismatching_id_messages.test_delete_mismatching_id_messages", "test_toggle_permissions.TestTogglePermissions.test_trusted_users_can_toggle.test_trusted_users_can_toggle", "test_drone_os_status.DroneOSStatusTest.test_status_on_self.test_status_on_self", "test_assign.AssignmentTest.test_request_reject.test_request_reject", "test_storage.StorageTest.test_storage_message_wrong_channel.test_storage_message_wrong_channel", "test_display_names.TestDisplayNames.test_display_name_returns_false_when_unoptimized_drone_require_no_updates.test_display_name_returns_false_when_unoptimized_drone_require_no_updates", "test_emote.TestEmote.test_generate_big_text_generates_big_text_normally.test_generate_big_text_generates_big_text_normally", "test_orders_reporting.OrdersReportingTest.test_report_order.test_report_order", "test_orders_reporting.OrdersReportingTest.test_check_for_completed_orders_none_completed.test_check_for_completed_orders_none_completed", "test_battery.TestBattery.test_start_battery_drain.test_start_battery_drain", "test_storage.StorageTest.test_storage_message_invalid.test_storage_message_invalid", "test_mantra.TestMantra.test_increment_counter.test_increment_counter", "test_emote.TestEmote.test_generator_removes_custom_emojis_from_input.test_generator_removes_custom_emojis_from_input", "test_storage.StorageTest.test_release.test_release", "test_display_names.TestDisplayNames.test_display_name_returns_false_when_optimized_drone_require_no_updates.test_display_name_returns_false_when_optimized_drone_require_no_updates", "test_speech_optimization_enforcement.TestSpeechOptimizationEnforcement.test_optimized_drone_informative_id_status.test_optimized_drone_informative_id_status", "test_mantra.TestMantra.test_check_for_mantra.test_check_for_mantra", "test_speech_optimization.TestBuildStatusMessage.test_informative_message.test_informative_message", "test_storage.StorageTest.test_release_unauthorized.test_release_unauthorized", "test_storage.StorageTest.test_store_drone_is_forged.test_store_drone_is_forged", "test_mantra.TestMantra.test_increase_battery_by_five_percent_capped.test_increase_battery_by_five_percent_capped", "test_toggle_permissions.TestTogglePermissions.test_mxtress_can_toggle.test_mxtress_can_toggle"], "language": "python", "test_command": "source /saved/ENV || source /saved/*/ENV && /opt/hostedtoolcache/Python/3.11.13/x64/bin/python3 /app/repo/unittest_loader_no_traceback.py ./test ;", "test_output_parser": "python/parse_log_unittest", "image_storage_uri": "vmvm-registry.fbinfra.net/repomate_image_activ_python_unittest/hexcorpprogramming_hexcorpdiscordai:cc355bbf9e694593c94558ebaf759e147d1abc5c", "patch": "", "test_patch": "", "hints_text": ""}
